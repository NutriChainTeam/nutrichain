const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BqVWUJ0_.js","assets/ccip-ChvAwLYC.js","assets/secp256k1-BiZdatX5.js","assets/embedded-wallet-Djm_LLLR.js","assets/index-D1QK5nkj.js","assets/index-Cm2rnjkP.js","assets/if-defined-B62JGHpA.js","assets/ref-BbokaMLN.js","assets/index-Ct7z9X_3.js","assets/HelpersUtil-cWTamaid.js","assets/ConstantsUtil-COJBkkkj.js","assets/index-DHS8_QTp.js","assets/index-tC4FIWcp.js","assets/index-3e7z63an.js","assets/index-BKxxNevL.js","assets/index-DvzXrmTK.js","assets/NavigationUtil-DmfK5sOV.js","assets/email-DI9RyE3x.js","assets/index-Bv2rfscC.js","assets/index-DlsqXZAh.js","assets/socials-Bmteaov1.js","assets/index-BgqwJo9X.js","assets/index-CucOK44s.js","assets/index-BUVJjIpA.js","assets/index-EPBJp8Gd.js","assets/index-Jc5aXxLN.js","assets/swaps-BW_7-F1C.js","assets/index-BdNWwk0h.js","assets/index-Cfufyr7p.js","assets/SwapController-Xv9-jSLQ.js","assets/index-BavMVg0Z.js","assets/send-DUY5ceie.js","assets/index-CfpuMtvc.js","assets/index-DbyZVgul.js","assets/index-BRaGckxI.js","assets/index-DfC4siOl.js","assets/receive-DUEmXCFR.js","assets/onramp-DFgcB3oh.js","assets/index-DrzApZEH.js","assets/index-CKFumUyH.js","assets/index-DWJUlgCO.js","assets/pay-with-exchange-aGg-155W.js","assets/ExchangeController-Bp6S1Xx4.js","assets/transactions-Dhp5CzHm.js","assets/index-CaiZsYJd.js","assets/index-DWsRtG6E.js","assets/index-DOWKVF6h.js","assets/index-ZZoYeELI.js","assets/index-Dhde9jAi.js","assets/data-capture-CHAso8r0.js","assets/features-D0q2bCi9.js","assets/index-CYQtIsNI.js","assets/index-DslLmX9Z.js","assets/w3m-modal-BxdDK8Ou.js","assets/ccip-CyvWl8UC.js","assets/localBatchGatewayRequest-Ba1MMDRX.js","assets/index-DpHkCDZj.js","assets/parseSignature-CJV5s1by.js","assets/secp256k1-BlX8f6SC.js","assets/hashTypedData-BLt0TYeh.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var xr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function d$(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var z_={exports:{}},m0={};var Yx;function KH(){if(Yx)return m0;Yx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var c in s)c!=="key"&&(i[c]=s[c])}else i=s;return s=i.ref,{$$typeof:e,type:r,key:a,ref:s!==void 0?s:null,props:i}}return m0.Fragment=t,m0.jsx=n,m0.jsxs=n,m0}var Zx;function YH(){return Zx||(Zx=1,z_.exports=KH()),z_.exports}var St=YH(),H_={exports:{}},It={};var Xx;function ZH(){if(Xx)return It;Xx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function R(M,z,J){this.props=M,this.context=z,this.refs=A,this.updater=J||v}R.prototype.isReactComponent={},R.prototype.setState=function(M,z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,z,"setState")},R.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=R.prototype;function I(M,z,J){this.props=M,this.context=z,this.refs=A,this.updater=J||v}var N=I.prototype=new k;N.constructor=I,E(N,R.prototype),N.isPureReactComponent=!0;var S=Array.isArray;function x(){}var P={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function j(M,z,J){var D=J.ref;return{$$typeof:e,type:M,key:z,ref:D!==void 0?D:null,props:J}}function W(M,z){return j(M.type,z,M.props)}function Y(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function G(M){var z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return z[J]})}var K=/\/+/g;function Z(M,z){return typeof M=="object"&&M!==null&&M.key!=null?G(""+M.key):z.toString(36)}function y(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(x,x):(M.status="pending",M.then(function(z){M.status==="pending"&&(M.status="fulfilled",M.value=z)},function(z){M.status==="pending"&&(M.status="rejected",M.reason=z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function _(M,z,J,D,Q){var le=typeof M;(le==="undefined"||le==="boolean")&&(M=null);var be=!1;if(M===null)be=!0;else switch(le){case"bigint":case"string":case"number":be=!0;break;case"object":switch(M.$$typeof){case e:case t:be=!0;break;case h:return be=M._init,_(be(M._payload),z,J,D,Q)}}if(be)return Q=Q(M),be=D===""?"."+Z(M,0):D,S(Q)?(J="",be!=null&&(J=be.replace(K,"$&/")+"/"),_(Q,z,J,"",function(we){return we})):Q!=null&&(Y(Q)&&(Q=W(Q,J+(Q.key==null||M&&M.key===Q.key?"":(""+Q.key).replace(K,"$&/")+"/")+be)),z.push(Q)),1;be=0;var $e=D===""?".":D+":";if(S(M))for(var _e=0;_e<M.length;_e++)D=M[_e],le=$e+Z(D,_e),be+=_(D,z,J,le,Q);else if(_e=w(M),typeof _e=="function")for(M=_e.call(M),_e=0;!(D=M.next()).done;)D=D.value,le=$e+Z(D,_e++),be+=_(D,z,J,le,Q);else if(le==="object"){if(typeof M.then=="function")return _(y(M),z,J,D,Q);throw z=String(M),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return be}function T(M,z,J){if(M==null)return M;var D=[],Q=0;return _(M,D,"","",function(le){return z.call(J,le,Q++)}),D}function $(M){if(M._status===-1){var z=M._result;z=z(),z.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=z)}if(M._status===1)return M._result.default;throw M._result}var U=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},q={map:T,forEach:function(M,z,J){T(M,function(){z.apply(this,arguments)},J)},count:function(M){var z=0;return T(M,function(){z++}),z},toArray:function(M){return T(M,function(z){return z})||[]},only:function(M){if(!Y(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return It.Activity=m,It.Children=q,It.Component=R,It.Fragment=n,It.Profiler=s,It.PureComponent=I,It.StrictMode=r,It.Suspense=u,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,It.__COMPILER_RUNTIME={__proto__:null,c:function(M){return P.H.useMemoCache(M)}},It.cache=function(M){return function(){return M.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(M,z,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var D=E({},M.props),Q=M.key;if(z!=null)for(le in z.key!==void 0&&(Q=""+z.key),z)!L.call(z,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&z.ref===void 0||(D[le]=z[le]);var le=arguments.length-2;if(le===1)D.children=J;else if(1<le){for(var be=Array(le),$e=0;$e<le;$e++)be[$e]=arguments[$e+2];D.children=be}return j(M.type,Q,D)},It.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:i,_context:M},M},It.createElement=function(M,z,J){var D,Q={},le=null;if(z!=null)for(D in z.key!==void 0&&(le=""+z.key),z)L.call(z,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(Q[D]=z[D]);var be=arguments.length-2;if(be===1)Q.children=J;else if(1<be){for(var $e=Array(be),_e=0;_e<be;_e++)$e[_e]=arguments[_e+2];Q.children=$e}if(M&&M.defaultProps)for(D in be=M.defaultProps,be)Q[D]===void 0&&(Q[D]=be[D]);return j(M,le,Q)},It.createRef=function(){return{current:null}},It.forwardRef=function(M){return{$$typeof:c,render:M}},It.isValidElement=Y,It.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:$}},It.memo=function(M,z){return{$$typeof:d,type:M,compare:z===void 0?null:z}},It.startTransition=function(M){var z=P.T,J={};P.T=J;try{var D=M(),Q=P.S;Q!==null&&Q(J,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(x,U)}catch(le){U(le)}finally{z!==null&&J.types!==null&&(z.types=J.types),P.T=z}},It.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},It.use=function(M){return P.H.use(M)},It.useActionState=function(M,z,J){return P.H.useActionState(M,z,J)},It.useCallback=function(M,z){return P.H.useCallback(M,z)},It.useContext=function(M){return P.H.useContext(M)},It.useDebugValue=function(){},It.useDeferredValue=function(M,z){return P.H.useDeferredValue(M,z)},It.useEffect=function(M,z){return P.H.useEffect(M,z)},It.useEffectEvent=function(M){return P.H.useEffectEvent(M)},It.useId=function(){return P.H.useId()},It.useImperativeHandle=function(M,z,J){return P.H.useImperativeHandle(M,z,J)},It.useInsertionEffect=function(M,z){return P.H.useInsertionEffect(M,z)},It.useLayoutEffect=function(M,z){return P.H.useLayoutEffect(M,z)},It.useMemo=function(M,z){return P.H.useMemo(M,z)},It.useOptimistic=function(M,z){return P.H.useOptimistic(M,z)},It.useReducer=function(M,z,J){return P.H.useReducer(M,z,J)},It.useRef=function(M){return P.H.useRef(M)},It.useState=function(M){return P.H.useState(M)},It.useSyncExternalStore=function(M,z,J){return P.H.useSyncExternalStore(M,z,J)},It.useTransition=function(){return P.H.useTransition()},It.version="19.2.3",It}var Jx;function kg(){return Jx||(Jx=1,H_.exports=ZH()),H_.exports}var Gt=kg();const su=Wc(Gt);var q_={exports:{}},g0={},W_={exports:{}},V_={};var Qx;function XH(){return Qx||(Qx=1,(function(e){function t(_,T){var $=_.length;_.push(T);e:for(;0<$;){var U=$-1>>>1,q=_[U];if(0<s(q,T))_[U]=T,_[$]=q,$=U;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var T=_[0],$=_.pop();if($!==T){_[0]=$;e:for(var U=0,q=_.length,M=q>>>1;U<M;){var z=2*(U+1)-1,J=_[z],D=z+1,Q=_[D];if(0>s(J,$))D<q&&0>s(Q,J)?(_[U]=Q,_[D]=$,U=D):(_[U]=J,_[z]=$,U=z);else if(D<q&&0>s(Q,$))_[U]=Q,_[D]=$,U=D;else break e}}return T}function s(_,T){var $=_.sortIndex-T.sortIndex;return $!==0?$:_.id-T.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var u=[],d=[],h=1,m=null,g=3,w=!1,v=!1,E=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function N(_){for(var T=n(d);T!==null;){if(T.callback===null)r(d);else if(T.startTime<=_)r(d),T.sortIndex=T.expirationTime,t(u,T);else break;T=n(d)}}function S(_){if(E=!1,N(_),!v)if(n(u)!==null)v=!0,x||(x=!0,G());else{var T=n(d);T!==null&&y(S,T.startTime-_)}}var x=!1,P=-1,L=5,j=-1;function W(){return A?!0:!(e.unstable_now()-j<L)}function Y(){if(A=!1,x){var _=e.unstable_now();j=_;var T=!0;try{e:{v=!1,E&&(E=!1,k(P),P=-1),w=!0;var $=g;try{t:{for(N(_),m=n(u);m!==null&&!(m.expirationTime>_&&W());){var U=m.callback;if(typeof U=="function"){m.callback=null,g=m.priorityLevel;var q=U(m.expirationTime<=_);if(_=e.unstable_now(),typeof q=="function"){m.callback=q,N(_),T=!0;break t}m===n(u)&&r(u),N(_)}else r(u);m=n(u)}if(m!==null)T=!0;else{var M=n(d);M!==null&&y(S,M.startTime-_),T=!1}}break e}finally{m=null,g=$,w=!1}T=void 0}}finally{T?G():x=!1}}}var G;if(typeof I=="function")G=function(){I(Y)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Z=K.port2;K.port1.onmessage=Y,G=function(){Z.postMessage(null)}}else G=function(){R(Y,0)};function y(_,T){P=R(function(){_(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(_){switch(g){case 1:case 2:case 3:var T=3;break;default:T=g}var $=g;g=T;try{return _()}finally{g=$}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(_,T){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var $=g;g=_;try{return T()}finally{g=$}},e.unstable_scheduleCallback=function(_,T,$){var U=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?U+$:U):$=U,_){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,_={id:h++,callback:T,priorityLevel:_,startTime:$,expirationTime:q,sortIndex:-1},$>U?(_.sortIndex=$,t(d,_),n(u)===null&&_===n(d)&&(E?(k(P),P=-1):E=!0,y(S,$-U))):(_.sortIndex=q,t(u,_),v||w||(v=!0,x||(x=!0,G()))),_},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(_){var T=g;return function(){var $=g;g=T;try{return _.apply(this,arguments)}finally{g=$}}}})(V_)),V_}var e3;function JH(){return e3||(e3=1,W_.exports=XH()),W_.exports}var G_={exports:{}},ms={};var t3;function QH(){if(t3)return ms;t3=1;var e=kg();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(u,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:u,containerInfo:d,implementation:h}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ms.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(u,d,null,h)},ms.flushSync=function(u){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=h,r.d.f()}},ms.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},ms.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},ms.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,m=c(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:w}):h==="script"&&r.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ms.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},ms.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=c(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ms.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},ms.requestFormReset=function(u){r.d.r(u)},ms.unstable_batchedUpdates=function(u,d){return u(d)},ms.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},ms.useFormStatus=function(){return a.H.useHostTransitionStatus()},ms.version="19.2.3",ms}var n3;function eq(){if(n3)return G_.exports;n3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),G_.exports=QH(),G_.exports}var r3;function tq(){if(r3)return g0;r3=1;var e=JH(),t=kg(),n=eq();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=i(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,p=l;;){var b=f.return;if(b===null)break;var C=b.alternate;if(C===null){if(p=b.return,p!==null){f=p;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===f)return u(b),o;if(C===p)return u(b),l;C=C.sibling}throw Error(r(188))}if(f.return!==p.return)f=b,p=C;else{for(var O=!1,H=b.child;H;){if(H===f){O=!0,f=b,p=C;break}if(H===p){O=!0,p=b,f=C;break}H=H.sibling}if(!O){for(H=C.child;H;){if(H===f){O=!0,f=C,p=b;break}if(H===p){O=!0,p=C,f=b;break}H=H.sibling}if(!O)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=Y&&o[Y]||o["@@iterator"],typeof o=="function"?o:null)}var K=Symbol.for("react.client.reference");function Z(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===K?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case S:return"Suspense";case x:return"SuspenseList";case j:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case I:return o.displayName||"Context";case k:return(o._context.displayName||"Context")+".Consumer";case N:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return l=o.displayName||null,l!==null?l:Z(o.type)||"Memo";case L:l=o._payload,o=o._init;try{return Z(o(l))}catch{}}return null}var y=Array.isArray,_=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},U=[],q=-1;function M(o){return{current:o}}function z(o){0>q||(o.current=U[q],U[q]=null,q--)}function J(o,l){q++,U[q]=o.current,o.current=l}var D=M(null),Q=M(null),le=M(null),be=M(null);function $e(o,l){switch(J(le,l),J(Q,o),J(D,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?bx(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=bx(l),o=wx(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}z(D),J(D,o)}function _e(){z(D),z(Q),z(le)}function we(o){o.memoizedState!==null&&J(be,o);var l=D.current,f=wx(l,o.type);l!==f&&(J(Q,o),J(D,f))}function je(o){Q.current===o&&(z(D),z(Q)),be.current===o&&(z(be),d0._currentValue=$)}var Et,mn;function kt(o){if(Et===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Et=l&&l[1]||"",mn=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+o+mn}var Vn=!1;function vr(o,l){if(!o||Vn)return"";Vn=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ce){var ae=ce}Reflect.construct(o,[],ge)}else{try{ge.call()}catch(ce){ae=ce}o.call(ge.prototype)}}else{try{throw Error()}catch(ce){ae=ce}(ge=o())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ce){if(ce&&ae&&typeof ce.stack=="string")return[ce.stack,ae.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),O=C[0],H=C[1];if(O&&H){var X=O.split(`
`),se=H.split(`
`);for(b=p=0;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;for(;b<se.length&&!se[b].includes("DetermineComponentFrameRoot");)b++;if(p===X.length||b===se.length)for(p=X.length-1,b=se.length-1;1<=p&&0<=b&&X[p]!==se[b];)b--;for(;1<=p&&0<=b;p--,b--)if(X[p]!==se[b]){if(p!==1||b!==1)do if(p--,b--,0>b||X[p]!==se[b]){var he=`
`+X[p].replace(" at new "," at ");return o.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",o.displayName)),he}while(1<=p&&0<=b);break}}}finally{Vn=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?kt(f):""}function Fn(o,l){switch(o.tag){case 26:case 27:case 5:return kt(o.type);case 16:return kt("Lazy");case 13:return o.child!==l&&l!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return vr(o.type,!1);case 11:return vr(o.type.render,!1);case 1:return vr(o.type,!0);case 31:return kt("Activity");default:return""}}function Qn(o){try{var l="",f=null;do l+=Fn(o,f),f=o,o=o.return;while(o);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var df=Object.prototype.hasOwnProperty,ff=e.unstable_scheduleCallback,Iu=e.unstable_cancelCallback,ly=e.unstable_shouldYield,uy=e.unstable_requestPaint,ps=e.unstable_now,dy=e.unstable_getCurrentPriorityLevel,Cp=e.unstable_ImmediatePriority,fy=e.unstable_UserBlockingPriority,hf=e.unstable_NormalPriority,Ov=e.unstable_LowPriority,hy=e.unstable_IdlePriority,Rj=e.log,xj=e.unstable_setDisableYieldValue,_p=null,vi=null;function Yc(o){if(typeof Rj=="function"&&xj(o),vi&&typeof vi.setStrictMode=="function")try{vi.setStrictMode(_p,o)}catch{}}var Ci=Math.clz32?Math.clz32:Uj,kj=Math.log,Pj=Math.LN2;function Uj(o){return o>>>=0,o===0?32:31-(kj(o)/Pj|0)|0}var py=256,my=262144,gy=4194304;function Ou(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function yy(o,l,f){var p=o.pendingLanes;if(p===0)return 0;var b=0,C=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var H=p&134217727;return H!==0?(p=H&~C,p!==0?b=Ou(p):(O&=H,O!==0?b=Ou(O):f||(f=H&~o,f!==0&&(b=Ou(f))))):(H=p&~C,H!==0?b=Ou(H):O!==0?b=Ou(O):f||(f=p&~o,f!==0&&(b=Ou(f)))),b===0?0:l!==0&&l!==b&&(l&C)===0&&(C=b&-b,f=l&-l,C>=f||C===32&&(f&4194048)!==0)?l:b}function Ap(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function $j(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QT(){var o=gy;return gy<<=1,(gy&62914560)===0&&(gy=4194304),o}function Rv(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Sp(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Dj(o,l,f,p,b,C){var O=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var H=o.entanglements,X=o.expirationTimes,se=o.hiddenUpdates;for(f=O&~f;0<f;){var he=31-Ci(f),ge=1<<he;H[he]=0,X[he]=-1;var ae=se[he];if(ae!==null)for(se[he]=null,he=0;he<ae.length;he++){var ce=ae[he];ce!==null&&(ce.lane&=-536870913)}f&=~ge}p!==0&&eI(o,p,0),C!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=C&~(O&~l))}function eI(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-Ci(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|f&261930}function tI(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var p=31-Ci(f),b=1<<p;b&l|o[p]&l&&(o[p]|=l),f&=~b}}function nI(o,l){var f=l&-l;return f=(f&42)!==0?1:xv(f),(f&(o.suspendedLanes|l))!==0?0:f}function xv(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function kv(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function rI(){var o=T.p;return o!==0?o:(o=window.event,o===void 0?32:zx(o.type))}function sI(o,l){var f=T.p;try{return T.p=o,l()}finally{T.p=f}}var Zc=Math.random().toString(36).slice(2),es="__reactFiber$"+Zc,Fs="__reactProps$"+Zc,pf="__reactContainer$"+Zc,Pv="__reactEvents$"+Zc,Mj="__reactListeners$"+Zc,Lj="__reactHandles$"+Zc,iI="__reactResources$"+Zc,Np="__reactMarker$"+Zc;function Uv(o){delete o[es],delete o[Fs],delete o[Pv],delete o[Mj],delete o[Lj]}function mf(o){var l=o[es];if(l)return l;for(var f=o.parentNode;f;){if(l=f[pf]||f[es]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Nx(o);o!==null;){if(f=o[es])return f;o=Nx(o)}return l}o=f,f=o.parentNode}return null}function gf(o){if(o=o[es]||o[pf]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Tp(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function yf(o){var l=o[iI];return l||(l=o[iI]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function qr(o){o[Np]=!0}var aI=new Set,oI={};function Ru(o,l){bf(o,l),bf(o+"Capture",l)}function bf(o,l){for(oI[o]=l,o=0;o<l.length;o++)aI.add(l[o])}var Bj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cI={},lI={};function Fj(o){return df.call(lI,o)?!0:df.call(cI,o)?!1:Bj.test(o)?lI[o]=!0:(cI[o]=!0,!1)}function by(o,l,f){if(Fj(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function wy(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function Bo(o,l,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+p)}}function Gi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function uI(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function jj(o,l,f){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,C=p.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(O){f=""+O,C.call(this,O)}}),Object.defineProperty(o,l,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(O){f=""+O},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function $v(o){if(!o._valueTracker){var l=uI(o)?"checked":"value";o._valueTracker=jj(o,l,""+o[l])}}function dI(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),p="";return o&&(p=uI(o)?o.checked?"true":"false":o.value),o=p,o!==f?(l.setValue(o),!0):!1}function Ey(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var zj=/[\n"\\]/g;function Ki(o){return o.replace(zj,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Dv(o,l,f,p,b,C,O,H){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),l!=null?O==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Gi(l)):o.value!==""+Gi(l)&&(o.value=""+Gi(l)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),l!=null?Mv(o,O,Gi(l)):f!=null?Mv(o,O,Gi(f)):p!=null&&o.removeAttribute("value"),b==null&&C!=null&&(o.defaultChecked=!!C),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?o.name=""+Gi(H):o.removeAttribute("name")}function fI(o,l,f,p,b,C,O,H){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),l!=null||f!=null){if(!(C!=="submit"&&C!=="reset"||l!=null)){$v(o);return}f=f!=null?""+Gi(f):"",l=l!=null?""+Gi(l):f,H||l===o.value||(o.value=l),o.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=H?o.checked:!!p,o.defaultChecked=!!p,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O),$v(o)}function Mv(o,l,f){l==="number"&&Ey(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function wf(o,l,f,p){if(o=o.options,l){l={};for(var b=0;b<f.length;b++)l["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=l.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&p&&(o[f].defaultSelected=!0)}else{for(f=""+Gi(f),l=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function hI(o,l,f){if(l!=null&&(l=""+Gi(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+Gi(f):""}function pI(o,l,f,p){if(l==null){if(p!=null){if(f!=null)throw Error(r(92));if(y(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),l=f}f=Gi(l),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p),$v(o)}function Ef(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var Hj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mI(o,l,f){var p=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,f):typeof f!="number"||f===0||Hj.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function gI(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&f[b]!==p&&mI(o,b,p)}else for(var C in l)l.hasOwnProperty(C)&&mI(o,C,l[C])}function Lv(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vy(o){return Wj.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Fo(){}var Bv=null;function Fv(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var vf=null,Cf=null;function yI(o){var l=gf(o);if(l&&(o=l.stateNode)){var f=o[Fs]||null;e:switch(o=l.stateNode,l.type){case"input":if(Dv(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ki(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var p=f[l];if(p!==o&&p.form===o.form){var b=p[Fs]||null;if(!b)throw Error(r(90));Dv(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<f.length;l++)p=f[l],p.form===o.form&&dI(p)}break e;case"textarea":hI(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&wf(o,!!f.multiple,l,!1)}}}var jv=!1;function bI(o,l,f){if(jv)return o(l,f);jv=!0;try{var p=o(l);return p}finally{if(jv=!1,(vf!==null||Cf!==null)&&(cb(),vf&&(l=vf,o=Cf,Cf=vf=null,yI(l),o)))for(l=0;l<o.length;l++)yI(o[l])}}function Ip(o,l){var f=o.stateNode;if(f===null)return null;var p=f[Fs]||null;if(p===null)return null;f=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var jo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zv=!1;if(jo)try{var Op={};Object.defineProperty(Op,"passive",{get:function(){zv=!0}}),window.addEventListener("test",Op,Op),window.removeEventListener("test",Op,Op)}catch{zv=!1}var Xc=null,Hv=null,Cy=null;function wI(){if(Cy)return Cy;var o,l=Hv,f=l.length,p,b="value"in Xc?Xc.value:Xc.textContent,C=b.length;for(o=0;o<f&&l[o]===b[o];o++);var O=f-o;for(p=1;p<=O&&l[f-p]===b[C-p];p++);return Cy=b.slice(o,1<p?1-p:void 0)}function _y(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ay(){return!0}function EI(){return!1}function js(o){function l(f,p,b,C,O){this._reactName=f,this._targetInst=b,this.type=p,this.nativeEvent=C,this.target=O,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(f=o[H],this[H]=f?f(C):C[H]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ay:EI,this.isPropagationStopped=EI,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ay)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ay)},persist:function(){},isPersistent:Ay}),l}var xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sy=js(xu),Rp=m({},xu,{view:0,detail:0}),Vj=js(Rp),qv,Wv,xp,Ny=m({},Rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==xp&&(xp&&o.type==="mousemove"?(qv=o.screenX-xp.screenX,Wv=o.screenY-xp.screenY):Wv=qv=0,xp=o),qv)},movementY:function(o){return"movementY"in o?o.movementY:Wv}}),vI=js(Ny),Gj=m({},Ny,{dataTransfer:0}),Kj=js(Gj),Yj=m({},Rp,{relatedTarget:0}),Vv=js(Yj),Zj=m({},xu,{animationName:0,elapsedTime:0,pseudoElement:0}),Xj=js(Zj),Jj=m({},xu,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Qj=js(Jj),ez=m({},xu,{data:0}),CI=js(ez),tz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sz(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=rz[o])?!!l[o]:!1}function Gv(){return sz}var iz=m({},Rp,{key:function(o){if(o.key){var l=tz[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=_y(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?nz[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gv,charCode:function(o){return o.type==="keypress"?_y(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_y(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),az=js(iz),oz=m({},Ny,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_I=js(oz),cz=m({},Rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gv}),lz=js(cz),uz=m({},xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),dz=js(uz),fz=m({},Ny,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),hz=js(fz),pz=m({},xu,{newState:0,oldState:0}),mz=js(pz),gz=[9,13,27,32],Kv=jo&&"CompositionEvent"in window,kp=null;jo&&"documentMode"in document&&(kp=document.documentMode);var yz=jo&&"TextEvent"in window&&!kp,AI=jo&&(!Kv||kp&&8<kp&&11>=kp),SI=" ",NI=!1;function TI(o,l){switch(o){case"keyup":return gz.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function II(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var _f=!1;function bz(o,l){switch(o){case"compositionend":return II(l);case"keypress":return l.which!==32?null:(NI=!0,SI);case"textInput":return o=l.data,o===SI&&NI?null:o;default:return null}}function wz(o,l){if(_f)return o==="compositionend"||!Kv&&TI(o,l)?(o=wI(),Cy=Hv=Xc=null,_f=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return AI&&l.locale!=="ko"?null:l.data;default:return null}}var Ez={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OI(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Ez[o.type]:l==="textarea"}function RI(o,l,f,p){vf?Cf?Cf.push(p):Cf=[p]:vf=p,l=mb(l,"onChange"),0<l.length&&(f=new Sy("onChange","change",null,f,p),o.push({event:f,listeners:l}))}var Pp=null,Up=null;function vz(o){fx(o,0)}function Ty(o){var l=Tp(o);if(dI(l))return o}function xI(o,l){if(o==="change")return l}var kI=!1;if(jo){var Yv;if(jo){var Zv="oninput"in document;if(!Zv){var PI=document.createElement("div");PI.setAttribute("oninput","return;"),Zv=typeof PI.oninput=="function"}Yv=Zv}else Yv=!1;kI=Yv&&(!document.documentMode||9<document.documentMode)}function UI(){Pp&&(Pp.detachEvent("onpropertychange",$I),Up=Pp=null)}function $I(o){if(o.propertyName==="value"&&Ty(Up)){var l=[];RI(l,Up,o,Fv(o)),bI(vz,l)}}function Cz(o,l,f){o==="focusin"?(UI(),Pp=l,Up=f,Pp.attachEvent("onpropertychange",$I)):o==="focusout"&&UI()}function _z(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ty(Up)}function Az(o,l){if(o==="click")return Ty(l)}function Sz(o,l){if(o==="input"||o==="change")return Ty(l)}function Nz(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var _i=typeof Object.is=="function"?Object.is:Nz;function $p(o,l){if(_i(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),p=Object.keys(l);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var b=f[p];if(!df.call(l,b)||!_i(o[b],l[b]))return!1}return!0}function DI(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function MI(o,l){var f=DI(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=l&&p>=l)return{node:f,offset:l-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=DI(f)}}function LI(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?LI(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function BI(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Ey(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Ey(o.document)}return l}function Xv(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var Tz=jo&&"documentMode"in document&&11>=document.documentMode,Af=null,Jv=null,Dp=null,Qv=!1;function FI(o,l,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Qv||Af==null||Af!==Ey(p)||(p=Af,"selectionStart"in p&&Xv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Dp&&$p(Dp,p)||(Dp=p,p=mb(Jv,"onSelect"),0<p.length&&(l=new Sy("onSelect","select",null,l,f),o.push({event:l,listeners:p}),l.target=Af)))}function ku(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Sf={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionrun:ku("Transition","TransitionRun"),transitionstart:ku("Transition","TransitionStart"),transitioncancel:ku("Transition","TransitionCancel"),transitionend:ku("Transition","TransitionEnd")},eC={},jI={};jo&&(jI=document.createElement("div").style,"AnimationEvent"in window||(delete Sf.animationend.animation,delete Sf.animationiteration.animation,delete Sf.animationstart.animation),"TransitionEvent"in window||delete Sf.transitionend.transition);function Pu(o){if(eC[o])return eC[o];if(!Sf[o])return o;var l=Sf[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in jI)return eC[o]=l[f];return o}var zI=Pu("animationend"),HI=Pu("animationiteration"),qI=Pu("animationstart"),Iz=Pu("transitionrun"),Oz=Pu("transitionstart"),Rz=Pu("transitioncancel"),WI=Pu("transitionend"),VI=new Map,tC="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tC.push("scrollEnd");function Ra(o,l){VI.set(o,l),Ru(l,[o])}var Iy=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Yi=[],Nf=0,nC=0;function Oy(){for(var o=Nf,l=nC=Nf=0;l<o;){var f=Yi[l];Yi[l++]=null;var p=Yi[l];Yi[l++]=null;var b=Yi[l];Yi[l++]=null;var C=Yi[l];if(Yi[l++]=null,p!==null&&b!==null){var O=p.pending;O===null?b.next=b:(b.next=O.next,O.next=b),p.pending=b}C!==0&&GI(f,b,C)}}function Ry(o,l,f,p){Yi[Nf++]=o,Yi[Nf++]=l,Yi[Nf++]=f,Yi[Nf++]=p,nC|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function rC(o,l,f,p){return Ry(o,l,f,p),xy(o)}function Uu(o,l){return Ry(o,null,null,l),xy(o)}function GI(o,l,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var b=!1,C=o.return;C!==null;)C.childLanes|=f,p=C.alternate,p!==null&&(p.childLanes|=f),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(b=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,b&&l!==null&&(b=31-Ci(f),o=C.hiddenUpdates,p=o[b],p===null?o[b]=[l]:p.push(l),l.lane=f|536870912),C):null}function xy(o){if(50<s0)throw s0=0,f_=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Tf={};function xz(o,l,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(o,l,f,p){return new xz(o,l,f,p)}function sC(o){return o=o.prototype,!(!o||!o.isReactComponent)}function zo(o,l){var f=o.alternate;return f===null?(f=Ai(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function KI(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function ky(o,l,f,p,b,C){var O=0;if(p=o,typeof o=="function")sC(o)&&(O=1);else if(typeof o=="string")O=DH(o,f,D.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case j:return o=Ai(31,f,l,b),o.elementType=j,o.lanes=C,o;case E:return $u(f.children,b,C,l);case A:O=8,b|=24;break;case R:return o=Ai(12,f,l,b|2),o.elementType=R,o.lanes=C,o;case S:return o=Ai(13,f,l,b),o.elementType=S,o.lanes=C,o;case x:return o=Ai(19,f,l,b),o.elementType=x,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:O=10;break e;case k:O=9;break e;case N:O=11;break e;case P:O=14;break e;case L:O=16,p=null;break e}O=29,f=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=Ai(O,f,l,b),l.elementType=o,l.type=p,l.lanes=C,l}function $u(o,l,f,p){return o=Ai(7,o,p,l),o.lanes=f,o}function iC(o,l,f){return o=Ai(6,o,null,l),o.lanes=f,o}function YI(o){var l=Ai(18,null,null,0);return l.stateNode=o,l}function aC(o,l,f){return l=Ai(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var ZI=new WeakMap;function Zi(o,l){if(typeof o=="object"&&o!==null){var f=ZI.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Qn(l)},ZI.set(o,l),l)}return{value:o,source:l,stack:Qn(l)}}var If=[],Of=0,Py=null,Mp=0,Xi=[],Ji=0,Jc=null,io=1,ao="";function Ho(o,l){If[Of++]=Mp,If[Of++]=Py,Py=o,Mp=l}function XI(o,l,f){Xi[Ji++]=io,Xi[Ji++]=ao,Xi[Ji++]=Jc,Jc=o;var p=io;o=ao;var b=32-Ci(p)-1;p&=~(1<<b),f+=1;var C=32-Ci(l)+b;if(30<C){var O=b-b%5;C=(p&(1<<O)-1).toString(32),p>>=O,b-=O,io=1<<32-Ci(l)+b|f<<b|p,ao=C+o}else io=1<<C|f<<b|p,ao=o}function oC(o){o.return!==null&&(Ho(o,1),XI(o,1,0))}function cC(o){for(;o===Py;)Py=If[--Of],If[Of]=null,Mp=If[--Of],If[Of]=null;for(;o===Jc;)Jc=Xi[--Ji],Xi[Ji]=null,ao=Xi[--Ji],Xi[Ji]=null,io=Xi[--Ji],Xi[Ji]=null}function JI(o,l){Xi[Ji++]=io,Xi[Ji++]=ao,Xi[Ji++]=Jc,io=l.id,ao=l.overflow,Jc=o}var ts=null,Yn=null,rn=!1,Qc=null,Qi=!1,lC=Error(r(519));function el(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lp(Zi(l,o)),lC}function QI(o){var l=o.stateNode,f=o.type,p=o.memoizedProps;switch(l[es]=o,l[Fs]=p,f){case"dialog":Zt("cancel",l),Zt("close",l);break;case"iframe":case"object":case"embed":Zt("load",l);break;case"video":case"audio":for(f=0;f<a0.length;f++)Zt(a0[f],l);break;case"source":Zt("error",l);break;case"img":case"image":case"link":Zt("error",l),Zt("load",l);break;case"details":Zt("toggle",l);break;case"input":Zt("invalid",l),fI(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Zt("invalid",l);break;case"textarea":Zt("invalid",l),pI(l,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||p.suppressHydrationWarning===!0||gx(l.textContent,f)?(p.popover!=null&&(Zt("beforetoggle",l),Zt("toggle",l)),p.onScroll!=null&&Zt("scroll",l),p.onScrollEnd!=null&&Zt("scrollend",l),p.onClick!=null&&(l.onclick=Fo),l=!0):l=!1,l||el(o,!0)}function eO(o){for(ts=o.return;ts;)switch(ts.tag){case 5:case 31:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:ts=ts.return}}function Rf(o){if(o!==ts)return!1;if(!rn)return eO(o),rn=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||T_(o.type,o.memoizedProps)),f=!f),f&&Yn&&el(o),eO(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Yn=Sx(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Yn=Sx(o)}else l===27?(l=Yn,pl(o.type)?(o=k_,k_=null,Yn=o):Yn=l):Yn=ts?ta(o.stateNode.nextSibling):null;return!0}function Du(){Yn=ts=null,rn=!1}function uC(){var o=Qc;return o!==null&&(Ws===null?Ws=o:Ws.push.apply(Ws,o),Qc=null),o}function Lp(o){Qc===null?Qc=[o]:Qc.push(o)}var dC=M(null),Mu=null,qo=null;function tl(o,l,f){J(dC,l._currentValue),l._currentValue=f}function Wo(o){o._currentValue=dC.current,z(dC)}function fC(o,l,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===f)break;o=o.return}}function hC(o,l,f,p){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var C=b.dependencies;if(C!==null){var O=b.child;C=C.firstContext;e:for(;C!==null;){var H=C;C=b;for(var X=0;X<l.length;X++)if(H.context===l[X]){C.lanes|=f,H=C.alternate,H!==null&&(H.lanes|=f),fC(C.return,f,o),p||(O=null);break e}C=H.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(r(341));O.lanes|=f,C=O.alternate,C!==null&&(C.lanes|=f),fC(O,f,o),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===o){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function xf(o,l,f,p){o=null;for(var b=l,C=!1;b!==null;){if(!C){if((b.flags&524288)!==0)C=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var H=b.type;_i(b.pendingProps.value,O.value)||(o!==null?o.push(H):o=[H])}}else if(b===be.current){if(O=b.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(d0):o=[d0])}b=b.return}o!==null&&hC(l,o,f,p),l.flags|=262144}function Uy(o){for(o=o.firstContext;o!==null;){if(!_i(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Lu(o){Mu=o,qo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ns(o){return tO(Mu,o)}function $y(o,l){return Mu===null&&Lu(o),tO(o,l)}function tO(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},qo===null){if(o===null)throw Error(r(308));qo=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else qo=qo.next=l;return f}var kz=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},Pz=e.unstable_scheduleCallback,Uz=e.unstable_NormalPriority,Cr={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pC(){return{controller:new kz,data:new Map,refCount:0}}function Bp(o){o.refCount--,o.refCount===0&&Pz(Uz,function(){o.controller.abort()})}var Fp=null,mC=0,kf=0,Pf=null;function $z(o,l){if(Fp===null){var f=Fp=[];mC=0,kf=b_(),Pf={status:"pending",value:void 0,then:function(p){f.push(p)}}}return mC++,l.then(nO,nO),l}function nO(){if(--mC===0&&Fp!==null){Pf!==null&&(Pf.status="fulfilled");var o=Fp;Fp=null,kf=0,Pf=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function Dz(o,l){var f=[],p={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<f.length;b++)(0,f[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),p}var rO=_.S;_.S=function(o,l){FR=ps(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&$z(o,l),rO!==null&&rO(o,l)};var Bu=M(null);function gC(){var o=Bu.current;return o!==null?o:jn.pooledCache}function Dy(o,l){l===null?J(Bu,Bu.current):J(Bu,l.pool)}function sO(){var o=gC();return o===null?null:{parent:Cr._currentValue,pool:o}}var Uf=Error(r(460)),yC=Error(r(474)),My=Error(r(542)),Ly={then:function(){}};function iO(o){return o=o.status,o==="fulfilled"||o==="rejected"}function aO(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(Fo,Fo),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,cO(o),o;default:if(typeof l.status=="string")l.then(Fo,Fo);else{if(o=jn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,cO(o),o}throw ju=l,Uf}}function Fu(o){try{var l=o._init;return l(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(ju=f,Uf):f}}var ju=null;function oO(){if(ju===null)throw Error(r(459));var o=ju;return ju=null,o}function cO(o){if(o===Uf||o===My)throw Error(r(483))}var $f=null,jp=0;function By(o){var l=jp;return jp+=1,$f===null&&($f=[]),aO($f,o,l)}function zp(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Fy(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function lO(o){function l(ne,ee){if(o){var re=ne.deletions;re===null?(ne.deletions=[ee],ne.flags|=16):re.push(ee)}}function f(ne,ee){if(!o)return null;for(;ee!==null;)l(ne,ee),ee=ee.sibling;return null}function p(ne){for(var ee=new Map;ne!==null;)ne.key!==null?ee.set(ne.key,ne):ee.set(ne.index,ne),ne=ne.sibling;return ee}function b(ne,ee){return ne=zo(ne,ee),ne.index=0,ne.sibling=null,ne}function C(ne,ee,re){return ne.index=re,o?(re=ne.alternate,re!==null?(re=re.index,re<ee?(ne.flags|=67108866,ee):re):(ne.flags|=67108866,ee)):(ne.flags|=1048576,ee)}function O(ne){return o&&ne.alternate===null&&(ne.flags|=67108866),ne}function H(ne,ee,re,me){return ee===null||ee.tag!==6?(ee=iC(re,ne.mode,me),ee.return=ne,ee):(ee=b(ee,re),ee.return=ne,ee)}function X(ne,ee,re,me){var ct=re.type;return ct===E?he(ne,ee,re.props.children,me,re.key):ee!==null&&(ee.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===L&&Fu(ct)===ee.type)?(ee=b(ee,re.props),zp(ee,re),ee.return=ne,ee):(ee=ky(re.type,re.key,re.props,null,ne.mode,me),zp(ee,re),ee.return=ne,ee)}function se(ne,ee,re,me){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==re.containerInfo||ee.stateNode.implementation!==re.implementation?(ee=aC(re,ne.mode,me),ee.return=ne,ee):(ee=b(ee,re.children||[]),ee.return=ne,ee)}function he(ne,ee,re,me,ct){return ee===null||ee.tag!==7?(ee=$u(re,ne.mode,me,ct),ee.return=ne,ee):(ee=b(ee,re),ee.return=ne,ee)}function ge(ne,ee,re){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=iC(""+ee,ne.mode,re),ee.return=ne,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return re=ky(ee.type,ee.key,ee.props,null,ne.mode,re),zp(re,ee),re.return=ne,re;case v:return ee=aC(ee,ne.mode,re),ee.return=ne,ee;case L:return ee=Fu(ee),ge(ne,ee,re)}if(y(ee)||G(ee))return ee=$u(ee,ne.mode,re,null),ee.return=ne,ee;if(typeof ee.then=="function")return ge(ne,By(ee),re);if(ee.$$typeof===I)return ge(ne,$y(ne,ee),re);Fy(ne,ee)}return null}function ae(ne,ee,re,me){var ct=ee!==null?ee.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return ct!==null?null:H(ne,ee,""+re,me);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return re.key===ct?X(ne,ee,re,me):null;case v:return re.key===ct?se(ne,ee,re,me):null;case L:return re=Fu(re),ae(ne,ee,re,me)}if(y(re)||G(re))return ct!==null?null:he(ne,ee,re,me,null);if(typeof re.then=="function")return ae(ne,ee,By(re),me);if(re.$$typeof===I)return ae(ne,ee,$y(ne,re),me);Fy(ne,re)}return null}function ce(ne,ee,re,me,ct){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return ne=ne.get(re)||null,H(ee,ne,""+me,ct);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case w:return ne=ne.get(me.key===null?re:me.key)||null,X(ee,ne,me,ct);case v:return ne=ne.get(me.key===null?re:me.key)||null,se(ee,ne,me,ct);case L:return me=Fu(me),ce(ne,ee,re,me,ct)}if(y(me)||G(me))return ne=ne.get(re)||null,he(ee,ne,me,ct,null);if(typeof me.then=="function")return ce(ne,ee,re,By(me),ct);if(me.$$typeof===I)return ce(ne,ee,re,$y(ee,me),ct);Fy(ee,me)}return null}function Ze(ne,ee,re,me){for(var ct=null,yn=null,Je=ee,Lt=ee=0,tn=null;Je!==null&&Lt<re.length;Lt++){Je.index>Lt?(tn=Je,Je=null):tn=Je.sibling;var bn=ae(ne,Je,re[Lt],me);if(bn===null){Je===null&&(Je=tn);break}o&&Je&&bn.alternate===null&&l(ne,Je),ee=C(bn,ee,Lt),yn===null?ct=bn:yn.sibling=bn,yn=bn,Je=tn}if(Lt===re.length)return f(ne,Je),rn&&Ho(ne,Lt),ct;if(Je===null){for(;Lt<re.length;Lt++)Je=ge(ne,re[Lt],me),Je!==null&&(ee=C(Je,ee,Lt),yn===null?ct=Je:yn.sibling=Je,yn=Je);return rn&&Ho(ne,Lt),ct}for(Je=p(Je);Lt<re.length;Lt++)tn=ce(Je,ne,Lt,re[Lt],me),tn!==null&&(o&&tn.alternate!==null&&Je.delete(tn.key===null?Lt:tn.key),ee=C(tn,ee,Lt),yn===null?ct=tn:yn.sibling=tn,yn=tn);return o&&Je.forEach(function(wl){return l(ne,wl)}),rn&&Ho(ne,Lt),ct}function ht(ne,ee,re,me){if(re==null)throw Error(r(151));for(var ct=null,yn=null,Je=ee,Lt=ee=0,tn=null,bn=re.next();Je!==null&&!bn.done;Lt++,bn=re.next()){Je.index>Lt?(tn=Je,Je=null):tn=Je.sibling;var wl=ae(ne,Je,bn.value,me);if(wl===null){Je===null&&(Je=tn);break}o&&Je&&wl.alternate===null&&l(ne,Je),ee=C(wl,ee,Lt),yn===null?ct=wl:yn.sibling=wl,yn=wl,Je=tn}if(bn.done)return f(ne,Je),rn&&Ho(ne,Lt),ct;if(Je===null){for(;!bn.done;Lt++,bn=re.next())bn=ge(ne,bn.value,me),bn!==null&&(ee=C(bn,ee,Lt),yn===null?ct=bn:yn.sibling=bn,yn=bn);return rn&&Ho(ne,Lt),ct}for(Je=p(Je);!bn.done;Lt++,bn=re.next())bn=ce(Je,ne,Lt,bn.value,me),bn!==null&&(o&&bn.alternate!==null&&Je.delete(bn.key===null?Lt:bn.key),ee=C(bn,ee,Lt),yn===null?ct=bn:yn.sibling=bn,yn=bn);return o&&Je.forEach(function(GH){return l(ne,GH)}),rn&&Ho(ne,Lt),ct}function Mn(ne,ee,re,me){if(typeof re=="object"&&re!==null&&re.type===E&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case w:e:{for(var ct=re.key;ee!==null;){if(ee.key===ct){if(ct=re.type,ct===E){if(ee.tag===7){f(ne,ee.sibling),me=b(ee,re.props.children),me.return=ne,ne=me;break e}}else if(ee.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===L&&Fu(ct)===ee.type){f(ne,ee.sibling),me=b(ee,re.props),zp(me,re),me.return=ne,ne=me;break e}f(ne,ee);break}else l(ne,ee);ee=ee.sibling}re.type===E?(me=$u(re.props.children,ne.mode,me,re.key),me.return=ne,ne=me):(me=ky(re.type,re.key,re.props,null,ne.mode,me),zp(me,re),me.return=ne,ne=me)}return O(ne);case v:e:{for(ct=re.key;ee!==null;){if(ee.key===ct)if(ee.tag===4&&ee.stateNode.containerInfo===re.containerInfo&&ee.stateNode.implementation===re.implementation){f(ne,ee.sibling),me=b(ee,re.children||[]),me.return=ne,ne=me;break e}else{f(ne,ee);break}else l(ne,ee);ee=ee.sibling}me=aC(re,ne.mode,me),me.return=ne,ne=me}return O(ne);case L:return re=Fu(re),Mn(ne,ee,re,me)}if(y(re))return Ze(ne,ee,re,me);if(G(re)){if(ct=G(re),typeof ct!="function")throw Error(r(150));return re=ct.call(re),ht(ne,ee,re,me)}if(typeof re.then=="function")return Mn(ne,ee,By(re),me);if(re.$$typeof===I)return Mn(ne,ee,$y(ne,re),me);Fy(ne,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,ee!==null&&ee.tag===6?(f(ne,ee.sibling),me=b(ee,re),me.return=ne,ne=me):(f(ne,ee),me=iC(re,ne.mode,me),me.return=ne,ne=me),O(ne)):f(ne,ee)}return function(ne,ee,re,me){try{jp=0;var ct=Mn(ne,ee,re,me);return $f=null,ct}catch(Je){if(Je===Uf||Je===My)throw Je;var yn=Ai(29,Je,null,ne.mode);return yn.lanes=me,yn.return=ne,yn}}}var zu=lO(!0),uO=lO(!1),nl=!1;function bC(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wC(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function rl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function sl(o,l,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(_n&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=xy(o),GI(o,null,f),l}return Ry(o,p,l,f),xy(o)}function Hp(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,f|=p,l.lanes=f,tI(o,f)}}function EC(o,l){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var b=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var O={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};C===null?b=C=O:C=C.next=O,f=f.next}while(f!==null);C===null?b=C=l:C=C.next=l}else b=C=l;f={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var vC=!1;function qp(){if(vC){var o=Pf;if(o!==null)throw o}}function Wp(o,l,f,p){vC=!1;var b=o.updateQueue;nl=!1;var C=b.firstBaseUpdate,O=b.lastBaseUpdate,H=b.shared.pending;if(H!==null){b.shared.pending=null;var X=H,se=X.next;X.next=null,O===null?C=se:O.next=se,O=X;var he=o.alternate;he!==null&&(he=he.updateQueue,H=he.lastBaseUpdate,H!==O&&(H===null?he.firstBaseUpdate=se:H.next=se,he.lastBaseUpdate=X))}if(C!==null){var ge=b.baseState;O=0,he=se=X=null,H=C;do{var ae=H.lane&-536870913,ce=ae!==H.lane;if(ce?(en&ae)===ae:(p&ae)===ae){ae!==0&&ae===kf&&(vC=!0),he!==null&&(he=he.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Ze=o,ht=H;ae=l;var Mn=f;switch(ht.tag){case 1:if(Ze=ht.payload,typeof Ze=="function"){ge=Ze.call(Mn,ge,ae);break e}ge=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ht.payload,ae=typeof Ze=="function"?Ze.call(Mn,ge,ae):Ze,ae==null)break e;ge=m({},ge,ae);break e;case 2:nl=!0}}ae=H.callback,ae!==null&&(o.flags|=64,ce&&(o.flags|=8192),ce=b.callbacks,ce===null?b.callbacks=[ae]:ce.push(ae))}else ce={lane:ae,tag:H.tag,payload:H.payload,callback:H.callback,next:null},he===null?(se=he=ce,X=ge):he=he.next=ce,O|=ae;if(H=H.next,H===null){if(H=b.shared.pending,H===null)break;ce=H,H=ce.next,ce.next=null,b.lastBaseUpdate=ce,b.shared.pending=null}}while(!0);he===null&&(X=ge),b.baseState=X,b.firstBaseUpdate=se,b.lastBaseUpdate=he,C===null&&(b.shared.lanes=0),ll|=O,o.lanes=O,o.memoizedState=ge}}function dO(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function fO(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)dO(f[o],l)}var Df=M(null),jy=M(0);function hO(o,l){o=ec,J(jy,o),J(Df,l),ec=o|l.baseLanes}function CC(){J(jy,ec),J(Df,Df.current)}function _C(){ec=jy.current,z(Df),z(jy)}var Si=M(null),ea=null;function il(o){var l=o.alternate;J(mr,mr.current&1),J(Si,o),ea===null&&(l===null||Df.current!==null||l.memoizedState!==null)&&(ea=o)}function AC(o){J(mr,mr.current),J(Si,o),ea===null&&(ea=o)}function pO(o){o.tag===22?(J(mr,mr.current),J(Si,o),ea===null&&(ea=o)):al()}function al(){J(mr,mr.current),J(Si,Si.current)}function Ni(o){z(Si),ea===o&&(ea=null),z(mr)}var mr=M(0);function zy(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||R_(f)||x_(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vo=0,Pt=null,$n=null,_r=null,Hy=!1,Mf=!1,Hu=!1,qy=0,Vp=0,Lf=null,Mz=0;function cr(){throw Error(r(321))}function SC(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!_i(o[f],l[f]))return!1;return!0}function NC(o,l,f,p,b,C){return Vo=C,Pt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,_.H=o===null||o.memoizedState===null?XO:jC,Hu=!1,C=f(p,b),Hu=!1,Mf&&(C=gO(l,f,p,b)),mO(o),C}function mO(o){_.H=Yp;var l=$n!==null&&$n.next!==null;if(Vo=0,_r=$n=Pt=null,Hy=!1,Vp=0,Lf=null,l)throw Error(r(300));o===null||Ar||(o=o.dependencies,o!==null&&Uy(o)&&(Ar=!0))}function gO(o,l,f,p){Pt=o;var b=0;do{if(Mf&&(Lf=null),Vp=0,Mf=!1,25<=b)throw Error(r(301));if(b+=1,_r=$n=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}_.H=JO,C=l(f,p)}while(Mf);return C}function Lz(){var o=_.H,l=o.useState()[0];return l=typeof l.then=="function"?Gp(l):l,o=o.useState()[0],($n!==null?$n.memoizedState:null)!==o&&(Pt.flags|=1024),l}function TC(){var o=qy!==0;return qy=0,o}function IC(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function OC(o){if(Hy){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Hy=!1}Vo=0,_r=$n=Pt=null,Mf=!1,Vp=qy=0,Lf=null}function Ns(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Pt.memoizedState=_r=o:_r=_r.next=o,_r}function gr(){if($n===null){var o=Pt.alternate;o=o!==null?o.memoizedState:null}else o=$n.next;var l=_r===null?Pt.memoizedState:_r.next;if(l!==null)_r=l,$n=o;else{if(o===null)throw Pt.alternate===null?Error(r(467)):Error(r(310));$n=o,o={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},_r===null?Pt.memoizedState=_r=o:_r=_r.next=o}return _r}function Wy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gp(o){var l=Vp;return Vp+=1,Lf===null&&(Lf=[]),o=aO(Lf,o,l),l=Pt,(_r===null?l.memoizedState:_r.next)===null&&(l=l.alternate,_.H=l===null||l.memoizedState===null?XO:jC),o}function Vy(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Gp(o);if(o.$$typeof===I)return ns(o)}throw Error(r(438,String(o)))}function RC(o){var l=null,f=Pt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var p=Pt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Wy(),Pt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),p=0;p<o;p++)f[p]=W;return l.index++,f}function Go(o,l){return typeof l=="function"?l(o):l}function Gy(o){var l=gr();return xC(l,$n,o)}function xC(o,l,f){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var b=o.baseQueue,C=p.pending;if(C!==null){if(b!==null){var O=b.next;b.next=C.next,C.next=O}l.baseQueue=b=C,p.pending=null}if(C=o.baseState,b===null)o.memoizedState=C;else{l=b.next;var H=O=null,X=null,se=l,he=!1;do{var ge=se.lane&-536870913;if(ge!==se.lane?(en&ge)===ge:(Vo&ge)===ge){var ae=se.revertLane;if(ae===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ge===kf&&(he=!0);else if((Vo&ae)===ae){se=se.next,ae===kf&&(he=!0);continue}else ge={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},X===null?(H=X=ge,O=C):X=X.next=ge,Pt.lanes|=ae,ll|=ae;ge=se.action,Hu&&f(C,ge),C=se.hasEagerState?se.eagerState:f(C,ge)}else ae={lane:ge,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},X===null?(H=X=ae,O=C):X=X.next=ae,Pt.lanes|=ge,ll|=ge;se=se.next}while(se!==null&&se!==l);if(X===null?O=C:X.next=H,!_i(C,o.memoizedState)&&(Ar=!0,he&&(f=Pf,f!==null)))throw f;o.memoizedState=C,o.baseState=O,o.baseQueue=X,p.lastRenderedState=C}return b===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function kC(o){var l=gr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=f.dispatch,b=f.pending,C=l.memoizedState;if(b!==null){f.pending=null;var O=b=b.next;do C=o(C,O.action),O=O.next;while(O!==b);_i(C,l.memoizedState)||(Ar=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),f.lastRenderedState=C}return[C,p]}function yO(o,l,f){var p=Pt,b=gr(),C=rn;if(C){if(f===void 0)throw Error(r(407));f=f()}else f=l();var O=!_i(($n||b).memoizedState,f);if(O&&(b.memoizedState=f,Ar=!0),b=b.queue,$C(EO.bind(null,p,b,o),[o]),b.getSnapshot!==l||O||_r!==null&&_r.memoizedState.tag&1){if(p.flags|=2048,Bf(9,{destroy:void 0},wO.bind(null,p,b,f,l),null),jn===null)throw Error(r(349));C||(Vo&127)!==0||bO(p,l,f)}return f}function bO(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Pt.updateQueue,l===null?(l=Wy(),Pt.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function wO(o,l,f,p){l.value=f,l.getSnapshot=p,vO(l)&&CO(o)}function EO(o,l,f){return f(function(){vO(l)&&CO(o)})}function vO(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!_i(o,f)}catch{return!0}}function CO(o){var l=Uu(o,2);l!==null&&Vs(l,o,2)}function PC(o){var l=Ns();if(typeof o=="function"){var f=o;if(o=f(),Hu){Yc(!0);try{f()}finally{Yc(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:o},l}function _O(o,l,f,p){return o.baseState=f,xC(o,$n,typeof p=="function"?p:Go)}function Bz(o,l,f,p,b){if(Zy(o))throw Error(r(485));if(o=l.action,o!==null){var C={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){C.listeners.push(O)}};_.T!==null?f(!0):C.isTransition=!1,p(C),f=l.pending,f===null?(C.next=l.pending=C,AO(l,C)):(C.next=f.next,l.pending=f.next=C)}}function AO(o,l){var f=l.action,p=l.payload,b=o.state;if(l.isTransition){var C=_.T,O={};_.T=O;try{var H=f(b,p),X=_.S;X!==null&&X(O,H),SO(o,l,H)}catch(se){UC(o,l,se)}finally{C!==null&&O.types!==null&&(C.types=O.types),_.T=C}}else try{C=f(b,p),SO(o,l,C)}catch(se){UC(o,l,se)}}function SO(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){NO(o,l,p)},function(p){return UC(o,l,p)}):NO(o,l,f)}function NO(o,l,f){l.status="fulfilled",l.value=f,TO(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,AO(o,f)))}function UC(o,l,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=f,TO(l),l=l.next;while(l!==p)}o.action=null}function TO(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function IO(o,l){return l}function OO(o,l){if(rn){var f=jn.formState;if(f!==null){e:{var p=Pt;if(rn){if(Yn){t:{for(var b=Yn,C=Qi;b.nodeType!==8;){if(!C){b=null;break t}if(b=ta(b.nextSibling),b===null){b=null;break t}}C=b.data,b=C==="F!"||C==="F"?b:null}if(b){Yn=ta(b.nextSibling),p=b.data==="F!";break e}}el(p)}p=!1}p&&(l=f[0])}}return f=Ns(),f.memoizedState=f.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IO,lastRenderedState:l},f.queue=p,f=KO.bind(null,Pt,p),p.dispatch=f,p=PC(!1),C=FC.bind(null,Pt,!1,p.queue),p=Ns(),b={state:l,dispatch:null,action:o,pending:null},p.queue=b,f=Bz.bind(null,Pt,b,C,f),b.dispatch=f,p.memoizedState=o,[l,f,!1]}function RO(o){var l=gr();return xO(l,$n,o)}function xO(o,l,f){if(l=xC(o,l,IO)[0],o=Gy(Go)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Gp(l)}catch(O){throw O===Uf?My:O}else p=l;l=gr();var b=l.queue,C=b.dispatch;return f!==l.memoizedState&&(Pt.flags|=2048,Bf(9,{destroy:void 0},Fz.bind(null,b,f),null)),[p,C,o]}function Fz(o,l){o.action=l}function kO(o){var l=gr(),f=$n;if(f!==null)return xO(l,f,o);gr(),l=l.memoizedState,f=gr();var p=f.queue.dispatch;return f.memoizedState=o,[l,p,!1]}function Bf(o,l,f,p){return o={tag:o,create:f,deps:p,inst:l,next:null},l=Pt.updateQueue,l===null&&(l=Wy(),Pt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,l.lastEffect=o),o}function PO(){return gr().memoizedState}function Ky(o,l,f,p){var b=Ns();Pt.flags|=o,b.memoizedState=Bf(1|l,{destroy:void 0},f,p===void 0?null:p)}function Yy(o,l,f,p){var b=gr();p=p===void 0?null:p;var C=b.memoizedState.inst;$n!==null&&p!==null&&SC(p,$n.memoizedState.deps)?b.memoizedState=Bf(l,C,f,p):(Pt.flags|=o,b.memoizedState=Bf(1|l,C,f,p))}function UO(o,l){Ky(8390656,8,o,l)}function $C(o,l){Yy(2048,8,o,l)}function jz(o){Pt.flags|=4;var l=Pt.updateQueue;if(l===null)l=Wy(),Pt.updateQueue=l,l.events=[o];else{var f=l.events;f===null?l.events=[o]:f.push(o)}}function $O(o){var l=gr().memoizedState;return jz({ref:l,nextImpl:o}),function(){if((_n&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function DO(o,l){return Yy(4,2,o,l)}function MO(o,l){return Yy(4,4,o,l)}function LO(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function BO(o,l,f){f=f!=null?f.concat([o]):null,Yy(4,4,LO.bind(null,l,o),f)}function DC(){}function FO(o,l){var f=gr();l=l===void 0?null:l;var p=f.memoizedState;return l!==null&&SC(l,p[1])?p[0]:(f.memoizedState=[o,l],o)}function jO(o,l){var f=gr();l=l===void 0?null:l;var p=f.memoizedState;if(l!==null&&SC(l,p[1]))return p[0];if(p=o(),Hu){Yc(!0);try{o()}finally{Yc(!1)}}return f.memoizedState=[p,l],p}function MC(o,l,f){return f===void 0||(Vo&1073741824)!==0&&(en&261930)===0?o.memoizedState=l:(o.memoizedState=f,o=zR(),Pt.lanes|=o,ll|=o,f)}function zO(o,l,f,p){return _i(f,l)?f:Df.current!==null?(o=MC(o,f,p),_i(o,l)||(Ar=!0),o):(Vo&42)===0||(Vo&1073741824)!==0&&(en&261930)===0?(Ar=!0,o.memoizedState=f):(o=zR(),Pt.lanes|=o,ll|=o,l)}function HO(o,l,f,p,b){var C=T.p;T.p=C!==0&&8>C?C:8;var O=_.T,H={};_.T=H,FC(o,!1,l,f);try{var X=b(),se=_.S;if(se!==null&&se(H,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var he=Dz(X,p);Kp(o,l,he,Oi(o))}else Kp(o,l,p,Oi(o))}catch(ge){Kp(o,l,{then:function(){},status:"rejected",reason:ge},Oi())}finally{T.p=C,O!==null&&H.types!==null&&(O.types=H.types),_.T=O}}function zz(){}function LC(o,l,f,p){if(o.tag!==5)throw Error(r(476));var b=qO(o).queue;HO(o,b,l,$,f===null?zz:function(){return WO(o),f(p)})}function qO(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:$},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function WO(o){var l=qO(o);l.next===null&&(l=o.alternate.memoizedState),Kp(o,l.next.queue,{},Oi())}function BC(){return ns(d0)}function VO(){return gr().memoizedState}function GO(){return gr().memoizedState}function Hz(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=Oi();o=rl(f);var p=sl(l,o,f);p!==null&&(Vs(p,l,f),Hp(p,l,f)),l={cache:pC()},o.payload=l;return}l=l.return}}function qz(o,l,f){var p=Oi();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Zy(o)?YO(l,f):(f=rC(o,l,f,p),f!==null&&(Vs(f,o,p),ZO(f,l,p)))}function KO(o,l,f){var p=Oi();Kp(o,l,f,p)}function Kp(o,l,f,p){var b={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Zy(o))YO(l,b);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var O=l.lastRenderedState,H=C(O,f);if(b.hasEagerState=!0,b.eagerState=H,_i(H,O))return Ry(o,l,b,0),jn===null&&Oy(),!1}catch{}if(f=rC(o,l,b,p),f!==null)return Vs(f,o,p),ZO(f,l,p),!0}return!1}function FC(o,l,f,p){if(p={lane:2,revertLane:b_(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Zy(o)){if(l)throw Error(r(479))}else l=rC(o,f,p,2),l!==null&&Vs(l,o,2)}function Zy(o){var l=o.alternate;return o===Pt||l!==null&&l===Pt}function YO(o,l){Mf=Hy=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function ZO(o,l,f){if((f&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,f|=p,l.lanes=f,tI(o,f)}}var Yp={readContext:ns,use:Vy,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useInsertionEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useSyncExternalStore:cr,useId:cr,useHostTransitionStatus:cr,useFormState:cr,useActionState:cr,useOptimistic:cr,useMemoCache:cr,useCacheRefresh:cr};Yp.useEffectEvent=cr;var XO={readContext:ns,use:Vy,useCallback:function(o,l){return Ns().memoizedState=[o,l===void 0?null:l],o},useContext:ns,useEffect:UO,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,Ky(4194308,4,LO.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Ky(4194308,4,o,l)},useInsertionEffect:function(o,l){Ky(4,2,o,l)},useMemo:function(o,l){var f=Ns();l=l===void 0?null:l;var p=o();if(Hu){Yc(!0);try{o()}finally{Yc(!1)}}return f.memoizedState=[p,l],p},useReducer:function(o,l,f){var p=Ns();if(f!==void 0){var b=f(l);if(Hu){Yc(!0);try{f(l)}finally{Yc(!1)}}}else b=l;return p.memoizedState=p.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},p.queue=o,o=o.dispatch=qz.bind(null,Pt,o),[p.memoizedState,o]},useRef:function(o){var l=Ns();return o={current:o},l.memoizedState=o},useState:function(o){o=PC(o);var l=o.queue,f=KO.bind(null,Pt,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:DC,useDeferredValue:function(o,l){var f=Ns();return MC(f,o,l)},useTransition:function(){var o=PC(!1);return o=HO.bind(null,Pt,o.queue,!0,!1),Ns().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var p=Pt,b=Ns();if(rn){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),jn===null)throw Error(r(349));(en&127)!==0||bO(p,l,f)}b.memoizedState=f;var C={value:f,getSnapshot:l};return b.queue=C,UO(EO.bind(null,p,C,o),[o]),p.flags|=2048,Bf(9,{destroy:void 0},wO.bind(null,p,C,f,l),null),f},useId:function(){var o=Ns(),l=jn.identifierPrefix;if(rn){var f=ao,p=io;f=(p&~(1<<32-Ci(p)-1)).toString(32)+f,l="_"+l+"R_"+f,f=qy++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=Mz++,l="_"+l+"r_"+f.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:BC,useFormState:OO,useActionState:OO,useOptimistic:function(o){var l=Ns();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=FC.bind(null,Pt,!0,f),f.dispatch=l,[o,l]},useMemoCache:RC,useCacheRefresh:function(){return Ns().memoizedState=Hz.bind(null,Pt)},useEffectEvent:function(o){var l=Ns(),f={impl:o};return l.memoizedState=f,function(){if((_n&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},jC={readContext:ns,use:Vy,useCallback:FO,useContext:ns,useEffect:$C,useImperativeHandle:BO,useInsertionEffect:DO,useLayoutEffect:MO,useMemo:jO,useReducer:Gy,useRef:PO,useState:function(){return Gy(Go)},useDebugValue:DC,useDeferredValue:function(o,l){var f=gr();return zO(f,$n.memoizedState,o,l)},useTransition:function(){var o=Gy(Go)[0],l=gr().memoizedState;return[typeof o=="boolean"?o:Gp(o),l]},useSyncExternalStore:yO,useId:VO,useHostTransitionStatus:BC,useFormState:RO,useActionState:RO,useOptimistic:function(o,l){var f=gr();return _O(f,$n,o,l)},useMemoCache:RC,useCacheRefresh:GO};jC.useEffectEvent=$O;var JO={readContext:ns,use:Vy,useCallback:FO,useContext:ns,useEffect:$C,useImperativeHandle:BO,useInsertionEffect:DO,useLayoutEffect:MO,useMemo:jO,useReducer:kC,useRef:PO,useState:function(){return kC(Go)},useDebugValue:DC,useDeferredValue:function(o,l){var f=gr();return $n===null?MC(f,o,l):zO(f,$n.memoizedState,o,l)},useTransition:function(){var o=kC(Go)[0],l=gr().memoizedState;return[typeof o=="boolean"?o:Gp(o),l]},useSyncExternalStore:yO,useId:VO,useHostTransitionStatus:BC,useFormState:kO,useActionState:kO,useOptimistic:function(o,l){var f=gr();return $n!==null?_O(f,$n,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:RC,useCacheRefresh:GO};JO.useEffectEvent=$O;function zC(o,l,f,p){l=o.memoizedState,f=f(p,l),f=f==null?l:m({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var HC={enqueueSetState:function(o,l,f){o=o._reactInternals;var p=Oi(),b=rl(p);b.payload=l,f!=null&&(b.callback=f),l=sl(o,b,p),l!==null&&(Vs(l,o,p),Hp(l,o,p))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var p=Oi(),b=rl(p);b.tag=1,b.payload=l,f!=null&&(b.callback=f),l=sl(o,b,p),l!==null&&(Vs(l,o,p),Hp(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Oi(),p=rl(f);p.tag=2,l!=null&&(p.callback=l),l=sl(o,p,f),l!==null&&(Vs(l,o,f),Hp(l,o,f))}};function QO(o,l,f,p,b,C,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,C,O):l.prototype&&l.prototype.isPureReactComponent?!$p(f,p)||!$p(b,C):!0}function eR(o,l,f,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,p),l.state!==o&&HC.enqueueReplaceState(l,l.state,null)}function qu(o,l){var f=l;if("ref"in l){f={};for(var p in l)p!=="ref"&&(f[p]=l[p])}if(o=o.defaultProps){f===l&&(f=m({},f));for(var b in o)f[b]===void 0&&(f[b]=o[b])}return f}function tR(o){Iy(o)}function nR(o){console.error(o)}function rR(o){Iy(o)}function Xy(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function sR(o,l,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function qC(o,l,f){return f=rl(f),f.tag=3,f.payload={element:null},f.callback=function(){Xy(o,l)},f}function iR(o){return o=rl(o),o.tag=3,o}function aR(o,l,f,p){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var C=p.value;o.payload=function(){return b(C)},o.callback=function(){sR(l,f,p)}}var O=f.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){sR(l,f,p),typeof b!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var H=p.stack;this.componentDidCatch(p.value,{componentStack:H!==null?H:""})})}function Wz(o,l,f,p,b){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=f.alternate,l!==null&&xf(l,f,b,!0),f=Si.current,f!==null){switch(f.tag){case 31:case 13:return ea===null?lb():f.alternate===null&&lr===0&&(lr=3),f.flags&=-257,f.flags|=65536,f.lanes=b,p===Ly?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([p]):l.add(p),m_(o,p,b)),!1;case 22:return f.flags|=65536,p===Ly?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([p]):f.add(p)),m_(o,p,b)),!1}throw Error(r(435,f.tag))}return m_(o,p,b),lb(),!1}if(rn)return l=Si.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==lC&&(o=Error(r(422),{cause:p}),Lp(Zi(o,f)))):(p!==lC&&(l=Error(r(423),{cause:p}),Lp(Zi(l,f))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,p=Zi(p,f),b=qC(o.stateNode,p,b),EC(o,b),lr!==4&&(lr=2)),!1;var C=Error(r(520),{cause:p});if(C=Zi(C,f),r0===null?r0=[C]:r0.push(C),lr!==4&&(lr=2),l===null)return!0;p=Zi(p,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=b&-b,f.lanes|=o,o=qC(f.stateNode,p,o),EC(f,o),!1;case 1:if(l=f.type,C=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ul===null||!ul.has(C))))return f.flags|=65536,b&=-b,f.lanes|=b,b=iR(b),aR(b,o,f,p),EC(f,b),!1}f=f.return}while(f!==null);return!1}var WC=Error(r(461)),Ar=!1;function rs(o,l,f,p){l.child=o===null?uO(l,null,f,p):zu(l,o.child,f,p)}function oR(o,l,f,p,b){f=f.render;var C=l.ref;if("ref"in p){var O={};for(var H in p)H!=="ref"&&(O[H]=p[H])}else O=p;return Lu(l),p=NC(o,l,f,O,C,b),H=TC(),o!==null&&!Ar?(IC(o,l,b),Ko(o,l,b)):(rn&&H&&oC(l),l.flags|=1,rs(o,l,p,b),l.child)}function cR(o,l,f,p,b){if(o===null){var C=f.type;return typeof C=="function"&&!sC(C)&&C.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=C,lR(o,l,C,p,b)):(o=ky(f.type,null,p,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(C=o.child,!QC(o,b)){var O=C.memoizedProps;if(f=f.compare,f=f!==null?f:$p,f(O,p)&&o.ref===l.ref)return Ko(o,l,b)}return l.flags|=1,o=zo(C,p),o.ref=l.ref,o.return=l,l.child=o}function lR(o,l,f,p,b){if(o!==null){var C=o.memoizedProps;if($p(C,p)&&o.ref===l.ref)if(Ar=!1,l.pendingProps=p=C,QC(o,b))(o.flags&131072)!==0&&(Ar=!0);else return l.lanes=o.lanes,Ko(o,l,b)}return VC(o,l,f,p,b)}function uR(o,l,f,p){var b=p.children,C=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(C=C!==null?C.baseLanes|f:f,o!==null){for(p=l.child=o.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~C}else p=0,l.child=null;return dR(o,l,C,f,p)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Dy(l,C!==null?C.cachePool:null),C!==null?hO(l,C):CC(),pO(l);else return p=l.lanes=536870912,dR(o,l,C!==null?C.baseLanes|f:f,f,p)}else C!==null?(Dy(l,C.cachePool),hO(l,C),al(),l.memoizedState=null):(o!==null&&Dy(l,null),CC(),al());return rs(o,l,b,f),l.child}function Zp(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function dR(o,l,f,p,b){var C=gC();return C=C===null?null:{parent:Cr._currentValue,pool:C},l.memoizedState={baseLanes:f,cachePool:C},o!==null&&Dy(l,null),CC(),pO(l),o!==null&&xf(o,l,p,!0),l.childLanes=b,null}function Jy(o,l){return l=eb({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function fR(o,l,f){return zu(l,o.child,null,f),o=Jy(l,l.pendingProps),o.flags|=2,Ni(l),l.memoizedState=null,o}function Vz(o,l,f){var p=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(rn){if(p.mode==="hidden")return o=Jy(l,p),l.lanes=536870912,Zp(null,o);if(AC(l),(o=Yn)?(o=Ax(o,Qi),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Jc!==null?{id:io,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},f=YI(o),f.return=l,l.child=f,ts=l,Yn=null)):o=null,o===null)throw el(l);return l.lanes=536870912,null}return Jy(l,p)}var C=o.memoizedState;if(C!==null){var O=C.dehydrated;if(AC(l),b)if(l.flags&256)l.flags&=-257,l=fR(o,l,f);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(Ar||xf(o,l,f,!1),b=(f&o.childLanes)!==0,Ar||b){if(p=jn,p!==null&&(O=nI(p,f),O!==0&&O!==C.retryLane))throw C.retryLane=O,Uu(o,O),Vs(p,o,O),WC;lb(),l=fR(o,l,f)}else o=C.treeContext,Yn=ta(O.nextSibling),ts=l,rn=!0,Qc=null,Qi=!1,o!==null&&JI(l,o),l=Jy(l,p),l.flags|=4096;return l}return o=zo(o.child,{mode:p.mode,children:p.children}),o.ref=l.ref,l.child=o,o.return=l,o}function Qy(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function VC(o,l,f,p,b){return Lu(l),f=NC(o,l,f,p,void 0,b),p=TC(),o!==null&&!Ar?(IC(o,l,b),Ko(o,l,b)):(rn&&p&&oC(l),l.flags|=1,rs(o,l,f,b),l.child)}function hR(o,l,f,p,b,C){return Lu(l),l.updateQueue=null,f=gO(l,p,f,b),mO(o),p=TC(),o!==null&&!Ar?(IC(o,l,C),Ko(o,l,C)):(rn&&p&&oC(l),l.flags|=1,rs(o,l,f,C),l.child)}function pR(o,l,f,p,b){if(Lu(l),l.stateNode===null){var C=Tf,O=f.contextType;typeof O=="object"&&O!==null&&(C=ns(O)),C=new f(p,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=HC,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=p,C.state=l.memoizedState,C.refs={},bC(l),O=f.contextType,C.context=typeof O=="object"&&O!==null?ns(O):Tf,C.state=l.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(zC(l,f,O,p),C.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(O=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),O!==C.state&&HC.enqueueReplaceState(C,C.state,null),Wp(l,p,C,b),qp(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){C=l.stateNode;var H=l.memoizedProps,X=qu(f,H);C.props=X;var se=C.context,he=f.contextType;O=Tf,typeof he=="object"&&he!==null&&(O=ns(he));var ge=f.getDerivedStateFromProps;he=typeof ge=="function"||typeof C.getSnapshotBeforeUpdate=="function",H=l.pendingProps!==H,he||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(H||se!==O)&&eR(l,C,p,O),nl=!1;var ae=l.memoizedState;C.state=ae,Wp(l,p,C,b),qp(),se=l.memoizedState,H||ae!==se||nl?(typeof ge=="function"&&(zC(l,f,ge,p),se=l.memoizedState),(X=nl||QO(l,f,X,p,ae,se,O))?(he||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=se),C.props=p,C.state=se,C.context=O,p=X):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{C=l.stateNode,wC(o,l),O=l.memoizedProps,he=qu(f,O),C.props=he,ge=l.pendingProps,ae=C.context,se=f.contextType,X=Tf,typeof se=="object"&&se!==null&&(X=ns(se)),H=f.getDerivedStateFromProps,(se=typeof H=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==ge||ae!==X)&&eR(l,C,p,X),nl=!1,ae=l.memoizedState,C.state=ae,Wp(l,p,C,b),qp();var ce=l.memoizedState;O!==ge||ae!==ce||nl||o!==null&&o.dependencies!==null&&Uy(o.dependencies)?(typeof H=="function"&&(zC(l,f,H,p),ce=l.memoizedState),(he=nl||QO(l,f,he,p,ae,ce,X)||o!==null&&o.dependencies!==null&&Uy(o.dependencies))?(se||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,ce,X),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,ce,X)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===o.memoizedProps&&ae===o.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&ae===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ce),C.props=p,C.state=ce,C.context=X,p=he):(typeof C.componentDidUpdate!="function"||O===o.memoizedProps&&ae===o.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&ae===o.memoizedState||(l.flags|=1024),p=!1)}return C=p,Qy(o,l),p=(l.flags&128)!==0,C||p?(C=l.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,o!==null&&p?(l.child=zu(l,o.child,null,b),l.child=zu(l,null,f,b)):rs(o,l,f,b),l.memoizedState=C.state,o=l.child):o=Ko(o,l,b),o}function mR(o,l,f,p){return Du(),l.flags|=256,rs(o,l,f,p),l.child}var GC={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function KC(o){return{baseLanes:o,cachePool:sO()}}function YC(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Ii),o}function gR(o,l,f){var p=l.pendingProps,b=!1,C=(l.flags&128)!==0,O;if((O=C)||(O=o!==null&&o.memoizedState===null?!1:(mr.current&2)!==0),O&&(b=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,o===null){if(rn){if(b?il(l):al(),(o=Yn)?(o=Ax(o,Qi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Jc!==null?{id:io,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},f=YI(o),f.return=l,l.child=f,ts=l,Yn=null)):o=null,o===null)throw el(l);return x_(o)?l.lanes=32:l.lanes=536870912,null}var H=p.children;return p=p.fallback,b?(al(),b=l.mode,H=eb({mode:"hidden",children:H},b),p=$u(p,b,f,null),H.return=l,p.return=l,H.sibling=p,l.child=H,p=l.child,p.memoizedState=KC(f),p.childLanes=YC(o,O,f),l.memoizedState=GC,Zp(null,p)):(il(l),ZC(l,H))}var X=o.memoizedState;if(X!==null&&(H=X.dehydrated,H!==null)){if(C)l.flags&256?(il(l),l.flags&=-257,l=XC(o,l,f)):l.memoizedState!==null?(al(),l.child=o.child,l.flags|=128,l=null):(al(),H=p.fallback,b=l.mode,p=eb({mode:"visible",children:p.children},b),H=$u(H,b,f,null),H.flags|=2,p.return=l,H.return=l,p.sibling=H,l.child=p,zu(l,o.child,null,f),p=l.child,p.memoizedState=KC(f),p.childLanes=YC(o,O,f),l.memoizedState=GC,l=Zp(null,p));else if(il(l),x_(H)){if(O=H.nextSibling&&H.nextSibling.dataset,O)var se=O.dgst;O=se,p=Error(r(419)),p.stack="",p.digest=O,Lp({value:p,source:null,stack:null}),l=XC(o,l,f)}else if(Ar||xf(o,l,f,!1),O=(f&o.childLanes)!==0,Ar||O){if(O=jn,O!==null&&(p=nI(O,f),p!==0&&p!==X.retryLane))throw X.retryLane=p,Uu(o,p),Vs(O,o,p),WC;R_(H)||lb(),l=XC(o,l,f)}else R_(H)?(l.flags|=192,l.child=o.child,l=null):(o=X.treeContext,Yn=ta(H.nextSibling),ts=l,rn=!0,Qc=null,Qi=!1,o!==null&&JI(l,o),l=ZC(l,p.children),l.flags|=4096);return l}return b?(al(),H=p.fallback,b=l.mode,X=o.child,se=X.sibling,p=zo(X,{mode:"hidden",children:p.children}),p.subtreeFlags=X.subtreeFlags&65011712,se!==null?H=zo(se,H):(H=$u(H,b,f,null),H.flags|=2),H.return=l,p.return=l,p.sibling=H,l.child=p,Zp(null,p),p=l.child,H=o.child.memoizedState,H===null?H=KC(f):(b=H.cachePool,b!==null?(X=Cr._currentValue,b=b.parent!==X?{parent:X,pool:X}:b):b=sO(),H={baseLanes:H.baseLanes|f,cachePool:b}),p.memoizedState=H,p.childLanes=YC(o,O,f),l.memoizedState=GC,Zp(o.child,p)):(il(l),f=o.child,o=f.sibling,f=zo(f,{mode:"visible",children:p.children}),f.return=l,f.sibling=null,o!==null&&(O=l.deletions,O===null?(l.deletions=[o],l.flags|=16):O.push(o)),l.child=f,l.memoizedState=null,f)}function ZC(o,l){return l=eb({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function eb(o,l){return o=Ai(22,o,null,l),o.lanes=0,o}function XC(o,l,f){return zu(l,o.child,null,f),o=ZC(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function yR(o,l,f){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),fC(o.return,l,f)}function JC(o,l,f,p,b,C){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:b,treeForkCount:C}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=p,O.tail=f,O.tailMode=b,O.treeForkCount=C)}function bR(o,l,f){var p=l.pendingProps,b=p.revealOrder,C=p.tail;p=p.children;var O=mr.current,H=(O&2)!==0;if(H?(O=O&1|2,l.flags|=128):O&=1,J(mr,O),rs(o,l,p,f),p=rn?Mp:0,!H&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&yR(o,f,l);else if(o.tag===19)yR(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(f=l.child,b=null;f!==null;)o=f.alternate,o!==null&&zy(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=l.child,l.child=null):(b=f.sibling,f.sibling=null),JC(l,!1,b,f,C,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&zy(o)===null){l.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}JC(l,!0,f,null,C,p);break;case"together":JC(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function Ko(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),ll|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(xf(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=zo(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=zo(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function QC(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Uy(o)))}function Gz(o,l,f){switch(l.tag){case 3:$e(l,l.stateNode.containerInfo),tl(l,Cr,o.memoizedState.cache),Du();break;case 27:case 5:we(l);break;case 4:$e(l,l.stateNode.containerInfo);break;case 10:tl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,AC(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(il(l),l.flags|=128,null):(f&l.child.childLanes)!==0?gR(o,l,f):(il(l),o=Ko(o,l,f),o!==null?o.sibling:null);il(l);break;case 19:var b=(o.flags&128)!==0;if(p=(f&l.childLanes)!==0,p||(xf(o,l,f,!1),p=(f&l.childLanes)!==0),b){if(p)return bR(o,l,f);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),J(mr,mr.current),p)break;return null;case 22:return l.lanes=0,uR(o,l,f,l.pendingProps);case 24:tl(l,Cr,o.memoizedState.cache)}return Ko(o,l,f)}function wR(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)Ar=!0;else{if(!QC(o,f)&&(l.flags&128)===0)return Ar=!1,Gz(o,l,f);Ar=(o.flags&131072)!==0}else Ar=!1,rn&&(l.flags&1048576)!==0&&XI(l,Mp,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(o=Fu(l.elementType),l.type=o,typeof o=="function")sC(o)?(p=qu(o,p),l.tag=1,l=pR(null,l,o,p,f)):(l.tag=0,l=VC(null,l,o,p,f));else{if(o!=null){var b=o.$$typeof;if(b===N){l.tag=11,l=oR(null,l,o,p,f);break e}else if(b===P){l.tag=14,l=cR(null,l,o,p,f);break e}}throw l=Z(o)||o,Error(r(306,l,""))}}return l;case 0:return VC(o,l,l.type,l.pendingProps,f);case 1:return p=l.type,b=qu(p,l.pendingProps),pR(o,l,p,b,f);case 3:e:{if($e(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var C=l.memoizedState;b=C.element,wC(o,l),Wp(l,p,null,f);var O=l.memoizedState;if(p=O.cache,tl(l,Cr,p),p!==C.cache&&hC(l,[Cr],f,!0),qp(),p=O.element,C.isDehydrated)if(C={element:p,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=mR(o,l,p,f);break e}else if(p!==b){b=Zi(Error(r(424)),l),Lp(b),l=mR(o,l,p,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Yn=ta(o.firstChild),ts=l,rn=!0,Qc=null,Qi=!0,f=uO(l,null,p,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Du(),p===b){l=Ko(o,l,f);break e}rs(o,l,p,f)}l=l.child}return l;case 26:return Qy(o,l),o===null?(f=Rx(l.type,null,l.pendingProps,null))?l.memoizedState=f:rn||(f=l.type,o=l.pendingProps,p=gb(le.current).createElement(f),p[es]=l,p[Fs]=o,ss(p,f,o),qr(p),l.stateNode=p):l.memoizedState=Rx(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return we(l),o===null&&rn&&(p=l.stateNode=Tx(l.type,l.pendingProps,le.current),ts=l,Qi=!0,b=Yn,pl(l.type)?(k_=b,Yn=ta(p.firstChild)):Yn=b),rs(o,l,l.pendingProps.children,f),Qy(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&rn&&((b=p=Yn)&&(p=_H(p,l.type,l.pendingProps,Qi),p!==null?(l.stateNode=p,ts=l,Yn=ta(p.firstChild),Qi=!1,b=!0):b=!1),b||el(l)),we(l),b=l.type,C=l.pendingProps,O=o!==null?o.memoizedProps:null,p=C.children,T_(b,C)?p=null:O!==null&&T_(b,O)&&(l.flags|=32),l.memoizedState!==null&&(b=NC(o,l,Lz,null,null,f),d0._currentValue=b),Qy(o,l),rs(o,l,p,f),l.child;case 6:return o===null&&rn&&((o=f=Yn)&&(f=AH(f,l.pendingProps,Qi),f!==null?(l.stateNode=f,ts=l,Yn=null,o=!0):o=!1),o||el(l)),null;case 13:return gR(o,l,f);case 4:return $e(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=zu(l,null,p,f):rs(o,l,p,f),l.child;case 11:return oR(o,l,l.type,l.pendingProps,f);case 7:return rs(o,l,l.pendingProps,f),l.child;case 8:return rs(o,l,l.pendingProps.children,f),l.child;case 12:return rs(o,l,l.pendingProps.children,f),l.child;case 10:return p=l.pendingProps,tl(l,l.type,p.value),rs(o,l,p.children,f),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,Lu(l),b=ns(b),p=p(b),l.flags|=1,rs(o,l,p,f),l.child;case 14:return cR(o,l,l.type,l.pendingProps,f);case 15:return lR(o,l,l.type,l.pendingProps,f);case 19:return bR(o,l,f);case 31:return Vz(o,l,f);case 22:return uR(o,l,f,l.pendingProps);case 24:return Lu(l),p=ns(Cr),o===null?(b=gC(),b===null&&(b=jn,C=pC(),b.pooledCache=C,C.refCount++,C!==null&&(b.pooledCacheLanes|=f),b=C),l.memoizedState={parent:p,cache:b},bC(l),tl(l,Cr,b)):((o.lanes&f)!==0&&(wC(o,l),Wp(l,null,null,f),qp()),b=o.memoizedState,C=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),tl(l,Cr,p)):(p=C.cache,tl(l,Cr,p),p!==b.cache&&hC(l,[Cr],f,!0))),rs(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Yo(o){o.flags|=4}function e_(o,l,f,p,b){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(VR())o.flags|=8192;else throw ju=Ly,yC}else o.flags&=-16777217}function ER(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!$x(l))if(VR())o.flags|=8192;else throw ju=Ly,yC}function tb(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?QT():536870912,o.lanes|=l,Hf|=l)}function Xp(o,l){if(!rn)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Zn(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(l)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=f,l}function Kz(o,l,f){var p=l.pendingProps;switch(cC(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(l),null;case 1:return Zn(l),null;case 3:return f=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Wo(Cr),_e(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Rf(l)?Yo(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,uC())),Zn(l),null;case 26:var b=l.type,C=l.memoizedState;return o===null?(Yo(l),C!==null?(Zn(l),ER(l,C)):(Zn(l),e_(l,b,null,p,f))):C?C!==o.memoizedState?(Yo(l),Zn(l),ER(l,C)):(Zn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==p&&Yo(l),Zn(l),e_(l,b,o,p,f)),null;case 27:if(je(l),f=le.current,b=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&Yo(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Zn(l),null}o=D.current,Rf(l)?QI(l):(o=Tx(b,p,f),l.stateNode=o,Yo(l))}return Zn(l),null;case 5:if(je(l),b=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&Yo(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Zn(l),null}if(C=D.current,Rf(l))QI(l);else{var O=gb(le.current);switch(C){case 1:C=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:C=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":C=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":C=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":C=O.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof p.is=="string"?O.createElement("select",{is:p.is}):O.createElement("select"),p.multiple?C.multiple=!0:p.size&&(C.size=p.size);break;default:C=typeof p.is=="string"?O.createElement(b,{is:p.is}):O.createElement(b)}}C[es]=l,C[Fs]=p;e:for(O=l.child;O!==null;){if(O.tag===5||O.tag===6)C.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===l)break e;for(;O.sibling===null;){if(O.return===null||O.return===l)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}l.stateNode=C;e:switch(ss(C,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Yo(l)}}return Zn(l),e_(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,f),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&Yo(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=le.current,Rf(l)){if(o=l.stateNode,f=l.memoizedProps,p=null,b=ts,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}o[es]=l,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||gx(o.nodeValue,f)),o||el(l,!0)}else o=gb(o).createTextNode(p),o[es]=l,l.stateNode=o}return Zn(l),null;case 31:if(f=l.memoizedState,o===null||o.memoizedState!==null){if(p=Rf(l),f!==null){if(o===null){if(!p)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[es]=l}else Du(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zn(l),o=!1}else f=uC(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return l.flags&256?(Ni(l),l):(Ni(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Zn(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=Rf(l),p!==null&&p.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[es]=l}else Du(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zn(l),b=!1}else b=uC(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Ni(l),l):(Ni(l),null)}return Ni(l),(l.flags&128)!==0?(l.lanes=f,l):(f=p!==null,o=o!==null&&o.memoizedState!==null,f&&(p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==b&&(p.flags|=2048)),f!==o&&f&&(l.child.flags|=8192),tb(l,l.updateQueue),Zn(l),null);case 4:return _e(),o===null&&C_(l.stateNode.containerInfo),Zn(l),null;case 10:return Wo(l.type),Zn(l),null;case 19:if(z(mr),p=l.memoizedState,p===null)return Zn(l),null;if(b=(l.flags&128)!==0,C=p.rendering,C===null)if(b)Xp(p,!1);else{if(lr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(C=zy(o),C!==null){for(l.flags|=128,Xp(p,!1),o=C.updateQueue,l.updateQueue=o,tb(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)KI(f,o),f=f.sibling;return J(mr,mr.current&1|2),rn&&Ho(l,p.treeForkCount),l.child}o=o.sibling}p.tail!==null&&ps()>ab&&(l.flags|=128,b=!0,Xp(p,!1),l.lanes=4194304)}else{if(!b)if(o=zy(C),o!==null){if(l.flags|=128,b=!0,o=o.updateQueue,l.updateQueue=o,tb(l,o),Xp(p,!0),p.tail===null&&p.tailMode==="hidden"&&!C.alternate&&!rn)return Zn(l),null}else 2*ps()-p.renderingStartTime>ab&&f!==536870912&&(l.flags|=128,b=!0,Xp(p,!1),l.lanes=4194304);p.isBackwards?(C.sibling=l.child,l.child=C):(o=p.last,o!==null?o.sibling=C:l.child=C,p.last=C)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=ps(),o.sibling=null,f=mr.current,J(mr,b?f&1|2:f&1),rn&&Ho(l,p.treeForkCount),o):(Zn(l),null);case 22:case 23:return Ni(l),_C(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(f&536870912)!==0&&(l.flags&128)===0&&(Zn(l),l.subtreeFlags&6&&(l.flags|=8192)):Zn(l),f=l.updateQueue,f!==null&&tb(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048),o!==null&&z(Bu),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Wo(Cr),Zn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function Yz(o,l){switch(cC(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Wo(Cr),_e(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return je(l),null;case 31:if(l.memoizedState!==null){if(Ni(l),l.alternate===null)throw Error(r(340));Du()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Ni(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Du()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return z(mr),null;case 4:return _e(),null;case 10:return Wo(l.type),null;case 22:case 23:return Ni(l),_C(),o!==null&&z(Bu),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Wo(Cr),null;case 25:return null;default:return null}}function vR(o,l){switch(cC(l),l.tag){case 3:Wo(Cr),_e();break;case 26:case 27:case 5:je(l);break;case 4:_e();break;case 31:l.memoizedState!==null&&Ni(l);break;case 13:Ni(l);break;case 19:z(mr);break;case 10:Wo(l.type);break;case 22:case 23:Ni(l),_C(),o!==null&&z(Bu);break;case 24:Wo(Cr)}}function Jp(o,l){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var b=p.next;f=b;do{if((f.tag&o)===o){p=void 0;var C=f.create,O=f.inst;p=C(),O.destroy=p}f=f.next}while(f!==b)}}catch(H){xn(l,l.return,H)}}function ol(o,l,f){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var C=b.next;p=C;do{if((p.tag&o)===o){var O=p.inst,H=O.destroy;if(H!==void 0){O.destroy=void 0,b=l;var X=f,se=H;try{se()}catch(he){xn(b,X,he)}}}p=p.next}while(p!==C)}}catch(he){xn(l,l.return,he)}}function CR(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{fO(l,f)}catch(p){xn(o,o.return,p)}}}function _R(o,l,f){f.props=qu(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){xn(o,l,p)}}function Qp(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(b){xn(o,l,b)}}function oo(o,l){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(b){xn(o,l,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){xn(o,l,b)}else f.current=null}function AR(o){var l=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(b){xn(o,o.return,b)}}function t_(o,l,f){try{var p=o.stateNode;yH(p,o.type,f,l),p[Fs]=l}catch(b){xn(o,o.return,b)}}function SR(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&pl(o.type)||o.tag===4}function n_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||SR(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&pl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function r_(o,l,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Fo));else if(p!==4&&(p===27&&pl(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(r_(o,l,f),o=o.sibling;o!==null;)r_(o,l,f),o=o.sibling}function nb(o,l,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(p!==4&&(p===27&&pl(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(nb(o,l,f),o=o.sibling;o!==null;)nb(o,l,f),o=o.sibling}function NR(o){var l=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);ss(l,p,f),l[es]=o,l[Fs]=f}catch(C){xn(o,o.return,C)}}var Zo=!1,Sr=!1,s_=!1,TR=typeof WeakSet=="function"?WeakSet:Set,Wr=null;function Zz(o,l){if(o=o.containerInfo,S_=_b,o=BI(o),Xv(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var b=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break e}var O=0,H=-1,X=-1,se=0,he=0,ge=o,ae=null;t:for(;;){for(var ce;ge!==f||b!==0&&ge.nodeType!==3||(H=O+b),ge!==C||p!==0&&ge.nodeType!==3||(X=O+p),ge.nodeType===3&&(O+=ge.nodeValue.length),(ce=ge.firstChild)!==null;)ae=ge,ge=ce;for(;;){if(ge===o)break t;if(ae===f&&++se===b&&(H=O),ae===C&&++he===p&&(X=O),(ce=ge.nextSibling)!==null)break;ge=ae,ae=ge.parentNode}ge=ce}f=H===-1||X===-1?null:{start:H,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(N_={focusedElem:o,selectionRange:f},_b=!1,Wr=l;Wr!==null;)if(l=Wr,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Wr=o;else for(;Wr!==null;){switch(l=Wr,C=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)b=o[f],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,f=l,b=C.memoizedProps,C=C.memoizedState,p=f.stateNode;try{var Ze=qu(f.type,b);o=p.getSnapshotBeforeUpdate(Ze,C),p.__reactInternalSnapshotBeforeUpdate=o}catch(ht){xn(f,f.return,ht)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)O_(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":O_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Wr=o;break}Wr=l.return}}function IR(o,l,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:Jo(o,f),p&4&&Jp(5,f);break;case 1:if(Jo(o,f),p&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(O){xn(f,f.return,O)}else{var b=qu(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(b,l,o.__reactInternalSnapshotBeforeUpdate)}catch(O){xn(f,f.return,O)}}p&64&&CR(f),p&512&&Qp(f,f.return);break;case 3:if(Jo(o,f),p&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{fO(o,l)}catch(O){xn(f,f.return,O)}}break;case 27:l===null&&p&4&&NR(f);case 26:case 5:Jo(o,f),l===null&&p&4&&AR(f),p&512&&Qp(f,f.return);break;case 12:Jo(o,f);break;case 31:Jo(o,f),p&4&&xR(o,f);break;case 13:Jo(o,f),p&4&&kR(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=iH.bind(null,f),SH(o,f))));break;case 22:if(p=f.memoizedState!==null||Zo,!p){l=l!==null&&l.memoizedState!==null||Sr,b=Zo;var C=Sr;Zo=p,(Sr=l)&&!C?Qo(o,f,(f.subtreeFlags&8772)!==0):Jo(o,f),Zo=b,Sr=C}break;case 30:break;default:Jo(o,f)}}function OR(o){var l=o.alternate;l!==null&&(o.alternate=null,OR(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Uv(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var er=null,zs=!1;function Xo(o,l,f){for(f=f.child;f!==null;)RR(o,l,f),f=f.sibling}function RR(o,l,f){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(_p,f)}catch{}switch(f.tag){case 26:Sr||oo(f,l),Xo(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Sr||oo(f,l);var p=er,b=zs;pl(f.type)&&(er=f.stateNode,zs=!1),Xo(o,l,f),c0(f.stateNode),er=p,zs=b;break;case 5:Sr||oo(f,l);case 6:if(p=er,b=zs,er=null,Xo(o,l,f),er=p,zs=b,er!==null)if(zs)try{(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).removeChild(f.stateNode)}catch(C){xn(f,l,C)}else try{er.removeChild(f.stateNode)}catch(C){xn(f,l,C)}break;case 18:er!==null&&(zs?(o=er,Cx(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Xf(o)):Cx(er,f.stateNode));break;case 4:p=er,b=zs,er=f.stateNode.containerInfo,zs=!0,Xo(o,l,f),er=p,zs=b;break;case 0:case 11:case 14:case 15:ol(2,f,l),Sr||ol(4,f,l),Xo(o,l,f);break;case 1:Sr||(oo(f,l),p=f.stateNode,typeof p.componentWillUnmount=="function"&&_R(f,l,p)),Xo(o,l,f);break;case 21:Xo(o,l,f);break;case 22:Sr=(p=Sr)||f.memoizedState!==null,Xo(o,l,f),Sr=p;break;default:Xo(o,l,f)}}function xR(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Xf(o)}catch(f){xn(l,l.return,f)}}}function kR(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Xf(o)}catch(f){xn(l,l.return,f)}}function Xz(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new TR),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new TR),l;default:throw Error(r(435,o.tag))}}function rb(o,l){var f=Xz(o);l.forEach(function(p){if(!f.has(p)){f.add(p);var b=aH.bind(null,o,p);p.then(b,b)}})}function Hs(o,l){var f=l.deletions;if(f!==null)for(var p=0;p<f.length;p++){var b=f[p],C=o,O=l,H=O;e:for(;H!==null;){switch(H.tag){case 27:if(pl(H.type)){er=H.stateNode,zs=!1;break e}break;case 5:er=H.stateNode,zs=!1;break e;case 3:case 4:er=H.stateNode.containerInfo,zs=!0;break e}H=H.return}if(er===null)throw Error(r(160));RR(C,O,b),er=null,zs=!1,C=b.alternate,C!==null&&(C.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)PR(l,o),l=l.sibling}var xa=null;function PR(o,l){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Hs(l,o),qs(o),p&4&&(ol(3,o,o.return),Jp(3,o),ol(5,o,o.return));break;case 1:Hs(l,o),qs(o),p&512&&(Sr||f===null||oo(f,f.return)),p&64&&Zo&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var b=xa;if(Hs(l,o),qs(o),p&512&&(Sr||f===null||oo(f,f.return)),p&4){var C=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":C=b.getElementsByTagName("title")[0],(!C||C[Np]||C[es]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=b.createElement(p),b.head.insertBefore(C,b.querySelector("head > title"))),ss(C,p,f),C[es]=o,qr(C),p=C;break e;case"link":var O=Px("link","href",b).get(p+(f.href||""));if(O){for(var H=0;H<O.length;H++)if(C=O[H],C.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&C.getAttribute("rel")===(f.rel==null?null:f.rel)&&C.getAttribute("title")===(f.title==null?null:f.title)&&C.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){O.splice(H,1);break t}}C=b.createElement(p),ss(C,p,f),b.head.appendChild(C);break;case"meta":if(O=Px("meta","content",b).get(p+(f.content||""))){for(H=0;H<O.length;H++)if(C=O[H],C.getAttribute("content")===(f.content==null?null:""+f.content)&&C.getAttribute("name")===(f.name==null?null:f.name)&&C.getAttribute("property")===(f.property==null?null:f.property)&&C.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&C.getAttribute("charset")===(f.charSet==null?null:f.charSet)){O.splice(H,1);break t}}C=b.createElement(p),ss(C,p,f),b.head.appendChild(C);break;default:throw Error(r(468,p))}C[es]=o,qr(C),p=C}o.stateNode=p}else Ux(b,o.type,o.stateNode);else o.stateNode=kx(b,p,o.memoizedProps);else C!==p?(C===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):C.count--,p===null?Ux(b,o.type,o.stateNode):kx(b,p,o.memoizedProps)):p===null&&o.stateNode!==null&&t_(o,o.memoizedProps,f.memoizedProps)}break;case 27:Hs(l,o),qs(o),p&512&&(Sr||f===null||oo(f,f.return)),f!==null&&p&4&&t_(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Hs(l,o),qs(o),p&512&&(Sr||f===null||oo(f,f.return)),o.flags&32){b=o.stateNode;try{Ef(b,"")}catch(Ze){xn(o,o.return,Ze)}}p&4&&o.stateNode!=null&&(b=o.memoizedProps,t_(o,b,f!==null?f.memoizedProps:b)),p&1024&&(s_=!0);break;case 6:if(Hs(l,o),qs(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(Ze){xn(o,o.return,Ze)}}break;case 3:if(wb=null,b=xa,xa=yb(l.containerInfo),Hs(l,o),xa=b,qs(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{Xf(l.containerInfo)}catch(Ze){xn(o,o.return,Ze)}s_&&(s_=!1,UR(o));break;case 4:p=xa,xa=yb(o.stateNode.containerInfo),Hs(l,o),qs(o),xa=p;break;case 12:Hs(l,o),qs(o);break;case 31:Hs(l,o),qs(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,rb(o,p)));break;case 13:Hs(l,o),qs(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ib=ps()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,rb(o,p)));break;case 22:b=o.memoizedState!==null;var X=f!==null&&f.memoizedState!==null,se=Zo,he=Sr;if(Zo=se||b,Sr=he||X,Hs(l,o),Sr=he,Zo=se,qs(o),p&8192)e:for(l=o.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(f===null||X||Zo||Sr||Wu(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){X=f=l;try{if(C=X.stateNode,b)O=C.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{H=X.stateNode;var ge=X.memoizedProps.style,ae=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;H.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Ze){xn(X,X.return,Ze)}}}else if(l.tag===6){if(f===null){X=l;try{X.stateNode.nodeValue=b?"":X.memoizedProps}catch(Ze){xn(X,X.return,Ze)}}}else if(l.tag===18){if(f===null){X=l;try{var ce=X.stateNode;b?_x(ce,!0):_x(X.stateNode,!1)}catch(Ze){xn(X,X.return,Ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,rb(o,f))));break;case 19:Hs(l,o),qs(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,rb(o,p)));break;case 30:break;case 21:break;default:Hs(l,o),qs(o)}}function qs(o){var l=o.flags;if(l&2){try{for(var f,p=o.return;p!==null;){if(SR(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var b=f.stateNode,C=n_(o);nb(o,C,b);break;case 5:var O=f.stateNode;f.flags&32&&(Ef(O,""),f.flags&=-33);var H=n_(o);nb(o,H,O);break;case 3:case 4:var X=f.stateNode.containerInfo,se=n_(o);r_(o,se,X);break;default:throw Error(r(161))}}catch(he){xn(o,o.return,he)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function UR(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;UR(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Jo(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)IR(o,l.alternate,l),l=l.sibling}function Wu(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:ol(4,l,l.return),Wu(l);break;case 1:oo(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&_R(l,l.return,f),Wu(l);break;case 27:c0(l.stateNode);case 26:case 5:oo(l,l.return),Wu(l);break;case 22:l.memoizedState===null&&Wu(l);break;case 30:Wu(l);break;default:Wu(l)}o=o.sibling}}function Qo(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=o,C=l,O=C.flags;switch(C.tag){case 0:case 11:case 15:Qo(b,C,f),Jp(4,C);break;case 1:if(Qo(b,C,f),p=C,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(se){xn(p,p.return,se)}if(p=C,b=p.updateQueue,b!==null){var H=p.stateNode;try{var X=b.shared.hiddenCallbacks;if(X!==null)for(b.shared.hiddenCallbacks=null,b=0;b<X.length;b++)dO(X[b],H)}catch(se){xn(p,p.return,se)}}f&&O&64&&CR(C),Qp(C,C.return);break;case 27:NR(C);case 26:case 5:Qo(b,C,f),f&&p===null&&O&4&&AR(C),Qp(C,C.return);break;case 12:Qo(b,C,f);break;case 31:Qo(b,C,f),f&&O&4&&xR(b,C);break;case 13:Qo(b,C,f),f&&O&4&&kR(b,C);break;case 22:C.memoizedState===null&&Qo(b,C,f),Qp(C,C.return);break;case 30:break;default:Qo(b,C,f)}l=l.sibling}}function i_(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Bp(f))}function a_(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Bp(o))}function ka(o,l,f,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)$R(o,l,f,p),l=l.sibling}function $R(o,l,f,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:ka(o,l,f,p),b&2048&&Jp(9,l);break;case 1:ka(o,l,f,p);break;case 3:ka(o,l,f,p),b&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Bp(o)));break;case 12:if(b&2048){ka(o,l,f,p),o=l.stateNode;try{var C=l.memoizedProps,O=C.id,H=C.onPostCommit;typeof H=="function"&&H(O,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(X){xn(l,l.return,X)}}else ka(o,l,f,p);break;case 31:ka(o,l,f,p);break;case 13:ka(o,l,f,p);break;case 23:break;case 22:C=l.stateNode,O=l.alternate,l.memoizedState!==null?C._visibility&2?ka(o,l,f,p):e0(o,l):C._visibility&2?ka(o,l,f,p):(C._visibility|=2,Ff(o,l,f,p,(l.subtreeFlags&10256)!==0||!1)),b&2048&&i_(O,l);break;case 24:ka(o,l,f,p),b&2048&&a_(l.alternate,l);break;default:ka(o,l,f,p)}}function Ff(o,l,f,p,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var C=o,O=l,H=f,X=p,se=O.flags;switch(O.tag){case 0:case 11:case 15:Ff(C,O,H,X,b),Jp(8,O);break;case 23:break;case 22:var he=O.stateNode;O.memoizedState!==null?he._visibility&2?Ff(C,O,H,X,b):e0(C,O):(he._visibility|=2,Ff(C,O,H,X,b)),b&&se&2048&&i_(O.alternate,O);break;case 24:Ff(C,O,H,X,b),b&&se&2048&&a_(O.alternate,O);break;default:Ff(C,O,H,X,b)}l=l.sibling}}function e0(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,p=l,b=p.flags;switch(p.tag){case 22:e0(f,p),b&2048&&i_(p.alternate,p);break;case 24:e0(f,p),b&2048&&a_(p.alternate,p);break;default:e0(f,p)}l=l.sibling}}var t0=8192;function jf(o,l,f){if(o.subtreeFlags&t0)for(o=o.child;o!==null;)DR(o,l,f),o=o.sibling}function DR(o,l,f){switch(o.tag){case 26:jf(o,l,f),o.flags&t0&&o.memoizedState!==null&&MH(f,xa,o.memoizedState,o.memoizedProps);break;case 5:jf(o,l,f);break;case 3:case 4:var p=xa;xa=yb(o.stateNode.containerInfo),jf(o,l,f),xa=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=t0,t0=16777216,jf(o,l,f),t0=p):jf(o,l,f));break;default:jf(o,l,f)}}function MR(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function n0(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];Wr=p,BR(p,o)}MR(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)LR(o),o=o.sibling}function LR(o){switch(o.tag){case 0:case 11:case 15:n0(o),o.flags&2048&&ol(9,o,o.return);break;case 3:n0(o);break;case 12:n0(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,sb(o)):n0(o);break;default:n0(o)}}function sb(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];Wr=p,BR(p,o)}MR(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:ol(8,l,l.return),sb(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,sb(l));break;default:sb(l)}o=o.sibling}}function BR(o,l){for(;Wr!==null;){var f=Wr;switch(f.tag){case 0:case 11:case 15:ol(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Bp(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,Wr=p;else e:for(f=o;Wr!==null;){p=Wr;var b=p.sibling,C=p.return;if(OR(p),p===f){Wr=null;break e}if(b!==null){b.return=C,Wr=b;break e}Wr=C}}}var Jz={getCacheForType:function(o){var l=ns(Cr),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f},cacheSignal:function(){return ns(Cr).controller.signal}},Qz=typeof WeakMap=="function"?WeakMap:Map,_n=0,jn=null,Yt=null,en=0,Rn=0,Ti=null,cl=!1,zf=!1,o_=!1,ec=0,lr=0,ll=0,Vu=0,c_=0,Ii=0,Hf=0,r0=null,Ws=null,l_=!1,ib=0,FR=0,ab=1/0,ob=null,ul=null,Pr=0,dl=null,qf=null,tc=0,u_=0,d_=null,jR=null,s0=0,f_=null;function Oi(){return(_n&2)!==0&&en!==0?en&-en:_.T!==null?b_():rI()}function zR(){if(Ii===0)if((en&536870912)===0||rn){var o=my;my<<=1,(my&3932160)===0&&(my=262144),Ii=o}else Ii=536870912;return o=Si.current,o!==null&&(o.flags|=32),Ii}function Vs(o,l,f){(o===jn&&(Rn===2||Rn===9)||o.cancelPendingCommit!==null)&&(Wf(o,0),fl(o,en,Ii,!1)),Sp(o,f),((_n&2)===0||o!==jn)&&(o===jn&&((_n&2)===0&&(Vu|=f),lr===4&&fl(o,en,Ii,!1)),co(o))}function HR(o,l,f){if((_n&6)!==0)throw Error(r(327));var p=!f&&(l&127)===0&&(l&o.expiredLanes)===0||Ap(o,l),b=p?nH(o,l):p_(o,l,!0),C=p;do{if(b===0){zf&&!p&&fl(o,l,0,!1);break}else{if(f=o.current.alternate,C&&!eH(f)){b=p_(o,l,!1),C=!1;continue}if(b===2){if(C=l,o.errorRecoveryDisabledLanes&C)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var H=o;b=r0;var X=H.current.memoizedState.isDehydrated;if(X&&(Wf(H,O).flags|=256),O=p_(H,O,!1),O!==2){if(o_&&!X){H.errorRecoveryDisabledLanes|=C,Vu|=C,b=4;break e}C=Ws,Ws=b,C!==null&&(Ws===null?Ws=C:Ws.push.apply(Ws,C))}b=O}if(C=!1,b!==2)continue}}if(b===1){Wf(o,0),fl(o,l,0,!0);break}e:{switch(p=o,C=b,C){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:fl(p,l,Ii,!cl);break e;case 2:Ws=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=ib+300-ps(),10<b)){if(fl(p,l,Ii,!cl),yy(p,0,!0)!==0)break e;tc=l,p.timeoutHandle=Ex(qR.bind(null,p,f,Ws,ob,l_,l,Ii,Vu,Hf,cl,C,"Throttled",-0,0),b);break e}qR(p,f,Ws,ob,l_,l,Ii,Vu,Hf,cl,C,null,-0,0)}}break}while(!0);co(o)}function qR(o,l,f,p,b,C,O,H,X,se,he,ge,ae,ce){if(o.timeoutHandle=-1,ge=l.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fo},DR(l,C,ge);var Ze=(C&62914560)===C?ib-ps():(C&4194048)===C?FR-ps():0;if(Ze=LH(ge,Ze),Ze!==null){tc=C,o.cancelPendingCommit=Ze(JR.bind(null,o,l,C,f,p,b,O,H,X,he,ge,null,ae,ce)),fl(o,C,O,!se);return}}JR(o,l,C,f,p,b,O,H,X)}function eH(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var b=f[p],C=b.getSnapshot;b=b.value;try{if(!_i(C(),b))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fl(o,l,f,p){l&=~c_,l&=~Vu,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var b=l;0<b;){var C=31-Ci(b),O=1<<C;p[C]=-1,b&=~O}f!==0&&eI(o,f,l)}function cb(){return(_n&6)===0?(i0(0),!1):!0}function h_(){if(Yt!==null){if(Rn===0)var o=Yt.return;else o=Yt,qo=Mu=null,OC(o),$f=null,jp=0,o=Yt;for(;o!==null;)vR(o.alternate,o),o=o.return;Yt=null}}function Wf(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,EH(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),tc=0,h_(),jn=o,Yt=f=zo(o.current,null),en=l,Rn=0,Ti=null,cl=!1,zf=Ap(o,l),o_=!1,Hf=Ii=c_=Vu=ll=lr=0,Ws=r0=null,l_=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var b=31-Ci(p),C=1<<b;l|=o[b],p&=~C}return ec=l,Oy(),f}function WR(o,l){Pt=null,_.H=Yp,l===Uf||l===My?(l=oO(),Rn=3):l===yC?(l=oO(),Rn=4):Rn=l===WC?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ti=l,Yt===null&&(lr=1,Xy(o,Zi(l,o.current)))}function VR(){var o=Si.current;return o===null?!0:(en&4194048)===en?ea===null:(en&62914560)===en||(en&536870912)!==0?o===ea:!1}function GR(){var o=_.H;return _.H=Yp,o===null?Yp:o}function KR(){var o=_.A;return _.A=Jz,o}function lb(){lr=4,cl||(en&4194048)!==en&&Si.current!==null||(zf=!0),(ll&134217727)===0&&(Vu&134217727)===0||jn===null||fl(jn,en,Ii,!1)}function p_(o,l,f){var p=_n;_n|=2;var b=GR(),C=KR();(jn!==o||en!==l)&&(ob=null,Wf(o,l)),l=!1;var O=lr;e:do try{if(Rn!==0&&Yt!==null){var H=Yt,X=Ti;switch(Rn){case 8:h_(),O=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(l=!0);var se=Rn;if(Rn=0,Ti=null,Vf(o,H,X,se),f&&zf){O=0;break e}break;default:se=Rn,Rn=0,Ti=null,Vf(o,H,X,se)}}tH(),O=lr;break}catch(he){WR(o,he)}while(!0);return l&&o.shellSuspendCounter++,qo=Mu=null,_n=p,_.H=b,_.A=C,Yt===null&&(jn=null,en=0,Oy()),O}function tH(){for(;Yt!==null;)YR(Yt)}function nH(o,l){var f=_n;_n|=2;var p=GR(),b=KR();jn!==o||en!==l?(ob=null,ab=ps()+500,Wf(o,l)):zf=Ap(o,l);e:do try{if(Rn!==0&&Yt!==null){l=Yt;var C=Ti;t:switch(Rn){case 1:Rn=0,Ti=null,Vf(o,l,C,1);break;case 2:case 9:if(iO(C)){Rn=0,Ti=null,ZR(l);break}l=function(){Rn!==2&&Rn!==9||jn!==o||(Rn=7),co(o)},C.then(l,l);break e;case 3:Rn=7;break e;case 4:Rn=5;break e;case 7:iO(C)?(Rn=0,Ti=null,ZR(l)):(Rn=0,Ti=null,Vf(o,l,C,7));break;case 5:var O=null;switch(Yt.tag){case 26:O=Yt.memoizedState;case 5:case 27:var H=Yt;if(O?$x(O):H.stateNode.complete){Rn=0,Ti=null;var X=H.sibling;if(X!==null)Yt=X;else{var se=H.return;se!==null?(Yt=se,ub(se)):Yt=null}break t}}Rn=0,Ti=null,Vf(o,l,C,5);break;case 6:Rn=0,Ti=null,Vf(o,l,C,6);break;case 8:h_(),lr=6;break e;default:throw Error(r(462))}}rH();break}catch(he){WR(o,he)}while(!0);return qo=Mu=null,_.H=p,_.A=b,_n=f,Yt!==null?0:(jn=null,en=0,Oy(),lr)}function rH(){for(;Yt!==null&&!ly();)YR(Yt)}function YR(o){var l=wR(o.alternate,o,ec);o.memoizedProps=o.pendingProps,l===null?ub(o):Yt=l}function ZR(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=hR(f,l,l.pendingProps,l.type,void 0,en);break;case 11:l=hR(f,l,l.pendingProps,l.type.render,l.ref,en);break;case 5:OC(l);default:vR(f,l),l=Yt=KI(l,ec),l=wR(f,l,ec)}o.memoizedProps=o.pendingProps,l===null?ub(o):Yt=l}function Vf(o,l,f,p){qo=Mu=null,OC(l),$f=null,jp=0;var b=l.return;try{if(Wz(o,b,l,f,en)){lr=1,Xy(o,Zi(f,o.current)),Yt=null;return}}catch(C){if(b!==null)throw Yt=b,C;lr=1,Xy(o,Zi(f,o.current)),Yt=null;return}l.flags&32768?(rn||p===1?o=!0:zf||(en&536870912)!==0?o=!1:(cl=o=!0,(p===2||p===9||p===3||p===6)&&(p=Si.current,p!==null&&p.tag===13&&(p.flags|=16384))),XR(l,o)):ub(l)}function ub(o){var l=o;do{if((l.flags&32768)!==0){XR(l,cl);return}o=l.return;var f=Kz(l.alternate,l,ec);if(f!==null){Yt=f;return}if(l=l.sibling,l!==null){Yt=l;return}Yt=l=o}while(l!==null);lr===0&&(lr=5)}function XR(o,l){do{var f=Yz(o.alternate,o);if(f!==null){f.flags&=32767,Yt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){Yt=o;return}Yt=o=f}while(o!==null);lr=6,Yt=null}function JR(o,l,f,p,b,C,O,H,X){o.cancelPendingCommit=null;do db();while(Pr!==0);if((_n&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(C=l.lanes|l.childLanes,C|=nC,Dj(o,f,C,O,H,X),o===jn&&(Yt=jn=null,en=0),qf=l,dl=o,tc=f,u_=C,d_=b,jR=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,oH(hf,function(){return rx(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=_.T,_.T=null,b=T.p,T.p=2,O=_n,_n|=4;try{Zz(o,l,f)}finally{_n=O,T.p=b,_.T=p}}Pr=1,QR(),ex(),tx()}}function QR(){if(Pr===1){Pr=0;var o=dl,l=qf,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=_.T,_.T=null;var p=T.p;T.p=2;var b=_n;_n|=4;try{PR(l,o);var C=N_,O=BI(o.containerInfo),H=C.focusedElem,X=C.selectionRange;if(O!==H&&H&&H.ownerDocument&&LI(H.ownerDocument.documentElement,H)){if(X!==null&&Xv(H)){var se=X.start,he=X.end;if(he===void 0&&(he=se),"selectionStart"in H)H.selectionStart=se,H.selectionEnd=Math.min(he,H.value.length);else{var ge=H.ownerDocument||document,ae=ge&&ge.defaultView||window;if(ae.getSelection){var ce=ae.getSelection(),Ze=H.textContent.length,ht=Math.min(X.start,Ze),Mn=X.end===void 0?ht:Math.min(X.end,Ze);!ce.extend&&ht>Mn&&(O=Mn,Mn=ht,ht=O);var ne=MI(H,ht),ee=MI(H,Mn);if(ne&&ee&&(ce.rangeCount!==1||ce.anchorNode!==ne.node||ce.anchorOffset!==ne.offset||ce.focusNode!==ee.node||ce.focusOffset!==ee.offset)){var re=ge.createRange();re.setStart(ne.node,ne.offset),ce.removeAllRanges(),ht>Mn?(ce.addRange(re),ce.extend(ee.node,ee.offset)):(re.setEnd(ee.node,ee.offset),ce.addRange(re))}}}}for(ge=[],ce=H;ce=ce.parentNode;)ce.nodeType===1&&ge.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<ge.length;H++){var me=ge[H];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}_b=!!S_,N_=S_=null}finally{_n=b,T.p=p,_.T=f}}o.current=l,Pr=2}}function ex(){if(Pr===2){Pr=0;var o=dl,l=qf,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=_.T,_.T=null;var p=T.p;T.p=2;var b=_n;_n|=4;try{IR(o,l.alternate,l)}finally{_n=b,T.p=p,_.T=f}}Pr=3}}function tx(){if(Pr===4||Pr===3){Pr=0,uy();var o=dl,l=qf,f=tc,p=jR;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Pr=5:(Pr=0,qf=dl=null,nx(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(ul=null),kv(f),l=l.stateNode,vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(_p,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=_.T,b=T.p,T.p=2,_.T=null;try{for(var C=o.onRecoverableError,O=0;O<p.length;O++){var H=p[O];C(H.value,{componentStack:H.stack})}}finally{_.T=l,T.p=b}}(tc&3)!==0&&db(),co(o),b=o.pendingLanes,(f&261930)!==0&&(b&42)!==0?o===f_?s0++:(s0=0,f_=o):s0=0,i0(0)}}function nx(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Bp(l)))}function db(){return QR(),ex(),tx(),rx()}function rx(){if(Pr!==5)return!1;var o=dl,l=u_;u_=0;var f=kv(tc),p=_.T,b=T.p;try{T.p=32>f?32:f,_.T=null,f=d_,d_=null;var C=dl,O=tc;if(Pr=0,qf=dl=null,tc=0,(_n&6)!==0)throw Error(r(331));var H=_n;if(_n|=4,LR(C.current),$R(C,C.current,O,f),_n=H,i0(0,!1),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(_p,C)}catch{}return!0}finally{T.p=b,_.T=p,nx(o,l)}}function sx(o,l,f){l=Zi(f,l),l=qC(o.stateNode,l,2),o=sl(o,l,2),o!==null&&(Sp(o,2),co(o))}function xn(o,l,f){if(o.tag===3)sx(o,o,f);else for(;l!==null;){if(l.tag===3){sx(l,o,f);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ul===null||!ul.has(p))){o=Zi(f,o),f=iR(2),p=sl(l,f,2),p!==null&&(aR(f,p,l,o),Sp(p,2),co(p));break}}l=l.return}}function m_(o,l,f){var p=o.pingCache;if(p===null){p=o.pingCache=new Qz;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(f)||(o_=!0,b.add(f),o=sH.bind(null,o,l,f),l.then(o,o))}function sH(o,l,f){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,jn===o&&(en&f)===f&&(lr===4||lr===3&&(en&62914560)===en&&300>ps()-ib?(_n&2)===0&&Wf(o,0):c_|=f,Hf===en&&(Hf=0)),co(o)}function ix(o,l){l===0&&(l=QT()),o=Uu(o,l),o!==null&&(Sp(o,l),co(o))}function iH(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),ix(o,f)}function aH(o,l){var f=0;switch(o.tag){case 31:case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),ix(o,f)}function oH(o,l){return ff(o,l)}var fb=null,Gf=null,g_=!1,hb=!1,y_=!1,hl=0;function co(o){o!==Gf&&o.next===null&&(Gf===null?fb=Gf=o:Gf=Gf.next=o),hb=!0,g_||(g_=!0,lH())}function i0(o,l){if(!y_&&hb){y_=!0;do for(var f=!1,p=fb;p!==null;){if(o!==0){var b=p.pendingLanes;if(b===0)var C=0;else{var O=p.suspendedLanes,H=p.pingedLanes;C=(1<<31-Ci(42|o)+1)-1,C&=b&~(O&~H),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(f=!0,lx(p,C))}else C=en,C=yy(p,p===jn?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(C&3)===0||Ap(p,C)||(f=!0,lx(p,C));p=p.next}while(f);y_=!1}}function cH(){ax()}function ax(){hb=g_=!1;var o=0;hl!==0&&wH()&&(o=hl);for(var l=ps(),f=null,p=fb;p!==null;){var b=p.next,C=ox(p,l);C===0?(p.next=null,f===null?fb=b:f.next=b,b===null&&(Gf=f)):(f=p,(o!==0||(C&3)!==0)&&(hb=!0)),p=b}Pr!==0&&Pr!==5||i0(o),hl!==0&&(hl=0)}function ox(o,l){for(var f=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var O=31-Ci(C),H=1<<O,X=b[O];X===-1?((H&f)===0||(H&p)!==0)&&(b[O]=$j(H,l)):X<=l&&(o.expiredLanes|=H),C&=~H}if(l=jn,f=en,f=yy(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===l&&(Rn===2||Rn===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Iu(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Ap(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(p!==null&&Iu(p),kv(f)){case 2:case 8:f=fy;break;case 32:f=hf;break;case 268435456:f=hy;break;default:f=hf}return p=cx.bind(null,o),f=ff(f,p),o.callbackPriority=l,o.callbackNode=f,l}return p!==null&&p!==null&&Iu(p),o.callbackPriority=2,o.callbackNode=null,2}function cx(o,l){if(Pr!==0&&Pr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(db()&&o.callbackNode!==f)return null;var p=en;return p=yy(o,o===jn?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(HR(o,p,l),ox(o,ps()),o.callbackNode!=null&&o.callbackNode===f?cx.bind(null,o):null)}function lx(o,l){if(db())return null;HR(o,l,!0)}function lH(){vH(function(){(_n&6)!==0?ff(Cp,cH):ax()})}function b_(){if(hl===0){var o=kf;o===0&&(o=py,py<<=1,(py&261888)===0&&(py=256)),hl=o}return hl}function ux(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:vy(""+o)}function dx(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function uH(o,l,f,p,b){if(l==="submit"&&f&&f.stateNode===b){var C=ux((b[Fs]||null).action),O=p.submitter;O&&(l=(l=O[Fs]||null)?ux(l.formAction):O.getAttribute("formAction"),l!==null&&(C=l,O=null));var H=new Sy("action","action",null,p,b);o.push({event:H,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(hl!==0){var X=O?dx(b,O):new FormData(b);LC(f,{pending:!0,data:X,method:b.method,action:C},null,X)}}else typeof C=="function"&&(H.preventDefault(),X=O?dx(b,O):new FormData(b),LC(f,{pending:!0,data:X,method:b.method,action:C},C,X))},currentTarget:b}]})}}for(var w_=0;w_<tC.length;w_++){var E_=tC[w_],dH=E_.toLowerCase(),fH=E_[0].toUpperCase()+E_.slice(1);Ra(dH,"on"+fH)}Ra(zI,"onAnimationEnd"),Ra(HI,"onAnimationIteration"),Ra(qI,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(Iz,"onTransitionRun"),Ra(Oz,"onTransitionStart"),Ra(Rz,"onTransitionCancel"),Ra(WI,"onTransitionEnd"),bf("onMouseEnter",["mouseout","mouseover"]),bf("onMouseLeave",["mouseout","mouseover"]),bf("onPointerEnter",["pointerout","pointerover"]),bf("onPointerLeave",["pointerout","pointerover"]),Ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ru("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var a0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(a0));function fx(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],b=p.event;p=p.listeners;e:{var C=void 0;if(l)for(var O=p.length-1;0<=O;O--){var H=p[O],X=H.instance,se=H.currentTarget;if(H=H.listener,X!==C&&b.isPropagationStopped())break e;C=H,b.currentTarget=se;try{C(b)}catch(he){Iy(he)}b.currentTarget=null,C=X}else for(O=0;O<p.length;O++){if(H=p[O],X=H.instance,se=H.currentTarget,H=H.listener,X!==C&&b.isPropagationStopped())break e;C=H,b.currentTarget=se;try{C(b)}catch(he){Iy(he)}b.currentTarget=null,C=X}}}}function Zt(o,l){var f=l[Pv];f===void 0&&(f=l[Pv]=new Set);var p=o+"__bubble";f.has(p)||(hx(l,o,2,!1),f.add(p))}function v_(o,l,f){var p=0;l&&(p|=4),hx(f,o,p,l)}var pb="_reactListening"+Math.random().toString(36).slice(2);function C_(o){if(!o[pb]){o[pb]=!0,aI.forEach(function(f){f!=="selectionchange"&&(hH.has(f)||v_(f,!1,o),v_(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[pb]||(l[pb]=!0,v_("selectionchange",!1,l))}}function hx(o,l,f,p){switch(zx(l)){case 2:var b=jH;break;case 8:b=zH;break;default:b=M_}f=b.bind(null,l,f,o),b=void 0,!zv||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(l,f,{capture:!0,passive:b}):o.addEventListener(l,f,!0):b!==void 0?o.addEventListener(l,f,{passive:b}):o.addEventListener(l,f,!1)}function __(o,l,f,p,b){var C=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var O=p.tag;if(O===3||O===4){var H=p.stateNode.containerInfo;if(H===b)break;if(O===4)for(O=p.return;O!==null;){var X=O.tag;if((X===3||X===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;H!==null;){if(O=mf(H),O===null)return;if(X=O.tag,X===5||X===6||X===26||X===27){p=C=O;continue e}H=H.parentNode}}p=p.return}bI(function(){var se=C,he=Fv(f),ge=[];e:{var ae=VI.get(o);if(ae!==void 0){var ce=Sy,Ze=o;switch(o){case"keypress":if(_y(f)===0)break e;case"keydown":case"keyup":ce=az;break;case"focusin":Ze="focus",ce=Vv;break;case"focusout":Ze="blur",ce=Vv;break;case"beforeblur":case"afterblur":ce=Vv;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=vI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Kj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=lz;break;case zI:case HI:case qI:ce=Xj;break;case WI:ce=dz;break;case"scroll":case"scrollend":ce=Vj;break;case"wheel":ce=hz;break;case"copy":case"cut":case"paste":ce=Qj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=_I;break;case"toggle":case"beforetoggle":ce=mz}var ht=(l&4)!==0,Mn=!ht&&(o==="scroll"||o==="scrollend"),ne=ht?ae!==null?ae+"Capture":null:ae;ht=[];for(var ee=se,re;ee!==null;){var me=ee;if(re=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||re===null||ne===null||(me=Ip(ee,ne),me!=null&&ht.push(o0(ee,me,re))),Mn)break;ee=ee.return}0<ht.length&&(ae=new ce(ae,Ze,null,f,he),ge.push({event:ae,listeners:ht}))}}if((l&7)===0){e:{if(ae=o==="mouseover"||o==="pointerover",ce=o==="mouseout"||o==="pointerout",ae&&f!==Bv&&(Ze=f.relatedTarget||f.fromElement)&&(mf(Ze)||Ze[pf]))break e;if((ce||ae)&&(ae=he.window===he?he:(ae=he.ownerDocument)?ae.defaultView||ae.parentWindow:window,ce?(Ze=f.relatedTarget||f.toElement,ce=se,Ze=Ze?mf(Ze):null,Ze!==null&&(Mn=i(Ze),ht=Ze.tag,Ze!==Mn||ht!==5&&ht!==27&&ht!==6)&&(Ze=null)):(ce=null,Ze=se),ce!==Ze)){if(ht=vI,me="onMouseLeave",ne="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(ht=_I,me="onPointerLeave",ne="onPointerEnter",ee="pointer"),Mn=ce==null?ae:Tp(ce),re=Ze==null?ae:Tp(Ze),ae=new ht(me,ee+"leave",ce,f,he),ae.target=Mn,ae.relatedTarget=re,me=null,mf(he)===se&&(ht=new ht(ne,ee+"enter",Ze,f,he),ht.target=re,ht.relatedTarget=Mn,me=ht),Mn=me,ce&&Ze)t:{for(ht=pH,ne=ce,ee=Ze,re=0,me=ne;me;me=ht(me))re++;me=0;for(var ct=ee;ct;ct=ht(ct))me++;for(;0<re-me;)ne=ht(ne),re--;for(;0<me-re;)ee=ht(ee),me--;for(;re--;){if(ne===ee||ee!==null&&ne===ee.alternate){ht=ne;break t}ne=ht(ne),ee=ht(ee)}ht=null}else ht=null;ce!==null&&px(ge,ae,ce,ht,!1),Ze!==null&&Mn!==null&&px(ge,Mn,Ze,ht,!0)}}e:{if(ae=se?Tp(se):window,ce=ae.nodeName&&ae.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ae.type==="file")var yn=xI;else if(OI(ae))if(kI)yn=Sz;else{yn=_z;var Je=Cz}else ce=ae.nodeName,!ce||ce.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?se&&Lv(se.elementType)&&(yn=xI):yn=Az;if(yn&&(yn=yn(o,se))){RI(ge,yn,f,he);break e}Je&&Je(o,ae,se),o==="focusout"&&se&&ae.type==="number"&&se.memoizedProps.value!=null&&Mv(ae,"number",ae.value)}switch(Je=se?Tp(se):window,o){case"focusin":(OI(Je)||Je.contentEditable==="true")&&(Af=Je,Jv=se,Dp=null);break;case"focusout":Dp=Jv=Af=null;break;case"mousedown":Qv=!0;break;case"contextmenu":case"mouseup":case"dragend":Qv=!1,FI(ge,f,he);break;case"selectionchange":if(Tz)break;case"keydown":case"keyup":FI(ge,f,he)}var Lt;if(Kv)e:{switch(o){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else _f?TI(o,f)&&(tn="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(tn="onCompositionStart");tn&&(AI&&f.locale!=="ko"&&(_f||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&_f&&(Lt=wI()):(Xc=he,Hv="value"in Xc?Xc.value:Xc.textContent,_f=!0)),Je=mb(se,tn),0<Je.length&&(tn=new CI(tn,o,null,f,he),ge.push({event:tn,listeners:Je}),Lt?tn.data=Lt:(Lt=II(f),Lt!==null&&(tn.data=Lt)))),(Lt=yz?bz(o,f):wz(o,f))&&(tn=mb(se,"onBeforeInput"),0<tn.length&&(Je=new CI("onBeforeInput","beforeinput",null,f,he),ge.push({event:Je,listeners:tn}),Je.data=Lt)),uH(ge,o,se,f,he)}fx(ge,l)})}function o0(o,l,f){return{instance:o,listener:l,currentTarget:f}}function mb(o,l){for(var f=l+"Capture",p=[];o!==null;){var b=o,C=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||C===null||(b=Ip(o,f),b!=null&&p.unshift(o0(o,b,C)),b=Ip(o,l),b!=null&&p.push(o0(o,b,C))),o.tag===3)return p;o=o.return}return[]}function pH(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function px(o,l,f,p,b){for(var C=l._reactName,O=[];f!==null&&f!==p;){var H=f,X=H.alternate,se=H.stateNode;if(H=H.tag,X!==null&&X===p)break;H!==5&&H!==26&&H!==27||se===null||(X=se,b?(se=Ip(f,C),se!=null&&O.unshift(o0(f,se,X))):b||(se=Ip(f,C),se!=null&&O.push(o0(f,se,X)))),f=f.return}O.length!==0&&o.push({event:l,listeners:O})}var mH=/\r\n?/g,gH=/\u0000|\uFFFD/g;function mx(o){return(typeof o=="string"?o:""+o).replace(mH,`
`).replace(gH,"")}function gx(o,l){return l=mx(l),mx(o)===l}function Dn(o,l,f,p,b,C){switch(f){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Ef(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Ef(o,""+p);break;case"className":wy(o,"class",p);break;case"tabIndex":wy(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":wy(o,f,p);break;case"style":gI(o,p,C);break;case"data":if(l!=="object"){wy(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=vy(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(f==="formAction"?(l!=="input"&&Dn(o,l,"name",b.name,b,null),Dn(o,l,"formEncType",b.formEncType,b,null),Dn(o,l,"formMethod",b.formMethod,b,null),Dn(o,l,"formTarget",b.formTarget,b,null)):(Dn(o,l,"encType",b.encType,b,null),Dn(o,l,"method",b.method,b,null),Dn(o,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=vy(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=Fo);break;case"onScroll":p!=null&&Zt("scroll",o);break;case"onScrollEnd":p!=null&&Zt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=vy(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":Zt("beforetoggle",o),Zt("toggle",o),by(o,"popover",p);break;case"xlinkActuate":Bo(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Bo(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Bo(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Bo(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Bo(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Bo(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Bo(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Bo(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Bo(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":by(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=qj.get(f)||f,by(o,f,p))}}function A_(o,l,f,p,b,C){switch(f){case"style":gI(o,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof p=="string"?Ef(o,p):(typeof p=="number"||typeof p=="bigint")&&Ef(o,""+p);break;case"onScroll":p!=null&&Zt("scroll",o);break;case"onScrollEnd":p!=null&&Zt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oI.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),l=f.slice(2,b?f.length-7:void 0),C=o[Fs]||null,C=C!=null?C[f]:null,typeof C=="function"&&o.removeEventListener(l,C,b),typeof p=="function")){typeof C!="function"&&C!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,p,b);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):by(o,f,p)}}}function ss(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",o),Zt("load",o);var p=!1,b=!1,C;for(C in f)if(f.hasOwnProperty(C)){var O=f[C];if(O!=null)switch(C){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Dn(o,l,C,O,f,null)}}b&&Dn(o,l,"srcSet",f.srcSet,f,null),p&&Dn(o,l,"src",f.src,f,null);return;case"input":Zt("invalid",o);var H=C=O=b=null,X=null,se=null;for(p in f)if(f.hasOwnProperty(p)){var he=f[p];if(he!=null)switch(p){case"name":b=he;break;case"type":O=he;break;case"checked":X=he;break;case"defaultChecked":se=he;break;case"value":C=he;break;case"defaultValue":H=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,l));break;default:Dn(o,l,p,he,f,null)}}fI(o,C,H,X,se,O,b,!1);return;case"select":Zt("invalid",o),p=O=C=null;for(b in f)if(f.hasOwnProperty(b)&&(H=f[b],H!=null))switch(b){case"value":C=H;break;case"defaultValue":O=H;break;case"multiple":p=H;default:Dn(o,l,b,H,f,null)}l=C,f=O,o.multiple=!!p,l!=null?wf(o,!!p,l,!1):f!=null&&wf(o,!!p,f,!0);return;case"textarea":Zt("invalid",o),C=b=p=null;for(O in f)if(f.hasOwnProperty(O)&&(H=f[O],H!=null))switch(O){case"value":p=H;break;case"defaultValue":b=H;break;case"children":C=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:Dn(o,l,O,H,f,null)}pI(o,p,b,C);return;case"option":for(X in f)if(f.hasOwnProperty(X)&&(p=f[X],p!=null))switch(X){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Dn(o,l,X,p,f,null)}return;case"dialog":Zt("beforetoggle",o),Zt("toggle",o),Zt("cancel",o),Zt("close",o);break;case"iframe":case"object":Zt("load",o);break;case"video":case"audio":for(p=0;p<a0.length;p++)Zt(a0[p],o);break;case"image":Zt("error",o),Zt("load",o);break;case"details":Zt("toggle",o);break;case"embed":case"source":case"link":Zt("error",o),Zt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in f)if(f.hasOwnProperty(se)&&(p=f[se],p!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Dn(o,l,se,p,f,null)}return;default:if(Lv(l)){for(he in f)f.hasOwnProperty(he)&&(p=f[he],p!==void 0&&A_(o,l,he,p,f,void 0));return}}for(H in f)f.hasOwnProperty(H)&&(p=f[H],p!=null&&Dn(o,l,H,p,f,null))}function yH(o,l,f,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,C=null,O=null,H=null,X=null,se=null,he=null;for(ce in f){var ge=f[ce];if(f.hasOwnProperty(ce)&&ge!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":X=ge;default:p.hasOwnProperty(ce)||Dn(o,l,ce,null,p,ge)}}for(var ae in p){var ce=p[ae];if(ge=f[ae],p.hasOwnProperty(ae)&&(ce!=null||ge!=null))switch(ae){case"type":C=ce;break;case"name":b=ce;break;case"checked":se=ce;break;case"defaultChecked":he=ce;break;case"value":O=ce;break;case"defaultValue":H=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,l));break;default:ce!==ge&&Dn(o,l,ae,ce,p,ge)}}Dv(o,O,H,X,se,he,C,b);return;case"select":ce=O=H=ae=null;for(C in f)if(X=f[C],f.hasOwnProperty(C)&&X!=null)switch(C){case"value":break;case"multiple":ce=X;default:p.hasOwnProperty(C)||Dn(o,l,C,null,p,X)}for(b in p)if(C=p[b],X=f[b],p.hasOwnProperty(b)&&(C!=null||X!=null))switch(b){case"value":ae=C;break;case"defaultValue":H=C;break;case"multiple":O=C;default:C!==X&&Dn(o,l,b,C,p,X)}l=H,f=O,p=ce,ae!=null?wf(o,!!f,ae,!1):!!p!=!!f&&(l!=null?wf(o,!!f,l,!0):wf(o,!!f,f?[]:"",!1));return;case"textarea":ce=ae=null;for(H in f)if(b=f[H],f.hasOwnProperty(H)&&b!=null&&!p.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Dn(o,l,H,null,p,b)}for(O in p)if(b=p[O],C=f[O],p.hasOwnProperty(O)&&(b!=null||C!=null))switch(O){case"value":ae=b;break;case"defaultValue":ce=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==C&&Dn(o,l,O,b,p,C)}hI(o,ae,ce);return;case"option":for(var Ze in f)if(ae=f[Ze],f.hasOwnProperty(Ze)&&ae!=null&&!p.hasOwnProperty(Ze))switch(Ze){case"selected":o.selected=!1;break;default:Dn(o,l,Ze,null,p,ae)}for(X in p)if(ae=p[X],ce=f[X],p.hasOwnProperty(X)&&ae!==ce&&(ae!=null||ce!=null))switch(X){case"selected":o.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Dn(o,l,X,ae,p,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in f)ae=f[ht],f.hasOwnProperty(ht)&&ae!=null&&!p.hasOwnProperty(ht)&&Dn(o,l,ht,null,p,ae);for(se in p)if(ae=p[se],ce=f[se],p.hasOwnProperty(se)&&ae!==ce&&(ae!=null||ce!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:Dn(o,l,se,ae,p,ce)}return;default:if(Lv(l)){for(var Mn in f)ae=f[Mn],f.hasOwnProperty(Mn)&&ae!==void 0&&!p.hasOwnProperty(Mn)&&A_(o,l,Mn,void 0,p,ae);for(he in p)ae=p[he],ce=f[he],!p.hasOwnProperty(he)||ae===ce||ae===void 0&&ce===void 0||A_(o,l,he,ae,p,ce);return}}for(var ne in f)ae=f[ne],f.hasOwnProperty(ne)&&ae!=null&&!p.hasOwnProperty(ne)&&Dn(o,l,ne,null,p,ae);for(ge in p)ae=p[ge],ce=f[ge],!p.hasOwnProperty(ge)||ae===ce||ae==null&&ce==null||Dn(o,l,ge,ae,p,ce)}function yx(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bH(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var b=f[p],C=b.transferSize,O=b.initiatorType,H=b.duration;if(C&&H&&yx(O)){for(O=0,H=b.responseEnd,p+=1;p<f.length;p++){var X=f[p],se=X.startTime;if(se>H)break;var he=X.transferSize,ge=X.initiatorType;he&&yx(ge)&&(X=X.responseEnd,O+=he*(X<H?1:(H-se)/(X-se)))}if(--p,l+=8*(C+O)/(b.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var S_=null,N_=null;function gb(o){return o.nodeType===9?o:o.ownerDocument}function bx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wx(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function T_(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var I_=null;function wH(){var o=window.event;return o&&o.type==="popstate"?o===I_?!1:(I_=o,!0):(I_=null,!1)}var Ex=typeof setTimeout=="function"?setTimeout:void 0,EH=typeof clearTimeout=="function"?clearTimeout:void 0,vx=typeof Promise=="function"?Promise:void 0,vH=typeof queueMicrotask=="function"?queueMicrotask:typeof vx<"u"?function(o){return vx.resolve(null).then(o).catch(CH)}:Ex;function CH(o){setTimeout(function(){throw o})}function pl(o){return o==="head"}function Cx(o,l){var f=l,p=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"||f==="/&"){if(p===0){o.removeChild(b),Xf(l);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")c0(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,c0(f);for(var C=f.firstChild;C;){var O=C.nextSibling,H=C.nodeName;C[Np]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=O}}else f==="body"&&c0(o.ownerDocument.body);f=b}while(f);Xf(l)}function _x(o,l){var f=o;o=0;do{var p=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=p}while(f)}function O_(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":O_(f),Uv(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function _H(o,l,f,p){for(;o.nodeType===1;){var b=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Np])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var C=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=ta(o.nextSibling),o===null)break}return null}function AH(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=ta(o.nextSibling),o===null))return null;return o}function Ax(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=ta(o.nextSibling),o===null))return null;return o}function R_(o){return o.data==="$?"||o.data==="$~"}function x_(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function SH(o,l){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||f.readyState!=="loading")l();else{var p=function(){l(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function ta(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var k_=null;function Sx(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(l===0)return ta(o.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}o=o.nextSibling}return null}function Nx(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return o;l--}else f!=="/$"&&f!=="/&"||l++}o=o.previousSibling}return null}function Tx(o,l,f){switch(l=gb(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function c0(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Uv(o)}var na=new Map,Ix=new Set;function yb(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var nc=T.d;T.d={f:NH,r:TH,D:IH,C:OH,L:RH,m:xH,X:PH,S:kH,M:UH};function NH(){var o=nc.f(),l=cb();return o||l}function TH(o){var l=gf(o);l!==null&&l.tag===5&&l.type==="form"?WO(l):nc.r(o)}var Kf=typeof document>"u"?null:document;function Ox(o,l,f){var p=Kf;if(p&&typeof l=="string"&&l){var b=Ki(l);b='link[rel="'+o+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),Ix.has(b)||(Ix.add(b),o={rel:o,crossOrigin:f,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),ss(l,"link",o),qr(l),p.head.appendChild(l)))}}function IH(o){nc.D(o),Ox("dns-prefetch",o,null)}function OH(o,l){nc.C(o,l),Ox("preconnect",o,l)}function RH(o,l,f){nc.L(o,l,f);var p=Kf;if(p&&o&&l){var b='link[rel="preload"][as="'+Ki(l)+'"]';l==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+Ki(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+Ki(f.imageSizes)+'"]')):b+='[href="'+Ki(o)+'"]';var C=b;switch(l){case"style":C=Yf(o);break;case"script":C=Zf(o)}na.has(C)||(o=m({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),na.set(C,o),p.querySelector(b)!==null||l==="style"&&p.querySelector(l0(C))||l==="script"&&p.querySelector(u0(C))||(l=p.createElement("link"),ss(l,"link",o),qr(l),p.head.appendChild(l)))}}function xH(o,l){nc.m(o,l);var f=Kf;if(f&&o){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Ki(p)+'"][href="'+Ki(o)+'"]',C=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Zf(o)}if(!na.has(C)&&(o=m({rel:"modulepreload",href:o},l),na.set(C,o),f.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(u0(C)))return}p=f.createElement("link"),ss(p,"link",o),qr(p),f.head.appendChild(p)}}}function kH(o,l,f){nc.S(o,l,f);var p=Kf;if(p&&o){var b=yf(p).hoistableStyles,C=Yf(o);l=l||"default";var O=b.get(C);if(!O){var H={loading:0,preload:null};if(O=p.querySelector(l0(C)))H.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":l},f),(f=na.get(C))&&P_(o,f);var X=O=p.createElement("link");qr(X),ss(X,"link",o),X._p=new Promise(function(se,he){X.onload=se,X.onerror=he}),X.addEventListener("load",function(){H.loading|=1}),X.addEventListener("error",function(){H.loading|=2}),H.loading|=4,bb(O,l,p)}O={type:"stylesheet",instance:O,count:1,state:H},b.set(C,O)}}}function PH(o,l){nc.X(o,l);var f=Kf;if(f&&o){var p=yf(f).hoistableScripts,b=Zf(o),C=p.get(b);C||(C=f.querySelector(u0(b)),C||(o=m({src:o,async:!0},l),(l=na.get(b))&&U_(o,l),C=f.createElement("script"),qr(C),ss(C,"link",o),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(b,C))}}function UH(o,l){nc.M(o,l);var f=Kf;if(f&&o){var p=yf(f).hoistableScripts,b=Zf(o),C=p.get(b);C||(C=f.querySelector(u0(b)),C||(o=m({src:o,async:!0,type:"module"},l),(l=na.get(b))&&U_(o,l),C=f.createElement("script"),qr(C),ss(C,"link",o),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(b,C))}}function Rx(o,l,f,p){var b=(b=le.current)?yb(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Yf(f.href),f=yf(b).hoistableStyles,p=f.get(l),p||(p={type:"style",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Yf(f.href);var C=yf(b).hoistableStyles,O=C.get(o);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,O),(C=b.querySelector(l0(o)))&&!C._p&&(O.instance=C,O.state.loading=5),na.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},na.set(o,f),C||$H(b,o,f,O.state))),l&&p===null)throw Error(r(528,""));return O}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Zf(f),f=yf(b).hoistableScripts,p=f.get(l),p||(p={type:"script",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Yf(o){return'href="'+Ki(o)+'"'}function l0(o){return'link[rel="stylesheet"]['+o+"]"}function xx(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function $H(o,l,f,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),ss(l,"link",f),qr(l),o.head.appendChild(l))}function Zf(o){return'[src="'+Ki(o)+'"]'}function u0(o){return"script[async]"+o}function kx(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+Ki(f.href)+'"]');if(p)return l.instance=p,qr(p),p;var b=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),qr(p),ss(p,"style",b),bb(p,f.precedence,o),l.instance=p;case"stylesheet":b=Yf(f.href);var C=o.querySelector(l0(b));if(C)return l.state.loading|=4,l.instance=C,qr(C),C;p=xx(f),(b=na.get(b))&&P_(p,b),C=(o.ownerDocument||o).createElement("link"),qr(C);var O=C;return O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),ss(C,"link",p),l.state.loading|=4,bb(C,f.precedence,o),l.instance=C;case"script":return C=Zf(f.src),(b=o.querySelector(u0(C)))?(l.instance=b,qr(b),b):(p=f,(b=na.get(C))&&(p=m({},f),U_(p,b)),o=o.ownerDocument||o,b=o.createElement("script"),qr(b),ss(b,"link",p),o.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,bb(p,f.precedence,o));return l.instance}function bb(o,l,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,C=b,O=0;O<p.length;O++){var H=p[O];if(H.dataset.precedence===l)C=H;else if(C!==b)break}C?C.parentNode.insertBefore(o,C.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function P_(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function U_(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var wb=null;function Px(o,l,f){if(wb===null){var p=new Map,b=wb=new Map;b.set(f,p)}else b=wb,p=b.get(f),p||(p=new Map,b.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),b=0;b<f.length;b++){var C=f[b];if(!(C[Np]||C[es]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var O=C.getAttribute(l)||"";O=o+O;var H=p.get(O);H?H.push(C):p.set(O,[C])}}return p}function Ux(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function DH(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function $x(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function MH(o,l,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var b=Yf(p.href),C=l.querySelector(l0(b));if(C){l=C._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Eb.bind(o),l.then(o,o)),f.state.loading|=4,f.instance=C,qr(C);return}C=l.ownerDocument||l,p=xx(p),(b=na.get(b))&&P_(p,b),C=C.createElement("link"),qr(C);var O=C;O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),ss(C,"link",p),f.instance=C}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Eb.bind(o),l.addEventListener("load",f),l.addEventListener("error",f))}}var $_=0;function LH(o,l){return o.stylesheets&&o.count===0&&Cb(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var p=setTimeout(function(){if(o.stylesheets&&Cb(o,o.stylesheets),o.unsuspend){var C=o.unsuspend;o.unsuspend=null,C()}},6e4+l);0<o.imgBytes&&$_===0&&($_=62500*bH());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Cb(o,o.stylesheets),o.unsuspend)){var C=o.unsuspend;o.unsuspend=null,C()}},(o.imgBytes>$_?50:800)+l);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Eb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var vb=null;function Cb(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,vb=new Map,l.forEach(BH,o),vb=null,Eb.call(o))}function BH(o,l){if(!(l.state.loading&4)){var f=vb.get(o);if(f)var p=f.get(null);else{f=new Map,vb.set(o,f);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<b.length;C++){var O=b[C];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(f.set(O.dataset.precedence,O),p=O)}p&&f.set(null,p)}b=l.instance,O=b.getAttribute("data-precedence"),C=f.get(O)||p,C===p&&f.set(null,b),f.set(O,b),this.count++,p=Eb.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),C?C.parentNode.insertBefore(b,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),l.state.loading|=4}}var d0={$$typeof:I,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function FH(o,l,f,p,b,C,O,H,X){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rv(0),this.hiddenUpdates=Rv(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=C,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Dx(o,l,f,p,b,C,O,H,X,se,he,ge){return o=new FH(o,l,f,O,X,se,he,ge,H),l=1,C===!0&&(l|=24),C=Ai(3,null,null,l),o.current=C,C.stateNode=o,l=pC(),l.refCount++,o.pooledCache=l,l.refCount++,C.memoizedState={element:p,isDehydrated:f,cache:l},bC(C),o}function Mx(o){return o?(o=Tf,o):Tf}function Lx(o,l,f,p,b,C){b=Mx(b),p.context===null?p.context=b:p.pendingContext=b,p=rl(l),p.payload={element:f},C=C===void 0?null:C,C!==null&&(p.callback=C),f=sl(o,p,l),f!==null&&(Vs(f,o,l),Hp(f,o,l))}function Bx(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function D_(o,l){Bx(o,l),(o=o.alternate)&&Bx(o,l)}function Fx(o){if(o.tag===13||o.tag===31){var l=Uu(o,67108864);l!==null&&Vs(l,o,67108864),D_(o,67108864)}}function jx(o){if(o.tag===13||o.tag===31){var l=Oi();l=xv(l);var f=Uu(o,l);f!==null&&Vs(f,o,l),D_(o,l)}}var _b=!0;function jH(o,l,f,p){var b=_.T;_.T=null;var C=T.p;try{T.p=2,M_(o,l,f,p)}finally{T.p=C,_.T=b}}function zH(o,l,f,p){var b=_.T;_.T=null;var C=T.p;try{T.p=8,M_(o,l,f,p)}finally{T.p=C,_.T=b}}function M_(o,l,f,p){if(_b){var b=L_(p);if(b===null)__(o,l,p,Ab,f),Hx(o,p);else if(qH(b,o,l,f,p))p.stopPropagation();else if(Hx(o,p),l&4&&-1<HH.indexOf(o)){for(;b!==null;){var C=gf(b);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var O=Ou(C.pendingLanes);if(O!==0){var H=C;for(H.pendingLanes|=2,H.entangledLanes|=2;O;){var X=1<<31-Ci(O);H.entanglements[1]|=X,O&=~X}co(C),(_n&6)===0&&(ab=ps()+500,i0(0))}}break;case 31:case 13:H=Uu(C,2),H!==null&&Vs(H,C,2),cb(),D_(C,2)}if(C=L_(p),C===null&&__(o,l,p,Ab,f),C===b)break;b=C}b!==null&&p.stopPropagation()}else __(o,l,p,null,f)}}function L_(o){return o=Fv(o),B_(o)}var Ab=null;function B_(o){if(Ab=null,o=mf(o),o!==null){var l=i(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=a(l),o!==null)return o;o=null}else if(f===31){if(o=c(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Ab=o,null}function zx(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dy()){case Cp:return 2;case fy:return 8;case hf:case Ov:return 32;case hy:return 268435456;default:return 32}default:return 32}}var F_=!1,ml=null,gl=null,yl=null,f0=new Map,h0=new Map,bl=[],HH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hx(o,l){switch(o){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":f0.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":h0.delete(l.pointerId)}}function p0(o,l,f,p,b,C){return o===null||o.nativeEvent!==C?(o={blockedOn:l,domEventName:f,eventSystemFlags:p,nativeEvent:C,targetContainers:[b]},l!==null&&(l=gf(l),l!==null&&Fx(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function qH(o,l,f,p,b){switch(l){case"focusin":return ml=p0(ml,o,l,f,p,b),!0;case"dragenter":return gl=p0(gl,o,l,f,p,b),!0;case"mouseover":return yl=p0(yl,o,l,f,p,b),!0;case"pointerover":var C=b.pointerId;return f0.set(C,p0(f0.get(C)||null,o,l,f,p,b)),!0;case"gotpointercapture":return C=b.pointerId,h0.set(C,p0(h0.get(C)||null,o,l,f,p,b)),!0}return!1}function qx(o){var l=mf(o.target);if(l!==null){var f=i(l);if(f!==null){if(l=f.tag,l===13){if(l=a(f),l!==null){o.blockedOn=l,sI(o.priority,function(){jx(f)});return}}else if(l===31){if(l=c(f),l!==null){o.blockedOn=l,sI(o.priority,function(){jx(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Sb(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=L_(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);Bv=p,f.target.dispatchEvent(p),Bv=null}else return l=gf(f),l!==null&&Fx(l),o.blockedOn=f,!1;l.shift()}return!0}function Wx(o,l,f){Sb(o)&&f.delete(l)}function WH(){F_=!1,ml!==null&&Sb(ml)&&(ml=null),gl!==null&&Sb(gl)&&(gl=null),yl!==null&&Sb(yl)&&(yl=null),f0.forEach(Wx),h0.forEach(Wx)}function Nb(o,l){o.blockedOn===l&&(o.blockedOn=null,F_||(F_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WH)))}var Tb=null;function Vx(o){Tb!==o&&(Tb=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Tb===o&&(Tb=null);for(var l=0;l<o.length;l+=3){var f=o[l],p=o[l+1],b=o[l+2];if(typeof p!="function"){if(B_(p||f)===null)continue;break}var C=gf(f);C!==null&&(o.splice(l,3),l-=3,LC(C,{pending:!0,data:b,method:f.method,action:p},p,b))}}))}function Xf(o){function l(X){return Nb(X,o)}ml!==null&&Nb(ml,o),gl!==null&&Nb(gl,o),yl!==null&&Nb(yl,o),f0.forEach(l),h0.forEach(l);for(var f=0;f<bl.length;f++){var p=bl[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<bl.length&&(f=bl[0],f.blockedOn===null);)qx(f),f.blockedOn===null&&bl.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var b=f[p],C=f[p+1],O=b[Fs]||null;if(typeof C=="function")O||Vx(f);else if(O){var H=null;if(C&&C.hasAttribute("formAction")){if(b=C,O=C[Fs]||null)H=O.formAction;else if(B_(b)!==null)continue}else H=O.action;typeof H=="function"?f[p+1]=H:(f.splice(p,3),p-=3),Vx(f)}}}function Gx(){function o(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function j_(o){this._internalRoot=o}Ib.prototype.render=j_.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,p=Oi();Lx(f,p,o,l,null,null)},Ib.prototype.unmount=j_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Lx(o.current,2,null,o,null,null),cb(),l[pf]=null}};function Ib(o){this._internalRoot=o}Ib.prototype.unstable_scheduleHydration=function(o){if(o){var l=rI();o={blockedOn:null,target:o,priority:l};for(var f=0;f<bl.length&&l!==0&&l<bl[f].priority;f++);bl.splice(f,0,o),f===0&&qx(o)}};var Kx=t.version;if(Kx!=="19.2.3")throw Error(r(527,Kx,"19.2.3"));T.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var VH={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ob.isDisabled&&Ob.supportsFiber)try{_p=Ob.inject(VH),vi=Ob}catch{}}return g0.createRoot=function(o,l){if(!s(o))throw Error(r(299));var f=!1,p="",b=tR,C=nR,O=rR;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),l=Dx(o,1,!1,null,null,f,p,null,b,C,O,Gx),o[pf]=l.current,C_(o),new j_(l)},g0.hydrateRoot=function(o,l,f){if(!s(o))throw Error(r(299));var p=!1,b="",C=tR,O=nR,H=rR,X=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(H=f.onRecoverableError),f.formState!==void 0&&(X=f.formState)),l=Dx(o,1,!0,l,f??null,p,b,X,C,O,H,Gx),l.context=Mx(null),f=l.current,p=Oi(),p=xv(p),b=rl(p),b.callback=null,sl(f,b,p),f=p,l.current.lanes=f,Sp(l,f),co(l),o[pf]=l.current,C_(o),new Ib(l)},g0.version="19.2.3",g0}var s3;function nq(){if(s3)return q_.exports;s3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),q_.exports=tq(),q_.exports}var rq=nq();const sq=Wc(rq),i3=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],j2e=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],f$=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],z2e=[...f$,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],H2e=[...f$,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],q2e=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],W2e=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],V2e=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],G2e=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Rb=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function Rd(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new gq(e.type);return`${e.name}(${xE(e.inputs,{includeName:t})})`}function xE(e,{includeName:t=!1}={}){return e?e.map(n=>iq(n,{includeName:t})).join(t?", ":","):""}function iq(e,{includeName:t}){return e.type.startsWith("tuple")?`(${xE(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function du(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Jr(e){return du(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const h$="2.42.1";let K_={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${h$}`},Ae=class u5 extends Error{constructor(t,n={}){const r=n.cause instanceof u5?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof u5&&n.cause.docsPath||n.docsPath,i=K_.getDocsUrl?.({...n,docsPath:s}),a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...K_.version?[`Version: ${K_.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=h$}walk(t){return p$(this,t)}};function p$(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?p$(e.cause,t):t?null:e}let aq=class extends Ae{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}},a3=class extends Ae{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}},oq=class extends Ae{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${xE(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}},n2=class extends Ae{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},cq=class extends Ae{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},lq=class extends Ae{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Jr(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},uq=class extends Ae{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},tTe=class extends Ae{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}},rTe=class extends Ae{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}},m$=class extends Ae{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}},aTe=class extends Ae{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}},cTe=class extends Ae{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}},uTe=class extends Ae{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}},nw=class extends Ae{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}},dq=class extends Ae{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}},pTe=class extends Ae{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}},fq=class extends Ae{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Rd(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Rd(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},yTe=class extends Ae{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}},wTe=class extends Ae{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${xE(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}},vTe=class extends Ae{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Rd(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}},hq=class extends Ae{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}},pq=class extends Ae{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}},mq=class extends Ae{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},gq=class extends Ae{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}},mm=class extends Ae{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},g$=class extends Ae{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},y$=class extends Ae{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}},o3=class extends Ae{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}};function dp(e,{dir:t,size:n=32}={}){return typeof e=="string"?iu(e,{dir:t,size:n}):yq(e,{dir:t,size:n})}function iu(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new y$({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function yq(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new y$({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let b$=class extends Ae{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},bq=class extends Ae{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},wq=class extends Ae{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},Eq=class extends Ae{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Sd(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Na(e,{size:t}){if(Jr(e)>t)throw new Eq({givenSize:Jr(e),maxSize:t})}function Bh(e,t={}){const{signed:n}=t;t.size&&Na(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function $Te(e,t={}){let n=e;if(t.size&&(Na(n,{size:t.size}),n=Sd(n)),Sd(n)==="0x00")return!1;if(Sd(n)==="0x01")return!0;throw new wq(n)}function xd(e,t={}){return Number(Bh(e,t))}function vq(e,t={}){let n=Oo(e);return t.size&&(Na(n,{size:t.size}),n=Sd(n,{dir:"right"})),new TextDecoder().decode(n)}const Cq=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function gm(e,t={}){return typeof e=="number"||typeof e=="bigint"?on(e,t):typeof e=="string"?r2(e,t):typeof e=="boolean"?w$(e,t):hi(e,t)}function w$(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Na(n,{size:t.size}),dp(n,{size:t.size})):n}function hi(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Cq[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Na(r,{size:t.size}),dp(r,{dir:"right",size:t.size})):r}function on(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const u=typeof e=="bigint"?"n":"";throw new b$({max:i?`${i}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?dp(c,{size:r}):c}const _q=new TextEncoder;function r2(e,t={}){const n=_q.encode(e);return hi(n,t)}const Aq=new TextEncoder;function s2(e,t={}){return typeof e=="number"||typeof e=="bigint"?Nq(e,t):typeof e=="boolean"?Sq(e,t):du(e)?Oo(e,t):E$(e,t)}function Sq(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Na(n,{size:t.size}),dp(n,{size:t.size})):n}const rc={zero:48,nine:57,A:65,F:70,a:97,f:102};function c3(e){if(e>=rc.zero&&e<=rc.nine)return e-rc.zero;if(e>=rc.A&&e<=rc.F)return e-(rc.A-10);if(e>=rc.a&&e<=rc.f)return e-(rc.a-10)}function Oo(e,t={}){let n=e;t.size&&(Na(n,{size:t.size}),n=dp(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const u=c3(r.charCodeAt(c++)),d=c3(r.charCodeAt(c++));if(u===void 0||d===void 0)throw new Ae(`Invalid byte sequence ("${r[c-2]}${r[c-1]}" in "${r}").`);i[a]=u*16+d}return i}function Nq(e,t){const n=on(e,t);return Oo(n)}function E$(e,t={}){const n=Aq.encode(e);return typeof t.size=="number"?(Na(n,{size:t.size}),dp(n,{dir:"right",size:t.size})):n}const xb=BigInt(2**32-1),l3=BigInt(32);function Tq(e,t=!1){return t?{h:Number(e&xb),l:Number(e>>l3&xb)}:{h:Number(e>>l3&xb)|0,l:Number(e&xb)|0}}function Iq(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:c}=Tq(e[i],t);[r[i],s[i]]=[a,c]}return[r,s]}const Oq=(e,t,n)=>e<<n|t>>>32-n,Rq=(e,t,n)=>t<<n|e>>>32-n,xq=(e,t,n)=>t<<n-32|e>>>64-n,kq=(e,t,n)=>e<<n-32|t>>>64-n,Jf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Pq(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ym(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function kd(e,...t){if(!Pq(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Uq(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ym(e.outputLen),ym(e.blockLen)}function Fh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function v$(e,t){kd(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function $q(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function jh(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Y_(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function lo(e,t){return e<<32-t|e>>>t}const Dq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Mq(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Lq(e){for(let t=0;t<e.length;t++)e[t]=Mq(e[t]);return e}const u3=Dq?e=>e:Lq;function Bq(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function kE(e){return typeof e=="string"&&(e=Bq(e)),kd(e),e}function Fq(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];kd(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}let i2=class{};function C$(e){const t=r=>e().update(kE(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function jq(e=32){if(Jf&&typeof Jf.getRandomValues=="function")return Jf.getRandomValues(new Uint8Array(e));if(Jf&&typeof Jf.randomBytes=="function")return Uint8Array.from(Jf.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const zq=BigInt(0),y0=BigInt(1),Hq=BigInt(2),qq=BigInt(7),Wq=BigInt(256),Vq=BigInt(113),_$=[],A$=[],S$=[];for(let e=0,t=y0,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],_$.push(2*(5*r+n)),A$.push((e+1)*(e+2)/2%64);let s=zq;for(let i=0;i<7;i++)t=(t<<y0^(t>>qq)*Vq)%Wq,t&Hq&&(s^=y0<<(y0<<BigInt(i))-y0);S$.push(s)}const N$=Iq(S$,!0),Gq=N$[0],Kq=N$[1],d3=(e,t,n)=>n>32?xq(e,t,n):Oq(e,t,n),f3=(e,t,n)=>n>32?kq(e,t,n):Rq(e,t,n);function Yq(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],m=d3(d,h,1)^n[c],g=f3(d,h,1)^n[c+1];for(let w=0;w<50;w+=10)e[a+w]^=m,e[a+w+1]^=g}let s=e[2],i=e[3];for(let a=0;a<24;a++){const c=A$[a],u=d3(s,i,c),d=f3(s,i,c),h=_$[a];s=e[h],i=e[h+1],e[h]=u,e[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=e[a+c];for(let c=0;c<10;c++)e[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=Gq[r],e[1]^=Kq[r]}jh(n)}let Zq=class T$ extends i2{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,ym(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=$q(this.state)}clone(){return this._cloneInto()}keccak(){u3(this.state32),Yq(this.state32,this.rounds),u3(this.state32),this.posOut=0,this.pos=0}update(t){Fh(this),t=kE(t),kd(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let c=0;c<a;c++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Fh(this,!1),kd(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ym(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(v$(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,jh(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return t||(t=new T$(n,r,s,a,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=a,t.destroyed=this.destroyed,t}};const Xq=(e,t,n)=>C$(()=>new Zq(t,e,n)),I$=Xq(1,136,256/8);function PE(e,t){const n=t||"hex",r=I$(du(e,{strict:!1})?s2(e):e);return n==="bytes"?r:gm(r)}let Pg=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Jq=/^0x[a-fA-F0-9]{40}$/,Z_=new Pg(8192);function fu(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Z_.has(r))return Z_.get(r);const s=Jq.test(e)?e.toLowerCase()===e?!0:n?UE(e)===e:!0:!1;return Z_.set(r,s),s}const X_=new Pg(8192);function UE(e,t){if(X_.has(`${e}.${t}`))return X_.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=PE(E$(n),"bytes"),s=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const i=`0x${s.join("")}`;return X_.set(`${e}.${t}`,i),i}function G0(e,t){if(!fu(e,{strict:!1}))throw new mm({address:e});return UE(e,t)}let h3=class extends Ae{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Qq=class extends Ae{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},eW=class extends Ae{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const tW={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new eW({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Qq({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new h3({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new h3({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function a2(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(tW);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function rw(e,t,n,{strict:r}={}){return du(e,{strict:!1})?nW(e,t,n,{strict:r}):x$(e,t,n,{strict:r})}function O$(e,t){if(typeof t=="number"&&t>0&&t>Jr(e)-1)throw new g$({offset:t,position:"start",size:Jr(e)})}function R$(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Jr(e)!==n-t)throw new g$({offset:n,position:"end",size:Jr(e)})}function x$(e,t,n,{strict:r}={}){O$(e,t);const s=e.slice(t,n);return r&&R$(s,t,n),s}function nW(e,t,n,{strict:r}={}){O$(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&R$(s,t,n),s}function rW(e,t={}){typeof t.size<"u"&&Na(e,{size:t.size});const n=hi(e,t);return Bh(n,t)}function sW(e,t={}){let n=e;if(typeof t.size<"u"&&(Na(n,{size:t.size}),n=Sd(n)),n.length>1||n[0]>1)throw new bq(n);return!!n[0]}function Uc(e,t={}){typeof t.size<"u"&&Na(e,{size:t.size});const n=hi(e,t);return xd(n,t)}function iW(e,t={}){let n=e;return typeof t.size<"u"&&(Na(n,{size:t.size}),n=Sd(n,{dir:"right"})),new TextDecoder().decode(n)}function zh(e){return typeof e[0]=="string"?$E(e):aW(e)}function aW(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function $E(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const jTe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,oW=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function k$(e,t){if(e.length!==t.length)throw new uq({expectedLength:e.length,givenLength:t.length});const n=cW({params:e,values:t}),r=c2(n);return r.length===0?"0x":r}function cW({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(o2({param:e[r],value:t[r]}));return n}function o2({param:e,value:t}){const n=l2(e.type);if(n){const[r,s]=n;return uW(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return mW(t,{param:e});if(e.type==="address")return lW(t);if(e.type==="bool")return fW(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=oW.exec(e.type)??[];return hW(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return dW(t,{param:e});if(e.type==="string")return pW(t);throw new hq(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function c2(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:a,encoded:c}=e[i];a?t+=32:t+=Jr(c)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:a,encoded:c}=e[i];a?(n.push(on(t+s,{size:32})),r.push(c),s+=Jr(c)):n.push(c)}return zh([...n,...r])}function lW(e){if(!fu(e))throw new mm({address:e});return{dynamic:!1,encoded:iu(e.toLowerCase())}}function uW(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new mq(e);if(!r&&e.length!==t)throw new cq({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let a=0;a<e.length;a++){const c=o2({param:n,value:e[a]});c.dynamic&&(s=!0),i.push(c)}if(r||s){const a=c2(i);if(r){const c=on(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?zh([c,a]):c}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:zh(i.map(({encoded:a})=>a))}}function dW(e,{param:t}){const[,n]=t.type.split("bytes"),r=Jr(e);if(!n){let s=e;return r%32!==0&&(s=iu(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:zh([iu(on(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new lq({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:iu(e,{dir:"right"})}}function fW(e){if(typeof e!="boolean")throw new Ae(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:iu(w$(e))}}function hW(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new b$({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:on(e,{size:32,signed:t})}}function pW(e){const t=r2(e),n=Math.ceil(Jr(t)/32),r=[];for(let s=0;s<n;s++)r.push(iu(rw(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:zh([iu(on(Jr(t),{size:32})),...r])}}function mW(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],a=Array.isArray(e)?s:i.name,c=o2({param:i,value:e[a]});r.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?c2(r):zh(r.map(({encoded:s})=>s))}}function l2(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function P$(e,t){const n=typeof t=="string"?Oo(t):t,r=a2(n);if(Jr(n)===0&&e.length>0)throw new n2;if(Jr(t)&&Jr(t)<32)throw new oq({data:typeof t=="string"?t:hi(t),params:e,size:Jr(t)});let s=0;const i=[];for(let a=0;a<e.length;++a){const c=e[a];r.setPosition(s);const[u,d]=Nh(r,c,{staticPosition:0});s+=d,i.push(u)}return i}function Nh(e,t,{staticPosition:n}){const r=l2(t.type);if(r){const[s,i]=r;return yW(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return vW(e,t,{staticPosition:n});if(t.type==="address")return gW(e);if(t.type==="bool")return bW(e);if(t.type.startsWith("bytes"))return wW(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return EW(e,t);if(t.type==="string")return CW(e,{staticPosition:n});throw new pq(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const p3=32,d5=32;function gW(e){const t=e.readBytes(32);return[UE(hi(x$(t,-20))),32]}function yW(e,t,{length:n,staticPosition:r}){if(!n){const a=Uc(e.readBytes(d5)),c=r+a,u=c+p3;e.setPosition(c);const d=Uc(e.readBytes(p3)),h=bm(t);let m=0;const g=[];for(let w=0;w<d;++w){e.setPosition(u+(h?w*32:m));const[v,E]=Nh(e,t,{staticPosition:u});m+=E,g.push(v)}return e.setPosition(r+32),[g,32]}if(bm(t)){const a=Uc(e.readBytes(d5)),c=r+a,u=[];for(let d=0;d<n;++d){e.setPosition(c+d*32);const[h]=Nh(e,t,{staticPosition:c});u.push(h)}return e.setPosition(r+32),[u,32]}let s=0;const i=[];for(let a=0;a<n;++a){const[c,u]=Nh(e,t,{staticPosition:r+s});s+=u,i.push(c)}return[i,s]}function bW(e){return[sW(e.readBytes(32),{size:32}),32]}function wW(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const a=Uc(e.readBytes(32));e.setPosition(n+a);const c=Uc(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const u=e.readBytes(c);return e.setPosition(n+32),[hi(u),32]}return[hi(e.readBytes(Number.parseInt(s,10),32)),32]}function EW(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?rW(s,{signed:n}):Uc(s,{signed:n}),32]}function vW(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),s=r?[]:{};let i=0;if(bm(t)){const a=Uc(e.readBytes(d5)),c=n+a;for(let u=0;u<t.components.length;++u){const d=t.components[u];e.setPosition(c+i);const[h,m]=Nh(e,d,{staticPosition:c});i+=m,s[r?u:d?.name]=h}return e.setPosition(n+32),[s,32]}for(let a=0;a<t.components.length;++a){const c=t.components[a],[u,d]=Nh(e,c,{staticPosition:n});s[r?a:c?.name]=u,i+=d}return[s,i]}function CW(e,{staticPosition:t}){const n=Uc(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Uc(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),a=iW(Sd(i));return e.setPosition(t+32),[a,32]}function bm(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(bm);const n=l2(e.type);return!!(n&&bm({...e,type:n[1]}))}const _W=e=>PE(s2(e));function AW(e){return _W(e)}const SW="1.1.0";let gi=class f5 extends Error{constructor(t,n={}){const r=n.cause instanceof f5?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof f5&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${SW}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Vc(e,t){return e.exec(t)?.groups}const U$=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$$=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,D$=/^\(.+?\).*?$/,m3=/^tuple(?<array>(\[(\d*)\])*)$/;function h5(e){let t=e.type;if(m3.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=h5(i),s<n-1&&(t+=", ")}const r=Vc(m3,e.type);return t+=`)${r?.array??""}`,h5({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function b0(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=h5(s),r!==n-1&&(t+=", ")}return t}function NW(e){return e.type==="function"?`function ${e.name}(${b0(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${b0(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${b0(e.inputs)})`:e.type==="error"?`error ${e.name}(${b0(e.inputs)})`:e.type==="constructor"?`constructor(${b0(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const M$=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function TW(e){return M$.test(e)}function IW(e){return Vc(M$,e)}const L$=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function OW(e){return L$.test(e)}function RW(e){return Vc(L$,e)}const B$=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function xW(e){return B$.test(e)}function kW(e){return Vc(B$,e)}const F$=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function j$(e){return F$.test(e)}function PW(e){return Vc(F$,e)}const z$=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function UW(e){return z$.test(e)}function $W(e){return Vc(z$,e)}const H$=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function DW(e){return H$.test(e)}function MW(e){return Vc(H$,e)}const LW=/^receive\(\) external payable$/;function BW(e){return LW.test(e)}const zTe=new Set(["memory","indexed","storage","calldata"]),FW=new Set(["indexed"]),p5=new Set(["calldata","memory","storage"]);let HTe=class extends gi{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},jW=class extends gi{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},zW=class extends gi{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}},GTe=class extends gi{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}},HW=class extends gi{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},qW=class extends gi{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},WW=class extends gi{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},VW=class extends gi{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},GW=class extends gi{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},fp=class extends gi{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},KW=class extends gi{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},YW=class extends gi{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},ZW=class extends gi{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},XW=class extends gi{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function JW(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const a of s[1])i+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const J_=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function QW(e,t={}){if(xW(e))return eV(e,t);if(OW(e))return tV(e,t);if(TW(e))return nV(e,t);if(UW(e))return rV(e,t);if(DW(e))return sV(e);if(BW(e))return{type:"receive",stateMutability:"payable"};throw new KW({signature:e})}function eV(e,t={}){const n=kW(e);if(!n)throw new fp({signature:e,type:"function"});const r=qa(n.parameters),s=[],i=r.length;for(let c=0;c<i;c++)s.push(Pd(r[c],{modifiers:p5,structs:t,type:"function"}));const a=[];if(n.returns){const c=qa(n.returns),u=c.length;for(let d=0;d<u;d++)a.push(Pd(c[d],{modifiers:p5,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:a}}function tV(e,t={}){const n=RW(e);if(!n)throw new fp({signature:e,type:"event"});const r=qa(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Pd(r[a],{modifiers:FW,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function nV(e,t={}){const n=IW(e);if(!n)throw new fp({signature:e,type:"error"});const r=qa(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Pd(r[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function rV(e,t={}){const n=$W(e);if(!n)throw new fp({signature:e,type:"constructor"});const r=qa(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Pd(r[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function sV(e){const t=MW(e);if(!t)throw new fp({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const iV=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,aV=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,oV=/^u?int$/;function Pd(e,t){const n=JW(e,t?.type,t?.structs);if(J_.has(n))return J_.get(n);const r=D$.test(e),s=Vc(r?aV:iV,e);if(!s)throw new HW({param:e});if(s.name&&lV(s.name))throw new qW({param:e,name:s.name});const i=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},c=t?.structs??{};let u,d={};if(r){u="tuple";const m=qa(s.type),g=[],w=m.length;for(let v=0;v<w;v++)g.push(Pd(m[v],{structs:c}));d={components:g}}else if(s.type in c)u="tuple",d={components:c[s.type]};else if(oV.test(s.type))u=`${s.type}256`;else if(s.type==="address payable")u="address";else if(u=s.type,t?.type!=="struct"&&!q$(u))throw new zW({type:u});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new WW({param:e,type:t?.type,modifier:s.modifier});if(p5.has(s.modifier)&&!uV(u,!!s.array))throw new VW({param:e,type:t?.type,modifier:s.modifier})}const h={type:`${u}${s.array??""}`,...i,...a,...d};return J_.set(n,h),h}function qa(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const a=e[i],c=e.slice(i+1);switch(a){case",":return r===0?qa(c,[...t,n.trim()]):qa(c,t,`${n}${a}`,r);case"(":return qa(c,t,`${n}${a}`,r+1);case")":return qa(c,t,`${n}${a}`,r-1);default:return qa(c,t,`${n}${a}`,r)}}if(n==="")return t;if(r!==0)throw new XW({current:n,depth:r});return t.push(n.trim()),t}function q$(e){return e==="address"||e==="bool"||e==="function"||e==="string"||U$.test(e)||$$.test(e)}const cV=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function lV(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||U$.test(e)||$$.test(e)||cV.test(e)}function uV(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function dV(e){const t={},n=e.length;for(let a=0;a<n;a++){const c=e[a];if(!j$(c))continue;const u=PW(c);if(!u)throw new fp({signature:c,type:"struct"});const d=u.properties.split(";"),h=[],m=d.length;for(let g=0;g<m;g++){const v=d[g].trim();if(!v)continue;const E=Pd(v,{type:"struct"});h.push(E)}if(!h.length)throw new YW({signature:c});t[u.name]=h}const r={},s=Object.entries(t),i=s.length;for(let a=0;a<i;a++){const[c,u]=s[a];r[c]=W$(u,t)}return r}const fV=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function W$(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const a=e[i];if(D$.test(a.type))r.push(a);else{const u=Vc(fV,a.type);if(!u?.type)throw new GW({abiParameter:a});const{array:d,type:h}=u;if(h in t){if(n.has(h))throw new ZW({type:h});r.push({...a,type:`tuple${d??""}`,components:W$(t[h]??[],t,new Set([...n,h]))})}else if(q$(h))r.push(a);else throw new jW({type:h})}}return r}function V$(e){const t=dV(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];j$(i)||n.push(QW(i,t))}return n}function hV(e){let t=!0,n="",r=0,s="",i=!1;for(let a=0;a<e.length;a++){const c=e[a];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function",""].includes(s))s="";else if(s+=c,c===")"){i=!0;break}continue}if(c===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!i)throw new Ae("Unable to normalize signature.");return s}const pV=e=>{const t=typeof e=="string"?e:NW(e);return hV(t)};function G$(e){return AW(pV(e))}const mV=G$,u2=e=>rw(G$(e),0,4);function d2(e){const{abi:t,args:n=[],name:r}=e,s=du(r,{strict:!1}),i=t.filter(c=>s?c.type==="function"?u2(c)===r:c.type==="event"?mV(c)===r:!1:"name"in c&&c.name===r);if(i.length===0)return;if(i.length===1)return i[0];let a;for(const c of i){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return c;continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((d,h)=>{const m="inputs"in c&&c.inputs[h];return m?m5(d,m):!1})){if(a&&"inputs"in a&&a.inputs){const d=K$(c.inputs,a.inputs,n);if(d)throw new fq({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}return a||i[0]}function m5(e,t){const n=typeof e,r=t.type;switch(r){case"address":return fu(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>m5(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>m5(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function K$(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return K$(s.components,i.components,n[r]);const a=[s.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?fu(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?fu(n[r],{strict:!1}):!1)return a}}const Q_="/docs/contract/decodeFunctionResult";function gV(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const c=d2({abi:t,args:n,name:r});if(!c)throw new nw(r,{docsPath:Q_});i=c}if(i.type!=="function")throw new nw(void 0,{docsPath:Q_});if(!i.outputs)throw new dq(i.name,{docsPath:Q_});const a=P$(i.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const g3="/docs/contract/encodeFunctionData";function yV(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=d2({abi:t,args:n,name:r});if(!i)throw new nw(r,{docsPath:g3});s=i}if(s.type!=="function")throw new nw(void 0,{docsPath:g3});return{abi:[s],functionName:u2(Rd(s))}}function Y$(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:yV(e),s=n[0],i=r,a="inputs"in s&&s.inputs?k$(s.inputs,t??[]):void 0;return $E([i,a??"0x"])}let g5=class extends Ae{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},bV=class extends Ae{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}},wV=class extends Ae{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},Z$=class extends Ae{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}};function EV({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new g5({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new g5({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Qa(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const vV={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},CV={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},_V={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function AV(e){const{abi:t,data:n}=e,r=rw(n,0,4);if(r==="0x")throw new n2;const i=[...t||[],CV,_V].find(a=>a.type==="error"&&r===u2(Rd(a)));if(!i)throw new m$(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?P$(i.inputs,rw(n,4)):void 0,errorName:i.name}}const Ka=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function X$({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?Ka(t[i]):t[i]}`).join(", ")})`}const SV={gwei:9,wei:18},NV={ether:-9,wei:9};function DE(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function f2(e,t="wei"){return DE(e,SV[t])}function ui(e,t="wei"){return DE(e,NV[t])}let TV=class extends Ae{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}},IV=class extends Ae{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}};function y3(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function OV(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=y3(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=y3(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Ug(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}let RV=class extends Ae{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ug(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},xV=class extends Ae{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:m,value:g}){const w=Ug({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:m,value:typeof g<"u"&&`${f2(g)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof c<"u"&&`${ui(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${ui(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${ui(d)} gwei`,nonce:h});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",w].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}},J$=class extends Ae{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let a="Transaction";r&&i!==void 0&&(a=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(a=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(a=`Transaction at block number "${n}" at index "${i}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}},Q$=class extends Ae{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},mIe=class extends Ae{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}},kV=class extends Ae{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}};const PV=e=>e,h2=e=>e;let UV=class extends Ae{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:m,value:g,stateOverride:w}){const v=n?Qa(n):void 0;let E=Ug({from:v?.address,to:m,value:typeof g<"u"&&`${f2(g)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof c<"u"&&`${ui(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${ui(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${ui(d)} gwei`,nonce:h});w&&(E+=`
${OV(w)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",E].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}},$V=class extends Ae{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:a,sender:c}){const u=d2({abi:n,args:r,name:a}),d=u?X$({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,h=u?Rd(u,{includeName:!0}):void 0,m=Ug({address:s&&PV(s),function:h,args:d&&d!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],m&&"Contract Call:",m].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=a,this.sender=c}},DV=class extends Ae{constructor({abi:t,data:n,functionName:r,message:s}){let i,a,c,u;if(n&&n!=="0x")try{a=AV({abi:t,data:n});const{abiItem:h,errorName:m,args:g}=a;if(m==="Error")u=g[0];else if(m==="Panic"){const[w]=g;u=vV[w]}else{const w=h?Rd(h,{includeName:!0}):void 0,v=h&&g?X$({abiItem:h,args:g,includeFunctionName:!1,includeName:!1}):void 0;c=[w?`Error: ${w}`:"",v&&v!=="()"?`       ${[...Array(m?.length??0).keys()].map(()=>" ").join("")}${v}`:""]}}catch(h){i=h}else s&&(u=s);let d;i instanceof m$&&(d=i.signature,c=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(u&&u!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,u||d].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=u,this.signature=d}},MV=class extends Ae{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},LV=class extends Ae{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},eD=class extends Ae{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}};function or(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}let rm=class extends Ae{constructor({body:t,cause:n,details:r,headers:s,status:i,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${h2(a)}`,t&&`Request body: ${Ka(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=a}},p2=class extends Ae{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${h2(r)}`,`Request body: ${Ka(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}},b3=class extends Ae{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${h2(n)}`,`Request body: ${Ka(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}};const BV=-1;let yi=class extends Ae{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:a}){super(a,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof p2?t.code:n??BV}},qi=class extends yi{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}},y5=class tD extends yi{constructor(t){super(t,{code:tD.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(y5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});let b5=class nD extends yi{constructor(t){super(t,{code:nD.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(b5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});let w5=class rD extends yi{constructor(t,{method:n}={}){super(t,{code:rD.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}};Object.defineProperty(w5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});let E5=class sD extends yi{constructor(t){super(t,{code:sD.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(E5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});let wm=class iD extends yi{constructor(t){super(t,{code:iD.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(wm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});let sw=class aD extends yi{constructor(t){super(t,{code:aD.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(sw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});let v5=class oD extends yi{constructor(t){super(t,{code:oD.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(v5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});let Th=class cD extends yi{constructor(t){super(t,{code:cD.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty(Th,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});let iw=class lD extends yi{constructor(t){super(t,{code:lD.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(iw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});let K0=class uD extends yi{constructor(t,{method:n}={}){super(t,{code:uD.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}};Object.defineProperty(K0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});let aw=class dD extends yi{constructor(t){super(t,{code:dD.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(aw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});let C5=class fD extends yi{constructor(t){super(t,{code:fD.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(C5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let ri=class hD extends qi{constructor(t){super(t,{code:hD.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(ri,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});let _5=class pD extends qi{constructor(t){super(t,{code:pD.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(_5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});let A5=class mD extends qi{constructor(t,{method:n}={}){super(t,{code:mD.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}};Object.defineProperty(A5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});let S5=class gD extends qi{constructor(t){super(t,{code:gD.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(S5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});let N5=class yD extends qi{constructor(t){super(t,{code:yD.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(N5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});let Em=class bD extends qi{constructor(t){super(t,{code:bD.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(Em,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});let T5=class wD extends qi{constructor(t){super(t,{code:wD.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}};Object.defineProperty(T5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});let I5=class ED extends qi{constructor(t){super(t,{code:ED.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}};Object.defineProperty(I5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});let O5=class vD extends qi{constructor(t){super(t,{code:vD.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}};Object.defineProperty(O5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});let R5=class CD extends qi{constructor(t){super(t,{code:CD.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}};Object.defineProperty(R5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});let x5=class _D extends qi{constructor(t){super(t,{code:_D.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}};Object.defineProperty(x5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});let k5=class AD extends qi{constructor(t){super(t,{code:AD.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}};Object.defineProperty(k5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});let P5=class SD extends qi{constructor(t){super(t,{code:SD.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}};Object.defineProperty(P5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});let FV=class extends yi{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}};const jV=3;function zV(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:a}){const c=e instanceof eD?e:e instanceof Ae?e.walk(v=>"data"in v)||e.walk():{},{code:u,data:d,details:h,message:m,shortMessage:g}=c,w=e instanceof n2?new MV({functionName:i}):[jV,wm.code].includes(u)&&(d||h||m||g)||u===sw.code&&h==="execution reverted"&&d?new DV({abi:t,data:typeof d=="object"?d.data:d,functionName:i,message:c instanceof p2?h:g??m}):e;return new $V(w,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:a})}const HV="modulepreload",qV=function(e){return"/validators/"+e},w3={},ir=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=u(n.map(d=>{if(d=qV(d),d in w3)return;w3[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":HV,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((w,v)=>{g.addEventListener("load",w),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},WV="0.1.1";function VV(){return WV}let hp=class U5 extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof U5){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof U5&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${s??""}`,c=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${a}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${VV()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=s,this.shortMessage=t}walk(t){return ND(this,t)}};function ND(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?ND(e.cause,t):t?null:e}function m2(e,t){if(Hh(e)>t)throw new rG({givenSize:Hh(e),maxSize:t})}function GV(e,t){if(typeof t=="number"&&t>0&&t>Hh(e)-1)throw new OD({offset:t,position:"start",size:Hh(e)})}function KV(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Hh(e)!==n-t)throw new OD({offset:n,position:"end",size:Hh(e)})}function TD(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new sG({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const YV="#__bigint";function ZV(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+YV:s,n)}const XV=new TextEncoder,JV=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function QV(e,t={}){const{strict:n=!1}=t;if(!e)throw new E3(e);if(typeof e!="string")throw new E3(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new v3(e);if(!e.startsWith("0x"))throw new v3(e)}function RIe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function xIe(e){return e instanceof Uint8Array?$5(e):Array.isArray(e)?$5(new Uint8Array(e)):e}function kIe(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(m2(n,t.size),ID(n,t.size)):n}function $5(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=JV[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(m2(r,t.size),eG(r,t.size)):r}function Sc(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const d=typeof e=="bigint"?"n":"";throw new nG({max:i?`${i}${d}`:void 0,min:`${a}${d}`,signed:n,size:r,value:`${e}${d}`})}const u=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ID(u,r):u}function PIe(e,t={}){return $5(XV.encode(e),t)}function ID(e,t){return TD(e,{dir:"left",size:t})}function eG(e,t){return TD(e,{dir:"right",size:t})}function UIe(e,t,n,r={}){const{strict:s}=r;GV(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&KV(i,t,n),i}function Hh(e){return Math.ceil((e.length-2)/2)}function tG(e,t={}){const{signed:n}=t;t.size&&m2(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,a=i>>1n;return r<=a?r:r-i-1n}function $Ie(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:tG(e,t))}function DIe(e,t={}){const{strict:n=!1}=t;try{return QV(e,{strict:n}),!0}catch{return!1}}let nG=class extends hp{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},E3=class extends hp{constructor(t){super(`Value \`${typeof t=="object"?ZV(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},v3=class extends hp{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},rG=class extends hp{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},OD=class extends hp{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},sG=class extends hp{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function iG(e){return{address:e.address,amount:Sc(e.amount),index:Sc(e.index),validatorIndex:Sc(e.validatorIndex)}}function aG(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Sc(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Sc(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Sc(e.gasLimit)},...typeof e.number=="bigint"&&{number:Sc(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Sc(e.prevRandao)},...typeof e.time=="bigint"&&{time:Sc(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(iG)}}}const oG="0x82ad56cb",cG="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",lG="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",HIe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",uG="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",eA="/docs/contract/encodeDeployData";function RD(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new aq({docsPath:eA});if(!("inputs"in s))throw new a3({docsPath:eA});if(!s.inputs||s.inputs.length===0)throw new a3({docsPath:eA});const i=k$(s.inputs,n);return $E([r,i])}let fd=class extends Ae{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}};Object.defineProperty(fd,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(fd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});let ow=class extends Ae{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ui(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}};Object.defineProperty(ow,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});let D5=class extends Ae{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ui(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}};Object.defineProperty(D5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});let M5=class extends Ae{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}};Object.defineProperty(M5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});let L5=class extends Ae{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}};Object.defineProperty(L5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});let B5=class extends Ae{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}};Object.defineProperty(B5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});let F5=class extends Ae{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(F5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});let j5=class extends Ae{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(j5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});let z5=class extends Ae{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(z5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});let H5=class extends Ae{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(H5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});let cw=class extends Ae{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ui(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ui(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}};Object.defineProperty(cw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});let ME=class extends Ae{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}};function g2(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof Ae?e.walk(s=>s?.code===fd.code):e;return r instanceof Ae?new fd({cause:e,message:r.details}):fd.nodeMessage.test(n)?new fd({cause:e,message:e.details}):ow.nodeMessage.test(n)?new ow({cause:e,maxFeePerGas:t?.maxFeePerGas}):D5.nodeMessage.test(n)?new D5({cause:e,maxFeePerGas:t?.maxFeePerGas}):M5.nodeMessage.test(n)?new M5({cause:e,nonce:t?.nonce}):L5.nodeMessage.test(n)?new L5({cause:e,nonce:t?.nonce}):B5.nodeMessage.test(n)?new B5({cause:e,nonce:t?.nonce}):F5.nodeMessage.test(n)?new F5({cause:e}):j5.nodeMessage.test(n)?new j5({cause:e,gas:t?.gas}):z5.nodeMessage.test(n)?new z5({cause:e,gas:t?.gas}):H5.nodeMessage.test(n)?new H5({cause:e}):cw.nodeMessage.test(n)?new cw({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new ME({cause:e})}function dG(e,{docsPath:t,...n}){const r=(()=>{const s=g2(e,n);return s instanceof ME?e:s})();return new UV(r,{docsPath:t,...n})}function LE(e,{format:t}){if(!t)return{};const n={};function r(i){const a=Object.keys(i);for(const c of a)c in e&&(n[c]=e[c]),i[c]&&typeof i[c]=="object"&&!Array.isArray(i[c])&&r(i[c])}const s=t(e||{});return r(s),n}const fG={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function BE(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=hG(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>hi(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=on(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=on(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=on(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=on(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=on(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=on(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=fG[e.type]),typeof e.value<"u"&&(n.value=on(e.value)),n}function hG(e){return e.map(t=>({address:t.address,r:t.r?on(BigInt(t.r)):t.r,s:t.s?on(BigInt(t.s)):t.s,chainId:on(t.chainId),nonce:on(t.nonce),...typeof t.yParity<"u"?{yParity:on(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:on(t.v)}:{}}))}function xD(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const tA=new Map;function kD({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const h=u();a();const m=h.map(({args:g})=>g);m.length!==0&&e(m).then(g=>{s&&Array.isArray(g)&&g.sort(s);for(let w=0;w<h.length;w++){const{resolve:v}=h[w];v?.([g[w],g])}}).catch(g=>{for(let w=0;w<h.length;w++){const{reject:v}=h[w];v?.(g)}})},a=()=>tA.delete(t),c=()=>u().map(({args:h})=>h),u=()=>tA.get(t)||[],d=h=>tA.set(t,[...u(),h]);return{flush:a,async schedule(h){const{promise:m,resolve:g,reject:w}=xD();return n?.([...c(),h])&&i(),u().length>0?(d({args:h,resolve:g,reject:w}),m):(d({args:h,resolve:g,reject:w}),setTimeout(i,r),m)}}}function C3(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new o3({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new o3({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function pG(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,a={};if(i!==void 0&&(a.code=i),t!==void 0&&(a.balance=on(t)),n!==void 0&&(a.nonce=on(n)),r!==void 0&&(a.state=C3(r)),s!==void 0){if(a.state)throw new IV;a.stateDiff=C3(s)}return a}function PD(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!fu(n,{strict:!1}))throw new mm({address:n});if(t[n])throw new TV({address:n});t[n]=pG(r)}return t}const mG=2n**256n-1n;function $g(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,i=t?Qa(t):void 0;if(i&&!fu(i.address))throw new mm({address:i.address});if(s&&!fu(s))throw new mm({address:s});if(n&&n>mG)throw new ow({maxFeePerGas:n});if(r&&n&&r>n)throw new cw({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function gG(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:i,blockTag:a=e.experimental_blockTag??"latest",accessList:c,blobs:u,blockOverrides:d,code:h,data:m,factory:g,factoryData:w,gas:v,gasPrice:E,maxFeePerBlobGas:A,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:I,to:N,value:S,stateOverride:x,...P}=t,L=n?Qa(n):void 0;if(h&&(g||w))throw new Ae("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(h&&N)throw new Ae("Cannot provide both `code` & `to` as parameters.");const j=h&&m,W=g&&w&&N&&m,Y=j||W,G=j?UD({code:h,data:m}):W?wG({data:m,factory:g,factoryData:w,to:N}):m;try{$g(t);const Z=(typeof i=="bigint"?on(i):void 0)||a,y=d?aG(d):void 0,_=PD(x),T=e.chain?.formatters?.transactionRequest?.format,U=(T||BE)({...LE(P,{format:T}),accessList:c,account:L,authorizationList:r,blobs:u,data:G,gas:v,gasPrice:E,maxFeePerBlobGas:A,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:I,to:Y?void 0:N,value:S},"call");if(s&&yG({request:U})&&!_&&!y)try{return await bG(e,{...U,blockNumber:i,blockTag:a})}catch(z){if(!(z instanceof Z$)&&!(z instanceof g5))throw z}const q=(()=>{const z=[U,Z];return _&&y?[...z,_,y]:_?[...z,_]:y?[...z,{},y]:z})(),M=await e.request({method:"eth_call",params:q});return M==="0x"?{data:void 0}:{data:M}}catch(K){const Z=EG(K),{offchainLookup:y,offchainLookupSignature:_}=await ir(async()=>{const{offchainLookup:T,offchainLookupSignature:$}=await import("./ccip-ChvAwLYC.js").then(U=>U.g);return{offchainLookup:T,offchainLookupSignature:$}},[]);if(e.ccipRead!==!1&&Z?.slice(0,10)===_&&N)return{data:await y(e,{data:Z,to:N})};throw Y&&Z?.slice(0,10)==="0x101bb98d"?new LV({factory:g}):dG(K,{...t,account:L,chain:e.chain})}}function yG({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(oG)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function bG(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:a=e.experimental_blockTag??"latest",data:c,to:u}=t,d=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return EV({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Z$})(),m=(typeof i=="bigint"?on(i):void 0)||a,{schedule:g}=kD({id:`${e.uid}.${m}`,wait:s,shouldSplitBatch(E){return E.reduce((R,{data:k})=>R+(k.length-2),0)>n*2},fn:async E=>{const A=E.map(I=>({allowFailure:!0,callData:I.data,target:I.to})),R=Y$({abi:i3,args:[A],functionName:"aggregate3"}),k=await e.request({method:"eth_call",params:[{...d===null?{data:UD({code:uG,data:R})}:{to:d,data:R}},m]});return gV({abi:i3,args:[A],functionName:"aggregate3",data:k||"0x"})}}),[{returnData:w,success:v}]=await g({data:c,to:u});if(!v)throw new eD({data:w});return w==="0x"?{data:void 0}:{data:w}}function UD(e){const{code:t,data:n}=e;return RD({abi:V$(["constructor(bytes, bytes)"]),bytecode:cG,args:[t,n]})}function wG(e){const{data:t,factory:n,factoryData:r,to:s}=e;return RD({abi:V$(["constructor(address, bytes, address, bytes)"]),bytecode:lG,args:[s,t,n,r]})}function EG(e){if(!(e instanceof Ae))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}function vG(e){const t=PE(`0x${e.substring(4)}`).substring(26);return UE(`0x${t}`)}async function CG({hash:e,signature:t}){const n=du(e)?e:gm(e),{secp256k1:r}=await ir(async()=>{const{secp256k1:a}=await import("./secp256k1-BiZdatX5.js");return{secp256k1:a}},[]);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:h,v:m,yParity:g}=t,w=Number(g??m),v=_3(w);return new r.Signature(Bh(d),Bh(h)).addRecoveryBit(v)}const a=du(t)?t:gm(t);if(Jr(a)!==65)throw new Error("invalid signature length");const c=xd(`0x${a.slice(130)}`),u=_3(c);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function _3(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function _G({hash:e,signature:t}){return vG(await CG({hash:e,signature:t}))}function AG(e,t="hex"){const n=$D(e),r=a2(new Uint8Array(n.length));return n.encode(r),t==="hex"?hi(r.bytes):r.bytes}function $D(e){return Array.isArray(e)?SG(e.map(t=>$D(t))):NG(e)}function SG(e){const t=e.reduce((s,i)=>s+i.length,0),n=DD(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function NG(e){const t=typeof e=="string"?Oo(e):e,n=DD(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function DD(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new Ae("Length is too large.")}function TG(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=PE($E(["0x05",AG([t?on(t):"0x",s,n?on(n):"0x"])]));return r==="bytes"?Oo(i):i}async function MD(e){const{authorization:t,signature:n}=e;return _G({hash:TG(t),signature:n??t})}let IG=class extends Ae{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:m,value:g}){const w=Ug({from:n?.address,to:m,value:typeof g<"u"&&`${f2(g)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof c<"u"&&`${ui(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${ui(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${ui(d)} gwei`,nonce:h});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",w].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}};function OG(e,{docsPath:t,...n}){const r=(()=>{const s=g2(e,n);return s instanceof ME?e:s})();return new IG(r,{docsPath:t,...n})}let LD=class extends Ae{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},y2=class extends Ae{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},RG=class extends Ae{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ui(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}},BD=class extends Ae{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}};const FD={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function b2(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?xd(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?xd(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?FD[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=xG(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function xG(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function kG(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:b2(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function qh(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const i=s??!1,a=n!==void 0?on(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[a||r,i]},{dedupe:!!a}),!c)throw new BD({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||kG)(c,"getBlock")}async function jD(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function oOe(e,t){return zD(e,t)}async function zD(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const i=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof i=="function"){const c=n||await or(e,qh,"getBlock")({}),u=await i({block:c,client:e,request:s});if(u===null)throw new Error;return u}if(typeof i<"u")return i;const a=await e.request({method:"eth_maxPriorityFeePerGas"});return Bh(a)}catch{const[i,a]=await Promise.all([n?Promise.resolve(n):or(e,qh,"getBlock")({}),or(e,jD,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new y2;const c=a-i.baseFeePerGas;return c<0n?0n:c}}async function cOe(e,t){return q5(e,t)}async function q5(e,t){const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},a=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new LD;const u=10**(a.toString().split(".")[1]?.length??0),d=g=>g*BigInt(Math.ceil(a*u))/BigInt(u),h=n||await or(e,qh,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:d,request:s,type:i});if(g!==null)return g}if(i==="eip1559"){if(typeof h.baseFeePerGas!="bigint")throw new y2;const g=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await zD(e,{block:h,chain:r,request:s}),w=d(h.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??w+g,maxPriorityFeePerGas:g}}return{gasPrice:s?.gasPrice??d(await or(e,jD,"getGasPrice")({}))}}async function PG(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?on(r):n]},{dedupe:!!r});return xd(s)}function HD(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Oo(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>hi(i))}function qD(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>Oo(a)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(a=>Oo(a)):e.commitments,i=[];for(let a=0;a<r.length;a++){const c=r[a],u=s[a];i.push(Uint8Array.from(t.computeBlobKzgProof(c,u)))}return n==="bytes"?i:i.map(a=>hi(a))}function UG(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i),u=r?4:0,d=r?0:4;e.setUint32(t+u,a,r),e.setUint32(t+d,c,r)}function $G(e,t,n){return e&t^~e&n}function DG(e,t,n){return e&t^e&n^t&n}let MG=class extends i2{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Y_(this.buffer)}update(t){Fh(this),t=kE(t),kd(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const u=Y_(t);for(;s<=i-a;a+=s)this.process(u,a);continue}r.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Fh(this),v$(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,jh(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(r,0),a=0);for(let m=a;m<s;m++)n[m]=0;UG(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=Y_(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<d;m++)c.setUint32(4*m,h[m],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:c}=this;return t.destroyed=a,t.finished=i,t.length=s,t.pos=c,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const El=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),LG=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vl=new Uint32Array(64);let BG=class extends MG{constructor(t=32){super(64,t,8,!1),this.A=El[0]|0,this.B=El[1]|0,this.C=El[2]|0,this.D=El[3]|0,this.E=El[4]|0,this.F=El[5]|0,this.G=El[6]|0,this.H=El[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:a,G:c,H:u}=this;return[t,n,r,s,i,a,c,u]}set(t,n,r,s,i,a,c,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=u|0}process(t,n){for(let m=0;m<16;m++,n+=4)vl[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const g=vl[m-15],w=vl[m-2],v=lo(g,7)^lo(g,18)^g>>>3,E=lo(w,17)^lo(w,19)^w>>>10;vl[m]=E+vl[m-7]+v+vl[m-16]|0}let{A:r,B:s,C:i,D:a,E:c,F:u,G:d,H:h}=this;for(let m=0;m<64;m++){const g=lo(c,6)^lo(c,11)^lo(c,25),w=h+g+$G(c,u,d)+LG[m]+vl[m]|0,E=(lo(r,2)^lo(r,13)^lo(r,22))+DG(r,s,i)|0;h=d,d=u,u=c,c=a+w|0,a=i,i=s,s=r,r=w+E|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,s,i,a,c,u,d,h)}roundClean(){jh(vl)}destroy(){this.set(0,0,0,0,0,0,0,0),jh(this.buffer)}};const WD=C$(()=>new BG),FG=WD;function jG(e,t){return FG(du(e,{strict:!1})?s2(e):e)}function zG(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=jG(t);return s.set([n],0),r==="bytes"?s:hi(s)}function HG(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const i of t)s.push(zG({commitment:i,to:r,version:n}));return s}const A3=6,VD=32,w2=4096,GD=VD*w2,S3=GD*A3-1-1*w2*A3;let qG=class extends Ae{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}},WG=class extends Ae{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}};function VG(e){const t=typeof e.data=="string"?Oo(e.data):e.data,n=Jr(t);if(!n)throw new WG;if(n>S3)throw new qG({maxSize:S3,size:n});const r=[];let s=!0,i=0;for(;s;){const a=a2(new Uint8Array(GD));let c=0;for(;c<w2;){const u=t.slice(i,i+(VD-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),s=!1;break}c++,i+=31}r.push(a)}return r.map(a=>hi(a.bytes))}function GG(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??VG({data:t}),i=e.commitments??HD({blobs:s,kzg:n,to:r}),a=e.proofs??qD({blobs:s,commitments:i,kzg:n,to:r}),c=[];for(let u=0;u<s.length;u++)c.push({blob:s[u],commitment:i[u],proof:a[u]});return c}function KG(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new RV({transaction:e})}function KD(e,{docsPath:t,...n}){const r=(()=>{const s=g2(e,n);return s instanceof ME?e:s})();return new xV(r,{docsPath:t,...n})}async function E2(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return xd(t)}async function YG(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:i=e.chain,blobVersionedHashes:a,blobs:c,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:g,maxPriorityFeePerGas:w,nonce:v,nonceManager:E,to:A,type:R,value:k,...I}=t,N=await(async()=>{if(!n||!E||typeof v<"u")return v;const L=Qa(n),j=i?i.id:await or(e,E2,"getChainId")({});return await E.consume({address:L.address,chainId:j,client:e})})();$g(t);const S=i?.formatters?.transactionRequest?.format,P=(S||BE)({...LE(I,{format:S}),account:n?Qa(n):void 0,accessList:r,authorizationList:s,blobs:c,blobVersionedHashes:a,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:g,maxPriorityFeePerGas:w,nonce:N,to:A,type:R,value:k},"fillTransaction");try{const L=await e.request({method:"eth_fillTransaction",params:[P]}),W=(i?.formatters?.transaction?.format||b2)(L.tx);delete W.blockHash,delete W.blockNumber,delete W.r,delete W.s,delete W.transactionIndex,delete W.v,delete W.yParity,W.data=W.input,W.gas&&(W.gas=t.gas??W.gas),W.gasPrice&&(W.gasPrice=t.gasPrice??W.gasPrice),W.maxFeePerBlobGas&&(W.maxFeePerBlobGas=t.maxFeePerBlobGas??W.maxFeePerBlobGas),W.maxFeePerGas&&(W.maxFeePerGas=t.maxFeePerGas??W.maxFeePerGas),W.maxPriorityFeePerGas&&(W.maxPriorityFeePerGas=t.maxPriorityFeePerGas??W.maxPriorityFeePerGas),W.nonce&&(W.nonce=t.nonce??W.nonce);const Y=await(async()=>{if(typeof i?.fees?.baseFeeMultiplier=="function"){const y=await or(e,qh,"getBlock")({});return i.fees.baseFeeMultiplier({block:y,client:e,request:t})}return i?.fees?.baseFeeMultiplier??1.2})();if(Y<1)throw new LD;const K=10**(Y.toString().split(".")[1]?.length??0),Z=y=>y*BigInt(Math.ceil(Y*K))/BigInt(K);return W.maxFeePerGas&&!t.maxFeePerGas&&(W.maxFeePerGas=Z(W.maxFeePerGas)),W.gasPrice&&!t.gasPrice&&(W.gasPrice=Z(W.gasPrice)),{raw:L.raw,transaction:{from:P.from,...W}}}catch(L){throw KD(L,{...t,chain:e.chain})}}const YD=["blobVersionedHashes","chainId","fees","gas","nonce","type"],N3=new Map,nA=new Pg(128);async function ZD(e,t){let n=t;const{account:r=e.account,chain:s=e.chain,nonceManager:i,parameters:a=YD}=n,c=(()=>{if(typeof s?.prepareTransactionRequest=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s?.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let u;async function d(){return u||(typeof n.chainId<"u"?n.chainId:s?s.id:(u=await or(e,E2,"getChainId")({}),u))}const h=r&&Qa(r);let m=n.nonce;if(a.includes("nonce")&&typeof m>"u"&&h&&i){const N=await d();m=await i.consume({address:h.address,chainId:N,client:e})}c?.fn&&c.runAt?.includes("beforeFillTransaction")&&(n=await c.fn(n,{phase:"beforeFillTransaction"}),m??=n.nonce);const w=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||nA.get(e.uid)===!1||!["fees","gas"].some(S=>a.includes(S))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof m!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await or(e,YG,"fillTransaction")({...n,nonce:m}).then(N=>{const{chainId:S,from:x,gas:P,gasPrice:L,nonce:j,maxFeePerBlobGas:W,maxFeePerGas:Y,maxPriorityFeePerGas:G,type:K,...Z}=N.transaction;return nA.set(e.uid,!0),{...n,...x?{from:x}:{},...K?{type:K}:{},...typeof S<"u"?{chainId:S}:{},...typeof P<"u"?{gas:P}:{},...typeof L<"u"?{gasPrice:L}:{},...typeof j<"u"?{nonce:j}:{},...typeof W<"u"?{maxFeePerBlobGas:W}:{},...typeof Y<"u"?{maxFeePerGas:Y}:{},...typeof G<"u"?{maxPriorityFeePerGas:G}:{},..."nonceKey"in Z&&typeof Z.nonceKey<"u"?{nonceKey:Z.nonceKey}:{}}}).catch(N=>(N.walk?.(P=>{const L=P;return L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError"})&&nA.set(e.uid,!1),n)):n;m??=w.nonce,n={...w,...h?{from:h?.address}:{},...m?{nonce:m}:{}};const{blobs:v,gas:E,kzg:A,type:R}=n;c?.fn&&c.runAt?.includes("beforeFillParameters")&&(n=await c.fn(n,{phase:"beforeFillParameters"}));let k;async function I(){return k||(k=await or(e,qh,"getBlock")({blockTag:"latest"}),k)}if(a.includes("nonce")&&typeof m>"u"&&h&&!i&&(n.nonce=await or(e,PG,"getTransactionCount")({address:h.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&v&&A){const N=HD({blobs:v,kzg:A});if(a.includes("blobVersionedHashes")){const S=HG({commitments:N,to:"hex"});n.blobVersionedHashes=S}if(a.includes("sidecars")){const S=qD({blobs:v,commitments:N,kzg:A}),x=GG({blobs:v,commitments:N,proofs:S,to:"hex"});n.sidecars=x}}if(a.includes("chainId")&&(n.chainId=await d()),(a.includes("fees")||a.includes("type"))&&typeof R>"u")try{n.type=KG(n)}catch{let N=N3.get(e.uid);typeof N>"u"&&(N=typeof(await I())?.baseFeePerGas=="bigint",N3.set(e.uid,N)),n.type=N?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const N=await I(),{maxFeePerGas:S,maxPriorityFeePerGas:x}=await q5(e,{block:N,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<x)throw new RG({maxPriorityFeePerGas:x});n.maxPriorityFeePerGas=x,n.maxFeePerGas=S}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new y2;if(typeof n.gasPrice>"u"){const N=await I(),{gasPrice:S}=await q5(e,{block:N,chain:s,request:n,type:"legacy"});n.gasPrice=S}}return a.includes("gas")&&typeof E>"u"&&(n.gas=await or(e,ZG,"estimateGas")({...n,account:h,prepare:h?.type==="local"?[]:["blobVersionedHashes"]})),c?.fn&&c.runAt?.includes("afterFillParameters")&&(n=await c.fn(n,{phase:"afterFillParameters"})),$g(n),delete n.parameters,n}async function ZG(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?Qa(n):void 0,i=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const a=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await MD({authorization:t.authorizationList[0]}).catch(()=>{throw new Ae("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:h,blockNumber:m,blockTag:g,data:w,gas:v,gasPrice:E,maxFeePerBlobGas:A,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:I,value:N,stateOverride:S,...x}=r?await ZD(e,{...t,parameters:i,to:a}):t;if(v&&t.gas!==v)return v;const L=(typeof m=="bigint"?on(m):void 0)||g,j=PD(S);$g(t);const W=e.chain?.formatters?.transactionRequest?.format,G=(W||BE)({...LE(x,{format:W}),account:s,accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:h,data:w,gasPrice:E,maxFeePerBlobGas:A,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:I,to:a,value:N},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:j?[G,L??e.experimental_blockTag??"latest",j]:L?[G,L]:[G]}))}catch(a){throw OG(a,{...t,account:s,chain:e.chain})}}const XG=new Map,JG=new Map;function QG(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:a=>i.set(s,a)}),n=t(e,XG),r=t(e,JG);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function eK(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=QG(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const a=await i;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const tK=e=>`blockNumber.${e}`;async function nK(e,{cacheTime:t=e.cacheTime}={}){const n=await eK(()=>e.request({method:"eth_blockNumber"}),{cacheKey:tK(e.uid),cacheTime:t});return BigInt(n)}function rK(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}const kb=new Pg(8192);function sK(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(kb.get(n))return kb.get(n);const r=e().finally(()=>kb.delete(n));return kb.set(n,r),r}async function lw(e){return new Promise(t=>setTimeout(t,e))}function uw(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const a=async({count:c=0}={})=>{const u=async({error:d})=>{const h=typeof t=="function"?t({count:c,error:d}):t;h&&await lw(h),a({count:c+1})};try{const d=await e();s(d)}catch(d){if(c<n&&await r({count:c,error:d}))return u({error:d});i(d)}};a()})}function iK(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:i,retryDelay:a=150,retryCount:c=3,uid:u}={...t,...r},{method:d}=n;if(i?.exclude?.includes(d))throw new K0(new Error("method not supported"),{method:d});if(i?.include&&!i.include.includes(d))throw new K0(new Error("method not supported"),{method:d});const h=s?r2(`${u}.${Ka(n)}`):void 0;return sK(()=>uw(async()=>{try{return await e(n)}catch(m){const g=m;switch(g.code){case y5.code:throw new y5(g);case b5.code:throw new b5(g);case w5.code:throw new w5(g,{method:n.method});case E5.code:throw new E5(g);case wm.code:throw new wm(g);case sw.code:throw new sw(g);case v5.code:throw new v5(g);case Th.code:throw new Th(g);case iw.code:throw new iw(g);case K0.code:throw new K0(g,{method:n.method});case aw.code:throw new aw(g);case C5.code:throw new C5(g);case ri.code:throw new ri(g);case _5.code:throw new _5(g);case A5.code:throw new A5(g);case S5.code:throw new S5(g);case N5.code:throw new N5(g);case Em.code:throw new Em(g);case T5.code:throw new T5(g);case I5.code:throw new I5(g);case O5.code:throw new O5(g);case R5.code:throw new R5(g);case x5.code:throw new x5(g);case k5.code:throw new k5(g);case P5.code:throw new P5(g);case 5e3:throw new ri(g);default:throw m instanceof Ae?m:new FV(g)}}},{delay:({count:m,error:g})=>{if(g&&g instanceof rm){const w=g?.headers?.get("Retry-After");if(w?.match(/\d/))return Number.parseInt(w,10)*1e3}return~~(1<<m)*a},retryCount:c,shouldRetry:({error:m})=>aK(m)}),{enabled:s,id:h})}}function aK(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===aw.code||e.code===wm.code:e instanceof rm&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function oK({chain:e,currentChainId:t}){if(!e)throw new wV;if(t!==e.id)throw new bV({chain:e,currentChainId:t})}const cK={"0x0":"reverted","0x1":"success"};function lK(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>rK(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?xd(e.transactionIndex):null,status:e.status?cK[e.status]:null,type:e.type?FD[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function XD(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let a;try{const c=new AbortController;n>0&&(a=setTimeout(()=>{r?c.abort():i(t)},n)),s(await e({signal:c?.signal||null}))}catch(c){c?.name==="AbortError"&&i(t),i(c)}finally{clearTimeout(a)}})()})}function uK(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const T3=uK();function dK(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:a=t.onResponse,timeout:c=t.timeout??1e4}=n,u={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:h,signal:m}=u;try{const g=await XD(async({signal:v})=>{const E={...u,body:Array.isArray(r)?Ka(r.map(I=>({jsonrpc:"2.0",id:I.id??T3.take(),...I}))):Ka({jsonrpc:"2.0",id:r.id??T3.take(),...r}),headers:{"Content-Type":"application/json",...d},method:h||"POST",signal:m||(c>0?v:null)},A=new Request(e,E),R=await i?.(A,E)??{...E,url:e};return await s(R.url??e,R)},{errorInstance:new b3({body:r,url:e}),timeout:c,signal:!0});a&&await a(g);let w;if(g.headers.get("Content-Type")?.startsWith("application/json"))w=await g.json();else{w=await g.text();try{w=JSON.parse(w||"{}")}catch(v){if(g.ok)throw v;w={error:w}}}if(!g.ok)throw new rm({body:r,details:Ka(w.error)||g.statusText,headers:g.headers,status:g.status,url:e});return w}catch(g){throw g instanceof rm||g instanceof b3?g:new rm({body:r,cause:g,url:e})}}}}class JD extends i2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Uq(t);const r=kE(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=t.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),jh(i)}update(t){return Fh(this),this.iHash.update(t),this}digestInto(t){Fh(this),kd(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=a,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const QD=(e,t,n)=>new JD(e,t).update(n).digest();QD.create=(e,t)=>new JD(e,t);async function e9(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i,sender:a,nonce:c}){const u=r||"latest",d=n!==void 0?on(n):void 0;let h=null;if(s?h=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?h=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,on(i)]},{dedupe:!0}):typeof i=="number"?h=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[d||u,on(i)]},{dedupe:!!d}):a&&typeof c=="number"&&(h=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[a,on(c)]},{dedupe:!0})),!h)throw new J$({blockHash:t,blockNumber:n,blockTag:u,hash:s,index:i});return(e.chain?.formatters?.transaction?.format||b2)(h,"getTransaction")}async function rA(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Q$({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||lK)(n,"getTransactionReceipt")}const sA=new Map,I3=new Map;let fK=0;function W5(e,t,n){const r=++fK,s=()=>sA.get(e)||[],i=()=>{const h=s();sA.set(e,h.filter(m=>m.id!==r))},a=()=>{const h=s();if(!h.some(g=>g.id===r))return;const m=I3.get(e);if(h.length===1&&m){const g=m();g instanceof Promise&&g.catch(()=>{})}i()},c=s();if(sA.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return a;const u={};for(const h in t)u[h]=((...m)=>{const g=s();if(g.length!==0)for(const w of g)w.fns[h]?.(...m)});const d=n(u);return typeof d=="function"&&I3.set(e,d),a}function hK(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:i}));const u=await n?.(c)??r;await lw(u);const d=async()=>{s&&(await e({unpoll:i}),await lw(r),d())};d()})(),i}function pK(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:a=e.pollingInterval}){const c=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let u;return c?(()=>{const m=Ka(["watchBlockNumber",e.uid,t,n,a]);return W5(m,{onBlockNumber:r,onError:s},g=>hK(async()=>{try{const w=await or(e,nK,"getBlockNumber")({cacheTime:0});if(u!==void 0){if(w===u)return;if(w-u>1&&n)for(let v=u+1n;v<w;v++)g.onBlockNumber(v,u),u=v}(u===void 0||w>u)&&(g.onBlockNumber(w,u),u=w)}catch(w){g.onError?.(w)}},{emitOnBegin:t,interval:a}))})():(()=>{const m=Ka(["watchBlockNumber",e.uid,t,n]);return W5(m,{onBlockNumber:r,onError:s},g=>{let w=!0,v=()=>w=!1;return(async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const R=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return R?R.value:e.transport}return e.transport})(),{unsubscribe:A}=await E.subscribe({params:["newHeads"],onData(R){if(!w)return;const k=Bh(R.result?.number);g.onBlockNumber(k,u),u=k},onError(R){g.onError?.(R)}});v=A,w||v()}catch(E){s?.(E)}})(),()=>v()})})()}async function mK(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:a=6,retryDelay:c=({count:S})=>~~(1<<S)*200,timeout:u=18e4}=t,d=Ka(["waitForTransactionReceipt",e.uid,s]),h=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let m,g,w,v=!1,E,A;const{promise:R,resolve:k,reject:I}=xD(),N=u?setTimeout(()=>{A?.(),E?.(),I(new kV({hash:s}))},u):void 0;return E=W5(d,{onReplaced:i,resolve:k,reject:I},async S=>{if(w=await or(e,rA,"getTransactionReceipt")({hash:s}).catch(()=>{}),w&&r<=1){clearTimeout(N),S.resolve(w),E?.();return}A=or(e,pK,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:h,async onBlockNumber(x){const P=j=>{clearTimeout(N),A?.(),j(),E?.()};let L=x;if(!v)try{if(w){if(r>1&&(!w.blockNumber||L-w.blockNumber+1n<r))return;P(()=>S.resolve(w));return}if(n&&!m&&(v=!0,await uw(async()=>{m=await or(e,e9,"getTransaction")({hash:s}),m.blockNumber&&(L=m.blockNumber)},{delay:c,retryCount:a}),v=!1),w=await or(e,rA,"getTransactionReceipt")({hash:s}),r>1&&(!w.blockNumber||L-w.blockNumber+1n<r))return;P(()=>S.resolve(w))}catch(j){if(j instanceof J$||j instanceof Q$){if(!m){v=!1;return}try{g=m,v=!0;const W=await uw(()=>or(e,qh,"getBlock")({blockNumber:L,includeTransactions:!0}),{delay:c,retryCount:a,shouldRetry:({error:K})=>K instanceof BD});v=!1;const Y=W.transactions.find(({from:K,nonce:Z})=>K===g.from&&Z===g.nonce);if(!Y||(w=await or(e,rA,"getTransactionReceipt")({hash:Y.hash}),r>1&&(!w.blockNumber||L-w.blockNumber+1n<r)))return;let G="replaced";Y.to===g.to&&Y.value===g.value&&Y.input===g.input?G="repriced":Y.from===Y.to&&Y.value===0n&&(G="cancelled"),P(()=>{S.onReplaced?.({reason:G,replacedTransaction:g,transaction:Y,transactionReceipt:w}),S.resolve(w)})}catch(W){P(()=>S.reject(W))}}else P(()=>S.reject(j))}}})}),R}let t9=class extends Ae{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}},iA=class extends Ae{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}};async function gK(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const aA=new Pg(128);async function yK(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,type:v,value:E,...A}=t;if(typeof n>"u")throw new t9({docsPath:"/docs/actions/wallet/sendTransaction"});const R=n?Qa(n):null;try{$g(t);const k=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await MD({authorization:i[0]}).catch(()=>{throw new Ae("`to` is required. Could not infer from `authorizationList`.")})})();if(R?.type==="json-rpc"||R===null){let I;r!==null&&(I=await or(e,E2,"getChainId")({}),oK({currentChainId:I,chain:r}));const N=e.chain?.formatters?.transactionRequest?.format,x=(N||BE)({...LE(A,{format:N}),accessList:s,account:R,authorizationList:i,blobs:a,chainId:I,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,to:k,type:v,value:E},"sendTransaction"),P=aA.get(e.uid),L=P?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:L,params:[x]},{retryCount:0})}catch(j){if(P===!1)throw j;const W=j;if(W.name==="InvalidInputRpcError"||W.name==="InvalidParamsRpcError"||W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[x]},{retryCount:0}).then(Y=>(aA.set(e.uid,!0),Y)).catch(Y=>{const G=Y;throw G.name==="MethodNotFoundRpcError"||G.name==="MethodNotSupportedRpcError"?(aA.set(e.uid,!1),W):G});throw W}}if(R?.type==="local"){const I=await or(e,ZD,"prepareTransactionRequest")({account:R,accessList:s,authorizationList:i,blobs:a,chain:r,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,nonceManager:R.nonceManager,parameters:[...YD,"sidecars"],type:v,value:E,...A,to:k}),N=r?.serializers?.transaction,S=await R.signTransaction(I,{serializer:N});return await or(e,gK,"sendRawTransaction")({serializedTransaction:S})}throw R?.type==="smart"?new iA({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new iA({docsPath:"/docs/actions/wallet/sendTransaction",type:R?.type})}catch(k){throw k instanceof iA?k:KD(k,{...t,account:R,chain:t.chain||void 0})}}async function dw(e,t){return dw.internal(e,yK,"sendTransaction",t)}(function(e){async function t(n,r,s,i){const{abi:a,account:c=n.account,address:u,args:d,dataSuffix:h,functionName:m,...g}=i;if(typeof c>"u")throw new t9({docsPath:"/docs/contract/writeContract"});const w=c?Qa(c):null,v=Y$({abi:a,args:d,functionName:m});try{return await or(n,r,s)({data:`${v}${h?h.replace("0x",""):""}`,to:u,account:w,...g})}catch(E){throw zV(E,{abi:a,address:u,args:d,docsPath:"/docs/contract/writeContract",functionName:m,sender:w?.address})}}e.internal=t})(dw||(dw={}));function k1(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}const bK="3.0.0",wK=()=>`@wagmi/core@${bK}`;var n9=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},fw,r9;let Au=class V5 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return wK()}constructor(t,n={}){super(),fw.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof V5?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof V5&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return n9(this,fw,"m",r9).call(this,this,t)}};fw=new WeakSet,r9=function e(t,n){return n?.(t)?t:t.cause?n9(this,fw,"m",e).call(this,t.cause,n):t};let EK=class extends Au{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}},vK=class extends Au{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}},CK=class extends Au{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}},_K=class extends Au{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}},AK=class extends Au{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}},SK=class extends Au{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}};async function NK(e,t){let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new vK;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=t,i=await n.connect(s);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:s.withCapabilities?i.accounts.map(c=>typeof c=="object"?c.address:c):i.accounts,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s.withCapabilities?i.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):i.accounts,chainId:i.chainId}}catch(r){throw e.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}const G5=256;let Pb=G5,Ub;function s9(e=11){if(!Ub||Pb+e>G5*2){Ub="",Pb=0;for(let t=0;t<G5;t++)Ub+=(256+Math.random()*256|0).toString(16).substring(1)}return Ub.substring(Pb,Pb+++e)}function TK(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),h=e.pollingInterval??d,m=e.cacheTime??h,g=e.account?Qa(e.account):void 0,{config:w,request:v,value:E}=e.transport({account:g,chain:n,pollingInterval:h}),A={...w,...E},R={account:g,batch:t,cacheTime:m,ccipRead:r,chain:n,key:s,name:i,pollingInterval:h,request:v,transport:A,type:a,uid:s9(),...c?{experimental_blockTag:c}:{}};function k(I){return N=>{const S=N(I);for(const P in R)delete S[P];const x={...I,...S};return Object.assign(x,{extend:k(x)})}}return Object.assign(R,{extend:k(R)})}function v2({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:a,type:c},u){const d=s9();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:a,type:c},request:iK(r,{methods:t,retryCount:s,retryDelay:i,uid:d}),value:u}}function IK(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=t;return({retryCount:a})=>v2({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:i,type:"custom"})}function O3(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=OK,retryCount:a,retryDelay:c}=t;return(({chain:u,pollingInterval:d=4e3,timeout:h,...m})=>{let g=e,w=()=>{};const v=v2({key:n,name:r,async request({method:E,params:A}){let R;const k=async(I=0)=>{const N=g[I]({...m,chain:u,retryCount:0,timeout:h});try{const S=await N.request({method:E,params:A});return w({method:E,params:A,response:S,transport:N,status:"success"}),S}catch(S){if(w({error:S,method:E,params:A,transport:N,status:"error"}),i(S)||I===g.length-1||(R??=g.slice(I+1).some(x=>{const{include:P,exclude:L}=x({chain:u}).config.methods||{};return P?P.includes(E):L?!L.includes(E):!0}),!R))throw S;return k(I+1)}};return k()},retryCount:a,retryDelay:c,type:"fallback"},{onResponse:E=>w=E,transports:g.map(E=>E({chain:u,retryCount:0}))});if(s){const E=typeof s=="object"?s:{};RK({chain:u,interval:E.interval??d,onTransports:A=>g=A,ping:E.ping,sampleCount:E.sampleCount,timeout:E.timeout,transports:g,weights:E.weights})}return v})}function OK(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===iw.code||e.code===ri.code||fd.nodeMessage.test(e.message)||e.code===5e3))}function RK({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:a,weights:c={}}){const{stability:u=.7,latency:d=.3}=c,h=[],m=async()=>{const g=await Promise.all(a.map(async E=>{const A=E({chain:e,retryCount:0,timeout:i}),R=Date.now();let k,I;try{await(r?r({transport:A}):A.request({method:"net_listening"})),I=1}catch{I=0}finally{k=Date.now()}return{latency:k-R,success:I}}));h.push(g),h.length>s&&h.shift();const w=Math.max(...h.map(E=>Math.max(...E.map(({latency:A})=>A)))),v=a.map((E,A)=>{const R=h.map(x=>x[A].latency),I=1-R.reduce((x,P)=>x+P,0)/R.length/w,N=h.map(x=>x[A].success),S=N.reduce((x,P)=>x+P,0)/N.length;return S===0?[0,A]:[d*I+u*S,A]}).sort((E,A)=>A[0]-E[0]);n(v.map(([,E])=>a[E])),await lw(t),m()};m()}let xK=class extends Ae{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}};function $b(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:a,name:c="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:d,retryDelay:h,raw:m}=t;return({chain:g,retryCount:w,timeout:v})=>{const{batchSize:E=1e3,wait:A=0}=typeof n=="object"?n:{},R=t.retryCount??w,k=v??t.timeout??1e4,I=e||g?.rpcUrls.default.http[0];if(!I)throw new xK;const N=dK(I,{fetchFn:r,fetchOptions:s,onRequest:u,onResponse:d,timeout:k});return v2({key:i,methods:a,name:c,async request({method:S,params:x}){const P={method:S,params:x},{schedule:L}=kD({id:I,wait:A,shouldSplitBatch(G){return G.length>E},fn:G=>N.request({body:G}),sort:(G,K)=>G.id-K.id}),j=async G=>n?L(G):[await N.request({body:G})],[{error:W,result:Y}]=await j(P);if(m)return{error:W,result:Y};if(W)throw new p2({body:P,error:W,url:I});return Y},retryCount:R,retryDelay:h,timeout:k,type:"http"},{fetchOptions:s,url:I})}}async function kK(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:h}=t;if(e.state.status==="reconnecting"&&!h.getAccounts&&!h.getChainId)throw new SK({connector:h});const[m,g]=await Promise.all([h.getAccounts().catch(w=>{if(t.account===null)return[];throw w}),h.getChainId()]);r={accounts:m,chainId:g,connector:h}}else r=e.state.connections.get(e.state.current);if(!r)throw new CK;const s=t.chainId??r.chainId,i=await r.connector.getChainId();if(n&&i!==s)throw new AK({connectionChainId:s,connectorChainId:i});const a=r.connector;if(a.getClient)return a.getClient({chainId:s});const c=Qa(t.account??r.accounts[0]);if(c&&(c.address=G0(c.address)),t.account&&!r.accounts.some(h=>h.toLowerCase()===c.address.toLowerCase()))throw new _K({address:c.address,connector:a});const u=e.chains.find(h=>h.id===s),d=await r.connector.getProvider({chainId:s});return TK({account:c,chain:u,name:"Connector Client",transport:h=>IK(d)({...h,retryCount:0})})}async function PK(e,t={}){let n;if(t.connector)n=t.connector;else{const{connections:s,current:i}=e.state;n=s.get(i)?.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const i=r.values().next().value;return{...s,connections:new Map(r),current:i.connector.uid}});{const s=e.state.current;if(!s)return;const i=e.state.connections.get(s)?.connector;if(!i)return;await e.storage?.setItem("recentConnectorId",i.id)}}function R3(e){return e.state.chainId}function Wh(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Wh(e[r],t[r]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!Wh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function i9(e){const t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,s=r?.[0],i=e.chains.find(c=>c.id===n?.chainId),a=e.state.status;switch(a){case"connected":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}let Db=[];function K5(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Wh(Db,t)?Db:(Db=t,t)}let Mb=[];function x3(e){const t=e.connectors;return Mb.length===t.length&&Mb.every((n,r)=>n===t[r])?Mb:(Mb=t,t)}let oA=!1;async function UK(e,t={}){if(oA)return[];oA=!0,e.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const d of t.connectors){let h;typeof d=="function"?h=e._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,d]of e.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let a=!1;const c=[],u=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||u.some(w=>w===h)||!await d.isAuthorized())continue;const g=await d.connect({isReconnecting:!0}).catch(()=>null);g&&(d.emitter.off("connect",e._internal.events.connect),d.emitter.on("change",e._internal.events.change),d.emitter.on("disconnect",e._internal.events.disconnect),e.setState(w=>{const v=new Map(a?w.connections:new Map).set(d.uid,{accounts:g.accounts,chainId:g.chainId,connector:d});return{...w,current:a?w.current:d.uid,connections:v}}),c.push({accounts:g.accounts,chainId:g.chainId,connector:d}),u.push(h),a=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(a?e.setState(d=>({...d,status:"connected"})):e.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),oA=!1,c}let Qf=class extends Au{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}};async function $K(e,t){const{chainId:n,timeout:r=0,...s}=t,i=e.getClient({chainId:n}),c=await k1(i,mK,"waitForTransactionReceipt")({...s,timeout:r});if(c.status==="reverted"){const u=k1(i,e9,"getTransaction"),{from:d,...h}=await u({hash:c.transactionHash}),g=await k1(i,gG,"call")({...h,account:d,data:h.input,gasPrice:h.type!=="eip1559"?h.gasPrice:void 0,maxFeePerGas:h.type==="eip1559"?h.maxFeePerGas:void 0,maxPriorityFeePerGas:h.type==="eip1559"?h.maxPriorityFeePerGas:void 0}),w=g?.data?vq(`0x${g.data.substring(138)}`):"unknown reason";throw new Error(w)}return{...c,chainId:i.chain.id}}function DK(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function MK(e,t){const{onChange:n}=t;return e.subscribe(()=>i9(e),n,{equalityFn(r,s){const{connector:i,...a}=r,{connector:c,...u}=s;return Wh(a,u)&&i?.id===c?.id&&i?.uid===c?.uid}})}function LK(e,t){const{onChange:n}=t;return e.subscribe(()=>K5(e),n,{equalityFn:Wh})}function BK(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}async function FK(e,t){const{account:n,chainId:r,connector:s,...i}=t;let a;return typeof n=="object"&&n?.type==="local"?a=e.getClient({chainId:r}):a=await kK(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s}),await k1(a,dw,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}C2.type="injected";function C2(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const u=e.target;if(typeof u=="function"){const d=u();if(d)return d}return typeof u=="object"?u:typeof u=="string"?{...jK[u]??{id:u,name:`${u[0].toUpperCase()}${u.slice(1)}`,provider:`is${u[0].toUpperCase()}${u.slice(1)}`}}:{id:"injected",name:"Injected",provider(d){return d?.ethereum}}}let s,i,a,c;return u=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:C2.type,async setup(){const d=await this.getProvider();d?.on&&e.target&&(a||(a=this.onConnect.bind(this),d.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)))},async connect({chainId:d,isReconnecting:h,withCapabilities:m}={}){const g=await this.getProvider();if(!g)throw new Qf;let w=[];if(h)w=await this.getAccounts().catch(()=>[]);else if(t)try{w=(await g.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(E=>G0(E)),w.length>0&&(w=await this.getAccounts())}catch(v){const E=v;if(E.code===ri.code)throw new ri(E);if(E.code===Th.code)throw E}try{!w?.length&&!h&&(w=(await g.request({method:"eth_requestAccounts"})).map(A=>G0(A))),a&&(g.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),g.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),g.on("disconnect",c));let v=await this.getChainId();return d&&v!==d&&(v=(await this.switchChain({chainId:d}).catch(A=>{if(A.code===ri.code)throw A;return{id:v}}))?.id??v),t&&await u.storage?.removeItem(`${this.id}.disconnected`),e.target||await u.storage?.setItem("injected.connected",!0),{accounts:m?w.map(E=>({address:E,capabilities:{}})):w,chainId:v}}catch(v){const E=v;throw E.code===ri.code?new ri(E):E.code===Th.code?new Th(E):E}},async disconnect(){const d=await this.getProvider();if(!d)throw new Qf;i&&(d.removeListener("chainChanged",i),i=void 0),c&&(d.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),d.on("connect",a));try{await XD(()=>d.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await u.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await u.storage?.removeItem("injected.connected")},async getAccounts(){const d=await this.getProvider();if(!d)throw new Qf;return(await d.request({method:"eth_accounts"})).map(m=>G0(m))},async getChainId(){const d=await this.getProvider();if(!d)throw new Qf;const h=await d.request({method:"eth_chainId"});return Number(h)},async getProvider(){if(typeof window>"u")return;let d;const h=r();return typeof h.provider=="function"?d=h.provider(window):typeof h.provider=="string"?d=P1(window,h.provider):d=h.provider,d&&!d.removeListener&&("off"in d&&typeof d.off=="function"?d.removeListener=d.off:d.removeListener=()=>{}),d},async isAuthorized(){try{if(t&&await u.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await u.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),w=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(E=>window.addEventListener("ethereum#initialized",()=>E(g()),{once:!0}))]:[],new Promise(E=>setTimeout(()=>E(g()),w))]))return!0}throw new Qf}return!!(await uw(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){const m=await this.getProvider();if(!m)throw new Qf;const g=u.chains.find(v=>v.id===h);if(!g)throw new Em(new EK);const w=new Promise(v=>{const E=(A=>{"chainId"in A&&A.chainId===h&&(u.emitter.off("change",E),v())});u.emitter.on("change",E)});try{return await Promise.all([m.request({method:"wallet_switchEthereumChain",params:[{chainId:on(h)}]}).then(async()=>{await this.getChainId()===h&&u.emitter.emit("change",{chainId:h})}),w]),g}catch(v){const E=v;if(E.code===4902||E?.data?.originalError?.code===4902)try{const{default:A,...R}=g.blockExplorers??{};let k;d?.blockExplorerUrls?k=d.blockExplorerUrls:A&&(k=[A.url,...Object.values(R).map(S=>S.url)]);let I;d?.rpcUrls?.length?I=d.rpcUrls:I=[g.rpcUrls.default?.http[0]??""];const N={blockExplorerUrls:k,chainId:on(h),chainName:d?.chainName??g.name,iconUrls:d?.iconUrls,nativeCurrency:d?.nativeCurrency??g.nativeCurrency,rpcUrls:I};return await Promise.all([m.request({method:"wallet_addEthereumChain",params:[N]}).then(async()=>{if(await this.getChainId()===h)u.emitter.emit("change",{chainId:h});else throw new ri(new Error("User rejected switch after adding network."))}),w]),g}catch(A){throw new ri(A)}throw E.code===ri.code?new ri(E):new Em(E)}},async onAccountsChanged(d){if(d.length===0)this.onDisconnect();else if(u.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),t&&await u.storage?.removeItem(`${this.id}.disconnected`)}else u.emitter.emit("change",{accounts:d.map(h=>G0(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},async onConnect(d){const h=await this.getAccounts();if(h.length===0)return;const m=Number(d.chainId);u.emitter.emit("connect",{accounts:h,chainId:m});const g=await this.getProvider();g&&(a&&(g.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),g.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),g.on("disconnect",c)))},async onDisconnect(d){const h=await this.getProvider();d&&d.code===1013&&h&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),h&&(i&&(h.removeListener("chainChanged",i),i=void 0),c&&(h.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))))}})}const jK={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:P1(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return P1(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:P1(e,"isPhantom")}}};function P1(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function zK(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{const i=new Set;for(const u of s??[])if(u.rdns){const d=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const h of d)i.add(h)}const a=[],c=e._internal.mipd?.getProviders()??[];for(const u of c){if(i.has(u.info.rdns))continue;const d=e._internal.connectors.providerDetailToConnector(u),h=e._internal.connectors.setup(d);a.push(h)}return[...s,...a]})),r?UK(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function HK(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:i}=zK(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const a=Gt.useRef(!0);return Gt.useEffect(()=>{if(a.current&&n._internal.ssr)return i(),()=>{a.current=!1}},[]),t}const a9=Gt.createContext(void 0);function qK(e){const{children:t,config:n}=e,r={value:n};return Gt.createElement(HK,e,Gt.createElement(a9.Provider,r,t))}const WK="3.1.0",VK=()=>`wagmi@${WK}`;let GK=class extends Au{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return VK()}};class KK extends GK{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}var pp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YK={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ZK=class{#e=YK;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},hd=new ZK;function XK(e){setTimeout(e,0)}var Ud=typeof window>"u"||"Deno"in globalThis;function Ps(){}function JK(e,t){return typeof e=="function"?e(t):e}function Y5(e){return typeof e=="number"&&e>=0&&e!==1/0}function o9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function au(e,t){return typeof e=="function"?e(t):e}function ma(e,t){return typeof e=="function"?e(t):e}function k3(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:c}=e;if(a){if(r){if(t.queryHash!==_2(a,t.options))return!1}else if(!vm(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||i&&!i(t))}function P3(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if($d(t.options.mutationKey)!==$d(i))return!1}else if(!vm(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function _2(e,t){return(t?.queryKeyHashFn||$d)(e)}function $d(e){return JSON.stringify(e,(t,n)=>Z5(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function vm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>vm(e[n],t[n])):!1}var QK=Object.prototype.hasOwnProperty;function c9(e,t){if(e===t)return e;const n=U3(e)&&U3(t);if(!n&&!(Z5(e)&&Z5(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,c=n?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=n?d:i[d],m=e[h],g=t[h];if(m===g){c[h]=m,(n?d<s:QK.call(e,h))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){c[h]=g;continue}const w=c9(m,g);c[h]=w,w===m&&u++}return s===a&&u===s?e:c}function hw(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function U3(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Z5(e){if(!$3(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!$3(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $3(e){return Object.prototype.toString.call(e)==="[object Object]"}function eY(e){return new Promise(t=>{hd.setTimeout(t,e)})}function X5(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?c9(e,t):t}function tY(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function nY(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var A2=Symbol();function l9(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===A2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function u9(e,t){return typeof e=="function"?e(...t):!!e}var rY=class extends pp{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Ud&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},S2=new rY;function J5(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var sY=XK;function iY(){let e=[],t=0,n=c=>{c()},r=c=>{c()},s=sY;const i=c=>{t?e.push(c):s(()=>{n(c)})},a=()=>{const c=e;e=[],c.length&&s(()=>{r(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||a()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var jr=iY(),aY=class extends pp{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Ud&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},pw=new aY;function oY(e){return Math.min(1e3*2**e,3e4)}function d9(e){return(e??"online")==="online"?pw.isOnline():!0}var Q5=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function f9(e){let t=!1,n=0,r;const s=J5(),i=()=>s.status!=="pending",a=E=>{if(!i()){const A=new Q5(E);g(A),e.onCancel?.(A)}},c=()=>{t=!0},u=()=>{t=!1},d=()=>S2.isFocused()&&(e.networkMode==="always"||pw.isOnline())&&e.canRun(),h=()=>d9(e.networkMode)&&e.canRun(),m=E=>{i()||(r?.(),s.resolve(E))},g=E=>{i()||(r?.(),s.reject(E))},w=()=>new Promise(E=>{r=A=>{(i()||d())&&E(A)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let E;const A=n===0?e.initialPromise:void 0;try{E=A??e.fn()}catch(R){E=Promise.reject(R)}Promise.resolve(E).then(m).catch(R=>{if(i())return;const k=e.retry??(Ud?0:3),I=e.retryDelay??oY,N=typeof I=="function"?I(n,R):I,S=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,R);if(t||!S){g(R);return}n++,e.onFail?.(n,R),eY(N).then(()=>d()?void 0:w()).then(()=>{t?g(R):v()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r?.(),s),cancelRetry:c,continueRetry:u,canStart:h,start:()=>(h()?v():w().then(v),s)}}var h9=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Y5(this.gcTime)&&(this.#e=hd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ud?1/0:300*1e3))}clearGcTimeout(){this.#e&&(hd.clearTimeout(this.#e),this.#e=void 0)}},cY=class extends h9{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=M3(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=M3(this.options);t.data!==void 0&&(this.setState(D3(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=X5(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Ps).catch(Ps):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ma(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>au(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!o9(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const c=l9(this.options,t),d=(()=>{const h={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(h),h})();return this.#o=!1,this.options.persister?this.options.persister(c,d,this):c(d)},a=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(c),c})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=f9({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:c=>{c instanceof Q5&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,u)=>{this.#i({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const c=await this.#r.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof Q5){if(c.silent)return this.#r.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#i({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...p9(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...D3(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),jr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function p9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d9(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function D3(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function M3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var lY=class extends pp{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=J5(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#m;#f;#h;#l;#u;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),L3(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return e6(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return e6(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#E(),this.#v(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ma(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#t.setOptions(this.options),t._defaulted&&!hw(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&B3(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||ma(this.options.enabled,this.#t)!==ma(t.enabled,this.#t)||au(this.options.staleTime,this.#t)!==au(t.staleTime,this.#t))&&this.#g();const s=this.#y();r&&(this.#t!==n||ma(this.options.enabled,this.#t)!==ma(t.enabled,this.#t)||s!==this.#c)&&this.#b(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return dY(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#C();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ps)),t}#g(){this.#E();const e=au(this.options.staleTime,this.#t);if(Ud||this.#s.isStale||!Y5(e))return;const n=o9(this.#s.dataUpdatedAt,e)+1;this.#l=hd.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#v(),this.#c=e,!(Ud||ma(this.options.enabled,this.#t)===!1||!Y5(this.#c)||this.#c===0)&&(this.#u=hd.setInterval(()=>{(this.options.refetchIntervalInBackground||S2.isFocused())&&this.#d()},this.#c))}#w(){this.#g(),this.#b(this.#y())}#E(){this.#l&&(hd.clearTimeout(this.#l),this.#l=void 0)}#v(){this.#u&&(hd.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,r=this.options,s=this.#s,i=this.#r,a=this.#a,u=e!==n?e.state:this.#n,{state:d}=e;let h={...d},m=!1,g;if(t._optimisticResults){const L=this.hasListeners(),j=!L&&L3(e,t),W=L&&B3(e,n,t,r);(j||W)&&(h={...h,...p9(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:E}=h;g=h.data;let A=!1;if(t.placeholderData!==void 0&&g===void 0&&E==="pending"){let L;s?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(L=s.data,A=!0):L=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,L!==void 0&&(E="success",g=X5(s?.data,L,t),m=!0)}if(t.select&&g!==void 0&&!A)if(s&&g===i?.data&&t.select===this.#m)g=this.#f;else try{this.#m=t.select,g=t.select(g),g=X5(s?.data,g,t),this.#f=g,this.#i=null}catch(L){this.#i=L}this.#i&&(w=this.#i,g=this.#f,v=Date.now(),E="error");const R=h.fetchStatus==="fetching",k=E==="pending",I=E==="error",N=k&&R,S=g!==void 0,P={status:E,fetchStatus:h.fetchStatus,isPending:k,isSuccess:E==="success",isError:I,isInitialLoading:N,isLoading:N,data:g,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:R,isRefetching:R&&!k,isLoadingError:I&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:I&&S,isStale:N2(e,t),refetch:this.refetch,promise:this.#o,isEnabled:ma(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const L=Y=>{P.status==="error"?Y.reject(P.error):P.data!==void 0&&Y.resolve(P.data)},j=()=>{const Y=this.#o=P.promise=J5();L(Y)},W=this.#o;switch(W.status){case"pending":e.queryHash===n.queryHash&&L(W);break;case"fulfilled":(P.status==="error"||P.data!==W.value)&&j();break;case"rejected":(P.status!=="error"||P.error!==W.reason)&&j();break}}return P}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#t),hw(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(a=>{const c=a;return this.#s[c]!==e[c]&&i.has(c)})};this.#_({listeners:n()})}#C(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#_(e){jr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function uY(e,t){return ma(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function L3(e,t){return uY(e,t)||e.state.data!==void 0&&e6(e,t,t.refetchOnMount)}function e6(e,t,n){if(ma(t.enabled,e)!==!1&&au(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&N2(e,t)}return!1}function B3(e,t,n,r){return(e!==t||ma(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&N2(e,n)}function N2(e,t){return ma(t.enabled,e)!==!1&&e.isStaleByTime(au(t.staleTime,e))}function dY(e,t){return!hw(e.getCurrentResult(),t)}function F3(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const m=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=l9(t.options,t.fetchOptions),w=async(v,E,A)=>{if(h)return Promise.reject();if(E==null&&v.pages.length)return Promise.resolve(v);const k=(()=>{const x={client:t.client,queryKey:t.queryKey,pageParam:E,direction:A?"backward":"forward",meta:t.options.meta};return m(x),x})(),I=await g(k),{maxPages:N}=t.options,S=A?nY:tY;return{pages:S(v.pages,I,N),pageParams:S(v.pageParams,E,N)}};if(s&&i.length){const v=s==="backward",E=v?fY:j3,A={pages:i,pageParams:a},R=E(r,A);c=await w(A,R,v)}else{const v=e??i.length;do{const E=u===0?a[0]??r.initialPageParam:j3(r,c);if(u>0&&E==null)break;c=await w(c,E),u++}while(u<v)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function j3(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function fY(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var hY=class extends h9{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||m9(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=f9({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,n);const a=await this.options.onMutate?.(e,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,e,this.state.context,this,n),await this.options.onError?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,e,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),jr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function m9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pY=class extends pp{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new hY({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=Lb(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Lb(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Lb(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Lb(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){jr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>P3(t,n))}findAll(e={}){return this.getAll().filter(t=>P3(e,t))}notify(e){jr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return jr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ps))))}};function Lb(e){return e.options.scope?.id}var mY=class extends pp{#e;#t=void 0;#n;#s;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),hw(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&$d(n.mutationKey)!==$d(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(t,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??m9();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){jr.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#s.onSuccess?.(t.data,n,r,s),this.#s.onSettled?.(t.data,null,n,r,s)):t?.type==="error"&&(this.#s.onError?.(t.error,n,r,s),this.#s.onSettled?.(void 0,t.error,n,r,s))}this.listeners.forEach(n=>{n(this.#t)})})}},gY=class extends pp{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??_2(r,t);let i=this.get(s);return i||(i=new cY({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>k3(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>k3(e,n)):t}notify(e){jr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){jr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yY=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(e={}){this.#e=e.queryCache||new gY,this.#t=e.mutationCache||new pY,this.#n=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=S2.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=pw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(au(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,a=JK(t,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return jr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;jr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return jr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=jr.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Ps).catch(Ps)}invalidateQueries(e,t={}){return jr.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=jr.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ps)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ps)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(au(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ps).catch(Ps)}fetchInfiniteQuery(e){return e.behavior=F3(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ps).catch(Ps)}ensureInfiniteQueryData(e){return e.behavior=F3(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pw.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set($d(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(r=>{vm(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set($d(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{vm(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===A2&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};function bY(e){return JSON.stringify(e,(t,n)=>wY(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function wY(e){if(!z3(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!z3(n)||!n.hasOwnProperty("isPrototypeOf"))}function z3(e){return Object.prototype.toString.call(e)==="[object Object]"}function EY(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:a,meta:c,networkMode:u,queryFn:d,queryHash:h,queryKey:m,queryKeyHashFn:g,retry:w,retryDelay:v,structuralSharing:E,getPreviousPageParam:A,getNextPageParam:R,initialPageParam:k,_optimisticResults:I,enabled:N,notifyOnChangeProps:S,placeholderData:x,refetchInterval:P,refetchIntervalInBackground:L,refetchOnMount:j,refetchOnReconnect:W,refetchOnWindowFocus:Y,retryOnMount:G,select:K,staleTime:Z,suspense:y,throwOnError:_,config:T,connector:$,query:U,...q}=e;return q}function vY(e){return{mutationFn(t){return NK(e,t)},mutationKey:["connect"]}}function CY(e){return{mutationFn(t){return PK(e,t)},mutationKey:["disconnect"]}}function _Y(e,t={}){return{async queryFn({queryKey:n}){const{hash:r,...s}=n[1];if(!r)throw new Error("hash is required");return $K(e,{...s,onReplaced:t.onReplaced,hash:r})},queryKey:AY(t)}}function AY(e={}){const{onReplaced:t,...n}=e;return["waitForTransactionReceipt",EY(n)]}function SY(e){return{mutationFn(t){return FK(e,t)},mutationKey:["writeContract"]}}var g9=Gt.createContext(void 0),y9=e=>{const t=Gt.useContext(g9);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},NY=({client:e,children:t})=>(Gt.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),St.jsx(g9.Provider,{value:e,children:t})),b9=Gt.createContext(!1),TY=()=>Gt.useContext(b9);b9.Provider;function IY(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var OY=Gt.createContext(IY()),RY=()=>Gt.useContext(OY),xY=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},kY=e=>{Gt.useEffect(()=>{e.clearReset()},[e])},PY=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||u9(n,[e.error,r])),UY=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$Y=(e,t)=>e.isLoading&&e.isFetching&&!t,DY=(e,t)=>e?.suspense&&t.isPending,H3=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function MY(e,t,n){const r=TY(),s=RY(),i=y9(),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",UY(a),xY(a,s),kY(s);const c=!i.getQueryCache().get(a.queryHash),[u]=Gt.useState(()=>new t(i,a)),d=u.getOptimisticResult(a),h=!r&&e.subscribed!==!1;if(Gt.useSyncExternalStore(Gt.useCallback(m=>{const g=h?u.subscribe(jr.batchCalls(m)):Ps;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),Gt.useEffect(()=>{u.setOptions(a)},[a,u]),DY(a,d))throw H3(a,u,s);if(PY({result:d,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Ud&&$Y(d,r)&&(c?H3(a,u,s):i.getQueryCache().get(a.queryHash)?.promise)?.catch(Ps).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function LY(e,t){return MY(e,lY)}function T2(e,t){const n=y9(),[r]=Gt.useState(()=>new mY(n,e));Gt.useEffect(()=>{r.setOptions(e)},[r,e]);const s=Gt.useSyncExternalStore(Gt.useCallback(a=>r.subscribe(jr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=Gt.useCallback((a,c)=>{r.mutate(a,c).catch(Ps)},[r]);if(s.error&&u9(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function BY(e){const t=LY({...e,queryKeyHashFn:bY});return t.queryKey=e.queryKey,t}function Su(e={}){const t=e.config??Gt.useContext(a9);if(!t)throw new KK;return t}function FY(e={}){const t=Su(e);return Gt.useSyncExternalStore(n=>DK(t,{onChange:n}),()=>R3(t),()=>R3(t))}var cA={exports:{}},lA={},uA={exports:{}},dA={};var q3;function jY(){if(q3)return dA;q3=1;var e=kg();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function c(m,g){var w=g(),v=r({inst:{value:w,getSnapshot:g}}),E=v[0].inst,A=v[1];return i(function(){E.value=w,E.getSnapshot=g,u(E)&&A({inst:E})},[m,w,g]),s(function(){return u(E)&&A({inst:E}),m(function(){u(E)&&A({inst:E})})},[m]),a(w),w}function u(m){var g=m.getSnapshot;m=m.value;try{var w=g();return!n(m,w)}catch{return!0}}function d(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return dA.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,dA}var W3;function zY(){return W3||(W3=1,uA.exports=jY()),uA.exports}var V3;function HY(){if(V3)return lA;V3=1;var e=kg(),t=zY();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,a=e.useEffect,c=e.useMemo,u=e.useDebugValue;return lA.useSyncExternalStoreWithSelector=function(d,h,m,g,w){var v=i(null);if(v.current===null){var E={hasValue:!1,value:null};v.current=E}else E=v.current;v=c(function(){function R(x){if(!k){if(k=!0,I=x,x=g(x),w!==void 0&&E.hasValue){var P=E.value;if(w(P,x))return N=P}return N=x}if(P=N,r(I,x))return P;var L=g(x);return w!==void 0&&w(P,L)?(I=x,P):(I=x,N=L)}var k=!1,I,N,S=m===void 0?null:m;return[function(){return R(h())},S===null?void 0:function(){return R(S())}]},[h,m,g,w]);var A=s(d,v[0],v[1]);return a(function(){E.hasValue=!0,E.value=A},[A]),u(A),A},lA}var G3;function qY(){return G3||(G3=1,cA.exports=HY()),cA.exports}var WY=qY();const fA=e=>typeof e=="object"&&!Array.isArray(e);function VY(e,t,n=t,r=Wh){const s=Gt.useRef([]),i=WY.useSyncExternalStoreWithSelector(e,t,n,a=>a,(a,c)=>{if(fA(a)&&fA(c)&&s.current.length){for(const u of s.current)if(!r(a[u],c[u]))return!1;return!0}return r(a,c)});return Gt.useMemo(()=>{if(fA(i)){const a={...i};let c={};for(const[u,d]of Object.entries(a))c={...c,[u]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(u)||s.current.push(u),d)}};return Object.defineProperties(a,c),a}return i},[i])}function GY(e={}){const t=Su(e);return VY(n=>MK(t,{onChange:n}),()=>i9(t))}function KY(e={}){const t=Su(e);return Gt.useSyncExternalStore(n=>BK(t,{onChange:n}),()=>x3(t),()=>x3(t))}function YY(e={}){const t=Su(e),n=vY(t),r=T2({...e.mutation,...n});return Gt.useEffect(()=>t.subscribe(({status:s})=>s,(s,i)=>{i==="connected"&&s==="disconnected"&&r.reset()}),[t,r.reset]),{...r,connect:r.mutate,connectAsync:r.mutateAsync,connectors:KY({config:t})}}function ZY(e={}){const t=Su(e);return Gt.useSyncExternalStore(n=>LK(t,{onChange:n}),()=>K5(t),()=>K5(t))}function XY(e={}){const t=Su(e),n=CY(t),r=T2({...e.mutation,...n});return{...r,connectors:ZY({config:t}).map(s=>s.connector),disconnect:r.mutate,disconnectAsync:r.mutateAsync}}function JY(e={}){const{hash:t,query:n={}}=e,r=Su(e),s=FY({config:r}),i=_Y(r,{...e,chainId:e.chainId??s}),a=!!(t&&(n.enabled??!0));return BY({...n,...i,enabled:a})}function QY(e={}){const t=Su(e),n=SY(t),r=T2({...e.mutation,...n});return{...r,mutate:r.mutate,mutateAsync:r.mutateAsync,writeContract:r.mutate,writeContractAsync:r.mutateAsync}}const eZ=Symbol(),K3=Object.getPrototypeOf,t6=new WeakMap,tZ=e=>e&&(t6.has(e)?t6.get(e):K3(e)===Object.prototype||K3(e)===Array.prototype),nZ=e=>tZ(e)&&e[eZ]||null,Y3=(e,t=!0)=>{t6.set(e,t)},mw={},I2=e=>typeof e=="object"&&e!==null,rZ=e=>I2(e)&&!Dg.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),w9=(e,t)=>{const n=n6.get(e);if(n?.[0]===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return Y3(r,!0),n6.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(e,s),{enumerable:a}=Reflect.getOwnPropertyDescriptor(e,s),c={value:i,enumerable:a,configurable:!0};if(Dg.has(i))Y3(i,!1);else if(hu.has(i)){const[u,d]=hu.get(i);c.value=w9(u,d())}Object.defineProperty(r,s,c)}),Object.preventExtensions(r)},sZ=(e,t,n,r)=>({deleteProperty(s,i){const a=Reflect.get(s,i);n(i);const c=Reflect.deleteProperty(s,i);return c&&r(["delete",[i],a]),c},set(s,i,a,c){const u=!e()&&Reflect.has(s,i),d=Reflect.get(s,i,c);if(u&&(Z3(d,a)||Cm.has(a)&&Z3(d,Cm.get(a))))return!0;n(i),I2(a)&&(a=nZ(a)||a);const h=!hu.has(a)&&aZ(a)?Jn(a):a;return t(i,h),Reflect.set(s,i,h,c),r(["set",[i],a,d]),!0}}),hu=new WeakMap,Dg=new WeakSet,n6=new WeakMap,U1=[1],Cm=new WeakMap;let Z3=Object.is,iZ=(e,t)=>new Proxy(e,t),aZ=rZ,oZ=w9,cZ=sZ;function Jn(e={}){if(!I2(e))throw new Error("object required");const t=Cm.get(e);if(t)return t;let n=U1[0];const r=new Set,s=(A,R=++U1[0])=>{n!==R&&(i=n=R,r.forEach(k=>k(A,R)))};let i=n;const a=(A=U1[0])=>(i!==A&&(i=A,u.forEach(([R])=>{const k=R[1](A);k>n&&(n=k)})),n),c=A=>(R,k)=>{const I=[...R];I[1]=[A,...I[1]],s(I,k)},u=new Map,d=(A,R)=>{const k=!Dg.has(R)&&hu.get(R);if(k){if((mw?"production":void 0)!=="production"&&u.has(A))throw new Error("prop listener already exists");if(r.size){const I=k[2](c(A));u.set(A,[k,I])}else u.set(A,[k])}},h=A=>{var R;const k=u.get(A);k&&(u.delete(A),(R=k[1])==null||R.call(k))},m=A=>(r.add(A),r.size===1&&u.forEach(([k,I],N)=>{if((mw?"production":void 0)!=="production"&&I)throw new Error("remove already exists");const S=k[2](c(N));u.set(N,[k,S])}),()=>{r.delete(A),r.size===0&&u.forEach(([k,I],N)=>{I&&(I(),u.set(N,[k]))})});let g=!0;const w=cZ(()=>g,d,h,s),v=iZ(e,w);Cm.set(e,v);const E=[e,a,m];return hu.set(v,E),Reflect.ownKeys(e).forEach(A=>{const R=Object.getOwnPropertyDescriptor(e,A);"value"in R&&R.writable&&(v[A]=e[A])}),g=!1,v}function ls(e,t,n){const r=hu.get(e);(mw?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],a=r[2];let c=!1;const d=a(h=>{i.push(h),s||(s=Promise.resolve().then(()=>{s=void 0,c&&t(i.splice(0))}))});return c=!0,()=>{c=!1,d()}}function _m(e){const t=hu.get(e);(mw?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return oZ(n,r())}function Am(e){return Dg.add(e),e}function lZ(){return{proxyStateMap:hu,refSet:Dg,snapCache:n6,versionHolder:U1,proxyCache:Cm}}function us(e,t,n,r){let s=e[t];return ls(e,()=>{const i=e[t];Object.is(s,i)||n(s=i)})}const{proxyStateMap:uZ,snapCache:dZ}=lZ(),Bb=e=>uZ.has(e);function fZ(e){const t=[];let n=0;const r=new Map,s=new WeakMap,i=()=>{const d=dZ.get(c),h=d?.[1];if(h&&!s.has(h)){const m=new Map(r);s.set(h,m)}},a=d=>s.get(d)||r,c={data:t,index:n,epoch:0,get size(){return Bb(this)||i(),a(this).size},get(d){const m=a(this).get(d);if(m===void 0){this.epoch;return}return this.data[m]},has(d){const h=a(this);return this.epoch,h.has(d)},set(d,h){if(!Bb(this))throw new Error("Cannot perform mutations on a snapshot");const m=r.get(d);return m===void 0?(r.set(d,this.index),this.data[this.index++]=h):this.data[m]=h,this.epoch++,this},delete(d){if(!Bb(this))throw new Error("Cannot perform mutations on a snapshot");const h=r.get(d);return h===void 0?!1:(delete this.data[h],r.delete(d),this.epoch++,!0)},clear(){if(!Bb(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(d){this.epoch,a(this).forEach((m,g)=>{d(this.data[m],g,this)})},*entries(){this.epoch;const d=a(this);for(const[h,m]of d)yield[h,this.data[m]]},*keys(){this.epoch;const d=a(this);for(const h of d.keys())yield h},*values(){this.epoch;const d=a(this);for(const h of d.values())yield this.data[h]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},u=Jn(c);return Object.defineProperties(u,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(u),u}const E9={isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()}};var X3={};const ue={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof X3<"u"?X3.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}},HEADLESS_NOT_ENABLED:{DEFAULT:{displayMessage:"",debugMessage:"Headless support is not enabled. Please enable it with the features.headless option in the AppKit configuration and make sure your current plan supports it."}}},IS_DEVELOPMENT:typeof process<"u"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"],METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH"},v9={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;const n=e.find(s=>s.caipNetworkId===t);if(n)return n.name;const[r]=t.split(":");return ue.CHAIN_NAME_MAP?.[r]||void 0}},C9=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var hZ=20,pZ=1,Dd=1e6,J3=1e6,mZ=-7,gZ=21,yZ=!1,Mg="[big.js] ",Jd=Mg+"Invalid ",FE=Jd+"decimal places",bZ=Jd+"rounding mode",_9=Mg+"Division by zero",Pn={},Ao=void 0,wZ=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function A9(){function e(t){var n=this;if(!(n instanceof e))return t===Ao?A9():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(Jd+"value");t=t===0&&1/t<0?"-0":String(t)}EZ(n,t)}n.constructor=e}return e.prototype=Pn,e.DP=hZ,e.RM=pZ,e.NE=mZ,e.PE=gZ,e.strict=yZ,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function EZ(e,t){var n,r,s;if(!wZ.test(t))throw Error(Jd+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),s=t.length,r=0;r<s&&t.charAt(r)=="0";)++r;if(r==s)e.c=[e.e=0];else{for(;s>0&&t.charAt(--s)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=s;)e.c[n++]=+t.charAt(r++)}return e}function Qd(e,t,n,r){var s=e.c;if(n===Ao&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(bZ);if(t<1)r=n===3&&(r||!!s[0])||t===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Ao))),s.length=1,r?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){if(r=n===1&&s[t]>=5||n===2&&(s[t]>5||s[t]===5&&(r||s[t+1]!==Ao||s[t-1]&1))||n===3&&(r||!!s[0]),s.length=t,r){for(;++s[--t]>9;)if(s[t]=0,t===0){++e.e,s.unshift(1);break}}for(t=s.length;!s[--t];)s.pop()}return e}function ef(e,t,n){var r=e.e,s=e.c.join(""),i=s.length;if(t)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&n?"-"+s:s}Pn.abs=function(){var e=new this.constructor(this);return e.s=1,e};Pn.cmp=function(e){var t,n=this,r=n.c,s=(e=new n.constructor(e)).c,i=n.s,a=e.s,c=n.e,u=e.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-a:0;if(i!=a)return i;if(t=i<0,c!=u)return c>u^t?1:-1;for(a=(c=r.length)<(u=s.length)?c:u,i=-1;++i<a;)if(r[i]!=s[i])return r[i]>s[i]^t?1:-1;return c==u?0:c>u^t?1:-1};Pn.div=function(e){var t=this,n=t.constructor,r=t.c,s=(e=new n(e)).c,i=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>Dd)throw Error(FE);if(!s[0])throw Error(_9);if(!r[0])return e.s=i,e.c=[e.e=0],e;var c,u,d,h,m,g=s.slice(),w=c=s.length,v=r.length,E=r.slice(0,c),A=E.length,R=e,k=R.c=[],I=0,N=a+(R.e=t.e-e.e)+1;for(R.s=i,i=N<0?0:N,g.unshift(0);A++<c;)E.push(0);do{for(d=0;d<10;d++){if(c!=(A=E.length))h=c>A?1:-1;else for(m=-1,h=0;++m<c;)if(s[m]!=E[m]){h=s[m]>E[m]?1:-1;break}if(h<0){for(u=A==c?s:g;A;){if(E[--A]<u[A]){for(m=A;m&&!E[--m];)E[m]=9;--E[m],E[A]+=10}E[A]-=u[A]}for(;!E[0];)E.shift()}else break}k[I++]=h?d:++d,E[0]&&h?E[A]=r[w]||0:E=[r[w]]}while((w++<v||E[0]!==Ao)&&i--);return!k[0]&&I!=1&&(k.shift(),R.e--,N--),I>N&&Qd(R,N,n.RM,E[0]!==Ao),R};Pn.eq=function(e){return this.cmp(e)===0};Pn.gt=function(e){return this.cmp(e)>0};Pn.gte=function(e){return this.cmp(e)>-1};Pn.lt=function(e){return this.cmp(e)<0};Pn.lte=function(e){return this.cmp(e)<1};Pn.minus=Pn.sub=function(e){var t,n,r,s,i=this,a=i.constructor,c=i.s,u=(e=new a(e)).s;if(c!=u)return e.s=-u,i.plus(e);var d=i.c.slice(),h=i.e,m=e.c,g=e.e;if(!d[0]||!m[0])return m[0]?e.s=-u:d[0]?e=new a(i):e.s=1,e;if(c=h-g){for((s=c<0)?(c=-c,r=d):(g=h,r=m),r.reverse(),u=c;u--;)r.push(0);r.reverse()}else for(n=((s=d.length<m.length)?d:m).length,c=u=0;u<n;u++)if(d[u]!=m[u]){s=d[u]<m[u];break}if(s&&(r=d,d=m,m=r,e.s=-e.s),(u=(n=m.length)-(t=d.length))>0)for(;u--;)d[t++]=0;for(u=t;n>c;){if(d[--n]<m[n]){for(t=n;t&&!d[--t];)d[t]=9;--d[t],d[n]+=10}d[n]-=m[n]}for(;d[--u]===0;)d.pop();for(;d[0]===0;)d.shift(),--g;return d[0]||(e.s=1,d=[g=0]),e.c=d,e.e=g,e};Pn.mod=function(e){var t,n=this,r=n.constructor,s=n.s,i=(e=new r(e)).s;if(!e.c[0])throw Error(_9);return n.s=e.s=1,t=e.cmp(n)==1,n.s=s,e.s=i,t?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=s,r.RM=i,this.minus(n.times(e)))};Pn.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};Pn.plus=Pn.add=function(e){var t,n,r,s=this,i=s.constructor;if(e=new i(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var a=s.e,c=s.c,u=e.e,d=e.c;if(!c[0]||!d[0])return d[0]||(c[0]?e=new i(s):e.s=s.s),e;if(c=c.slice(),t=a-u){for(t>0?(u=a,r=d):(t=-t,r=c),r.reverse();t--;)r.push(0);r.reverse()}for(c.length-d.length<0&&(r=d,d=c,c=r),t=d.length,n=0;t;c[t]%=10)n=(c[--t]=c[t]+d[t]+n)/10|0;for(n&&(c.unshift(n),++u),t=c.length;c[--t]===0;)c.pop();return e.c=c,e.e=u,e};Pn.pow=function(e){var t=this,n=new t.constructor("1"),r=n,s=e<0;if(e!==~~e||e<-J3||e>J3)throw Error(Jd+"exponent");for(s&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return s?n.div(r):r};Pn.prec=function(e,t){if(e!==~~e||e<1||e>Dd)throw Error(Jd+"precision");return Qd(new this.constructor(this),e,t)};Pn.round=function(e,t){if(e===Ao)e=0;else if(e!==~~e||e<-Dd||e>Dd)throw Error(FE);return Qd(new this.constructor(this),e+this.e+1,t)};Pn.sqrt=function(){var e,t,n,r=this,s=r.constructor,i=r.s,a=r.e,c=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Mg+"No square root");i=Math.sqrt(+ef(r,!0,!0)),i===0||i===1/0?(t=r.c.join(""),t.length+a&1||(t+="0"),i=Math.sqrt(t),a=((a+1)/2|0)-(a<0||a&1),e=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+a)):e=new s(i+""),a=e.e+(s.DP+=4);do n=e,e=c.times(n.plus(r.div(n)));while(n.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return Qd(e,(s.DP-=4)+e.e+1,s.RM)};Pn.times=Pn.mul=function(e){var t,n=this,r=n.constructor,s=n.c,i=(e=new r(e)).c,a=s.length,c=i.length,u=n.e,d=e.e;if(e.s=n.s==e.s?1:-1,!s[0]||!i[0])return e.c=[e.e=0],e;for(e.e=u+d,a<c&&(t=s,s=i,i=t,d=a,a=c,c=d),t=new Array(d=a+c);d--;)t[d]=0;for(u=c;u--;){for(c=0,d=a+u;d>u;)c=t[d]+i[u]*s[d-u-1]+c,t[d--]=c%10,c=c/10|0;t[d]=c}for(c?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e};Pn.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==Ao){if(e!==~~e||e<0||e>Dd)throw Error(FE);for(n=Qd(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return ef(n,!0,!!r)};Pn.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==Ao){if(e!==~~e||e<0||e>Dd)throw Error(FE);for(n=Qd(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return ef(n,!1,!!r)};Pn[Symbol.for("nodejs.util.inspect.custom")]=Pn.toJSON=Pn.toString=function(){var e=this,t=e.constructor;return ef(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};Pn.toNumber=function(){var e=+ef(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(Mg+"Imprecise conversion");return e};Pn.toPrecision=function(e,t){var n=this,r=n.constructor,s=n.c[0];if(e!==Ao){if(e!==~~e||e<1||e>Dd)throw Error(Jd+"precision");for(n=Qd(new r(n),e,t);n.c.length<e;)n.c.push(0)}return ef(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Pn.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(Mg+"valueOf disallowed");return ef(e,e.e<=t.NE||e.e>=t.PE,!0)};var Cl=A9();const vZ={bigNumber(e){return e?new Cl(e):new Cl(0)},multiply(e,t){if(e===void 0||t===void 0)return new Cl(0);const n=new Cl(e),r=new Cl(t);return n.times(r)},toFixed(e,t=2){return e===void 0||e===""?new Cl(0).toFixed(t):new Cl(e).toFixed(t)},formatNumberToLocalString(e,t=2){return e===void 0||e===""?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber(e){if(e===void 0||e==="")return 0;const t=e.replace(/,/gu,"");return new Cl(t).toNumber()}},CZ=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],_Z=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],AZ=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],SZ={getERC20Abi:e=>ue.USDT_CONTRACT_ADDRESSES.includes(e)?AZ:CZ,getSwapAbi:()=>_Z},eh={ConnectorExplorerIds:{[ue.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ue.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ue.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ue.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ue.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ue.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[ue.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[ue.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[ue.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[ue.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[ue.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[ue.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[ue.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[ue.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[ue.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[ue.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[ue.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[ue.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[ue.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"}},zr={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,r,s]=t;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}},Oc={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(e){try{if(typeof e=="object"&&e!==null){const t=e,n=typeof t.message=="string",r=typeof t.code=="number";return n&&r}return!1}catch{return!1}},isUserRejectedMessage(e){return e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled")},isUserRejectedRequestError(e){if(Oc.isRpcProviderError(e)){const t=e.code===Oc.RPC_ERROR_CODE.USER_REJECTED_REQUEST,n=e.code===Oc.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||n||Oc.isUserRejectedMessage(e.message)}return e instanceof Error?Oc.isUserRejectedMessage(e.message):!1}};let NZ=class extends Error{constructor(t,n){super(n.message,{cause:t}),this.name=Oc.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=n.code}},S9=class extends NZ{constructor(t){super(t,{code:Oc.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=Oc.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}};const Qe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};function hA(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const Xe={setItem(e,t){Y0()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(Y0())return localStorage.getItem(e)||void 0},removeItem(e){Y0()&&localStorage.removeItem(e)},clear(){Y0()&&localStorage.clear()}};function Y0(){return typeof window<"u"&&typeof localStorage<"u"}function Sm(e,t){const n=e?.["--apkt-accent"]??e?.["--w3m-accent"];return t==="light"?{"--w3m-accent":n||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":n||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var Q3={};const pA=(typeof process<"u"&&typeof Q3<"u"?Q3.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",N9=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],TZ="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Vt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:pA,SECURE_SITE_DASHBOARD:`${pA}/dashboard`,SECURE_SITE_FAVICON:`${pA}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD0"]},BALANCE_SUPPORTED_CHAINS:[ue.CHAIN.EVM,ue.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[ue.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[ue.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[ue.CHAIN.EVM,ue.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[ue.CHAIN.EVM,ue.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[ue.CHAIN.EVM,ue.CHAIN.TON],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[ue.CHAIN.EVM,ue.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1,headless:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1,headless:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1,headless:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0},MANDATORY_WALLET_IDS_ON_MOBILE:[eh.ConnectorExplorerIds[ue.CONNECTOR_ID.COINBASE],eh.ConnectorExplorerIds[ue.CONNECTOR_ID.COINBASE_SDK],eh.ConnectorExplorerIds[ue.CONNECTOR_ID.BASE_ACCOUNT],eh.ConnectorExplorerIds[ue.SOLFLARE_CONNECTOR_NAME],eh.ConnectorExplorerIds[ue.PHANTOM_CONNECTOR_NAME],eh.ConnectorExplorerIds[ue.BINANCE_CONNECTOR_NAME]],DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"]},ye={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=ye.getActiveNamespace(),t=ye.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{Xe.setItem(Qe.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=Xe.getItem(Qe.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Xe.removeItem(Qe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{Xe.setItem(Qe.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{Xe.setItem(Qe.ACTIVE_CAIP_NETWORK_ID,e),ye.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Xe.getItem(Qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Xe.removeItem(Qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=hA(e);Xe.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=ye.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),Xe.setItem(Qe.RECENT_WALLETS,JSON.stringify(t)),Xe.setItem(Qe.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=Xe.getItem(Qe.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const e=Xe.getItem(Qe.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{Xe.removeItem(Qe.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{const n=hA(e);Xe.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Xe.getItem(Qe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=hA(e);return Xe.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{Xe.setItem(Qe.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Xe.getItem(Qe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Xe.removeItem(Qe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Xe.getItem(Qe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return Xe.getItem(Qe.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{Xe.setItem(Qe.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Xe.getItem(Qe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=Xe.getItem(Qe.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));Xe.setItem(Qe.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=ye.getConnectedNamespaces();t.includes(e)||(t.push(e),ye.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=ye.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),ye.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Xe.getItem(Qe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{Xe.setItem(Qe.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Xe.removeItem(Qe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=Xe.getItem(Qe.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=ye.getBalanceCache();Xe.setItem(Qe.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const n=ye.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ye.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=ye.getBalanceCache();t[e.caipAddress]=e,Xe.setItem(Qe.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=Xe.getItem(Qe.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=ye.getBalanceCache();Xe.setItem(Qe.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const n=ye.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),ye.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=ye.getNativeBalanceCache();t[e.caipAddress]=e,Xe.setItem(Qe.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=Xe.getItem(Qe.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const n=ye.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ye.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=ye.getEnsCache();t[e.address]=e,Xe.setItem(Qe.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=ye.getEnsCache();Xe.setItem(Qe.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=Xe.getItem(Qe.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const n=ye.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ye.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=ye.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},Xe.setItem(Qe.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=ye.getIdentityCache();Xe.setItem(Qe.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},getTonWalletsCache(){try{const e=Xe.getItem(Qe.TON_WALLETS_CACHE),t=e?JSON.parse(e):void 0;if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tonWallets))return t;ye.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(e){try{const t=ye.getTonWalletsCache()||{timestamp:0,wallets:[]};t.timestamp=new Date().getTime(),t.wallets=e,Xe.setItem(Qe.TON_WALLETS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ton wallets cache",e)}},removeTonWalletsCache(){try{Xe.removeItem(Qe.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{Xe.removeItem(Qe.PORTFOLIO_CACHE),Xe.removeItem(Qe.NATIVE_BALANCE_CACHE),Xe.removeItem(Qe.ENS_CACHE),Xe.removeItem(Qe.IDENTITY_CACHE),Xe.removeItem(Qe.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{Xe.setItem(Qe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=Xe.getItem(Qe.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=ye.getConnections(),r=n[t]??[],s=new Map;for(const a of r)s.set(a.connectorId,{...a});for(const a of e){const c=s.get(a.connectorId),u=a.connectorId===ue.CONNECTOR_ID.AUTH;if(c&&!u){const d=new Set(c.accounts.map(m=>m.address.toLowerCase())),h=a.accounts.filter(m=>!d.has(m.address.toLowerCase()));c.accounts.push(...h)}else s.set(a.connectorId,{...a})}const i={...n,[t]:Array.from(s.values())};Xe.setItem(Qe.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=Xe.getItem(Qe.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const r=ye.getConnections(),s=r[n]??[],i=new Map(s.map(c=>[c.connectorId,c])),a=i.get(e);a&&(a.accounts.filter(u=>u.address.toLowerCase()!==t.toLowerCase()).length===0?i.delete(e):i.set(e,{...a,accounts:a.accounts.filter(u=>u.address.toLowerCase()!==t.toLowerCase())})),Xe.setItem(Qe.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=Xe.getItem(Qe.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=ye.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),Xe.setItem(Qe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=ye.getDisconnectedConnectorIds();let r=n[t]??[];r=r.filter(s=>s.toLowerCase()!==e.toLowerCase()),Xe.setItem(Qe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(ye.getDisconnectedConnectorIds()[t]??[]).some(s=>s.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=Xe.getItem(Qe.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{const r=ye.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;ye.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{const s=ye.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:n,transactions:r}},Xe.setItem(Qe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{const n=ye.getTransactionsCache(),r=n?.[e]||{},{[t]:s,...i}=r;Xe.setItem(Qe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:i}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=Xe.getItem(Qe.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const n=ye.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;ye.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=ye.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},Xe.setItem(Qe.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=ye.getTokenPriceCache();Xe.setItem(Qe.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{const e=this.getLatestAppKitVersionCache(),t=e?.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const e=Xe.getItem(Qe.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{const t=ye.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,Xe.setItem(Qe.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}},Re={getWindow(){if(!(typeof window>"u"))return window},isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return Re.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=Vt.TEN_SEC_MS:!0},isAllowedRetry(e,t=Vt.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Re.isClient()&&window.self!==window.top)try{const e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){const n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Vt.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function s(){e(...r)}n&&clearTimeout(n),n=setTimeout(s,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(Re.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,s=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!s?.endsWith("/")&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const i=encodeURIComponent(t);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(e,t){if(!Re.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?ye.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=e});return Promise.race([t,Re.wait(2e3)])},parseBalance(e,t){let n="0.000";if(typeof e=="string"){const u=Number(e);if(!isNaN(u)){const d=(Math.floor(u*1e3)/1e3).toFixed(3);d&&(n=d)}}const[r,s]=n.split("."),i=r||"0",a=s||"000";return{formattedText:`${i}.${a}${t?` ${t}`:""}`,value:i,decimals:a,symbol:t}},getApiUrl(){return ue.W3M_API_URL},getBlockchainApiUrl(){return ue.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ue.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,s)=>{n[r]=s}),t.sort((r,s)=>{const i=n[r.id],a=n[s.id];return i!==void 0&&a!==void 0?i-a:i!==void 0?-1:a!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const s=r[t];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(e,t,n){const s=e.length===0?Vt.ADAPTER_TYPES.UNIVERSAL:e.map(i=>i.adapterType).join(",");return`${t}-${s}-${n}`},createAccount(e,t,n,r,s){return{namespace:e,address:t,type:n,publicKey:r,path:s}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in ue.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const s="provider_authorization_url=",i=e.substring(e.indexOf(s)+s.length),a=this.injectIntoUrl(decodeURIComponent(i),n,t);return e.replace(i,encodeURIComponent(a))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const s=e.indexOf("&",r),i=t.length,a=s!==-1?s:e.length,c=e.substring(0,r+i),u=e.substring(r+i,a),d=e.substring(s),h=u+n;return c+h+d}};var Vh={};const IZ="https://secure.walletconnect.org/sdk",OZ=(typeof process<"u"&&typeof Vh<"u"?Vh.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||IZ,RZ=(typeof process<"u"&&typeof Vh<"u"?Vh.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",xZ=(typeof process<"u"&&typeof Vh<"u"?Vh.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ye={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},wr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},e8={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Lr={set(e,t){Bi.isClient&&localStorage.setItem(`${Ye.STORAGE_KEY}${e}`,t)},get(e){return Bi.isClient?localStorage.getItem(`${Ye.STORAGE_KEY}${e}`):null},delete(e,t){Bi.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${Ye.STORAGE_KEY}${e}`))}},Fb=30*1e3,Bi={checkIfAllowedToTriggerEmail(){const e=Lr.get(Ye.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<Fb){const n=Math.ceil((Fb-t)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const e=Lr.get(Ye.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<Fb)return Math.ceil((Fb-t)/1e3)}return 0},checkIfRequestExists(e){return wr.NOT_SAFE_RPC_METHODS.includes(e.method)||wr.SAFE_RPC_METHODS.includes(e.method)},getResponseType(e){return typeof e=="string"&&(e?.match(e8.transactionHash)||e?.match(e8.signedMessage))?Ye.RPC_RESPONSE_TYPE_TX:Ye.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(e){return wr.SAFE_RPC_METHODS.includes(e.method)},isClient:typeof window<"u"};var vn;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),a={};for(const c of i)a[c]=s[c];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(vn||(vn={}));var r6;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(r6||(r6={}));const Be=vn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zl=e=>{switch(typeof e){case"undefined":return Be.undefined;case"string":return Be.string;case"number":return isNaN(e)?Be.nan:Be.number;case"boolean":return Be.boolean;case"function":return Be.function;case"bigint":return Be.bigint;case"symbol":return Be.symbol;case"object":return Array.isArray(e)?Be.array:e===null?Be.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Be.promise:typeof Map<"u"&&e instanceof Map?Be.map:typeof Set<"u"&&e instanceof Set?Be.set:typeof Date<"u"&&e instanceof Date?Be.date:Be.object;default:return Be.unknown}},Se=vn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),kZ=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");let Ya=class extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(a))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,vn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};Ya.create=e=>new Ya(e);const Nm=(e,t)=>{let n;switch(e.code){case Se.invalid_type:e.received===Be.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Se.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,vn.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:n=`Unrecognized key(s) in object: ${vn.joinValues(e.keys,", ")}`;break;case Se.invalid_union:n="Invalid input";break;case Se.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${vn.joinValues(e.options)}`;break;case Se.invalid_enum_value:n=`Invalid enum value. Expected ${vn.joinValues(e.options)}, received '${e.received}'`;break;case Se.invalid_arguments:n="Invalid function arguments";break;case Se.invalid_return_type:n="Invalid function return type";break;case Se.invalid_date:n="Invalid date";break;case Se.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:vn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Se.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Se.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Se.custom:n="Invalid input";break;case Se.invalid_intersection_types:n="Intersection results could not be merged";break;case Se.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Se.not_finite:n="Number must be finite";break;default:n=t.defaultError,vn.assertNever(e)}return{message:n}};let T9=Nm;function PZ(e){T9=e}function gw(){return T9}const yw=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};let c="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)c=d(a,{data:t,defaultError:c}).message;return{...s,path:i,message:s.message||c}},UZ=[];function Ge(e,t){const n=yw({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,gw(),Nm].filter(r=>!!r)});e.common.issues.push(n)}let pi=class I9{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Rt;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return I9.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Rt;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}};const Rt=Object.freeze({status:"aborted"}),O9=e=>({status:"dirty",value:e}),Ls=e=>({status:"valid",value:e}),s6=e=>e.status==="aborted",i6=e=>e.status==="dirty",Tm=e=>e.status==="valid",bw=e=>typeof Promise<"u"&&e instanceof Promise;var dt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(dt||(dt={}));let Ro=class{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const t8=(e,t)=>{if(Tm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ya(e.common.issues);return this._error=n,this._error}}};function Dt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,c)=>a.code!=="invalid_type"?{message:c.defaultError}:typeof c.data>"u"?{message:r??c.defaultError}:{message:n??c.defaultError},description:s}}let jt=class{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return zl(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:zl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pi,ctx:{common:t.parent.common,data:t.data,parsedType:zl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(bw(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zl(t)},i=this._parseSync({data:t,path:s.path,parent:s});return t8(s,i)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zl(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(bw(s)?s:Promise.resolve(s));return t8(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=t(s),c=()=>i.addIssue({code:Se.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new eo({schema:this,typeName:yt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return $c.create(this,this._def)}nullable(){return Ld.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Md.create(this,this._def)}promise(){return Yh.create(this,this._def)}or(t){return Um.create([this,t],this._def)}and(t){return $m.create(this,t,this._def)}transform(t){return new eo({...Dt(this._def),schema:this,typeName:yt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Bm({...Dt(this._def),innerType:this,defaultValue:n,typeName:yt.ZodDefault})}brand(){return new M9({typeName:yt.ZodBranded,type:this,...Dt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new _w({...Dt(this._def),innerType:this,catchValue:n,typeName:yt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return O2.create(this,t)}readonly(){return Sw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const $Z=/^c[^\s-]{8,}$/i,DZ=/^[a-z][a-z0-9]*$/,MZ=/^[0-9A-HJKMNP-TV-Z]{26}$/,LZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,BZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,FZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mA;const jZ=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,zZ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,HZ=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function qZ(e,t){return!!((t==="v4"||!t)&&jZ.test(e)||(t==="v6"||!t)&&zZ.test(e))}let Gh=class Z0 extends jt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Be.string){const i=this._getOrReturnCtx(t);return Ge(i,{code:Se.invalid_type,expected:Be.string,received:i.parsedType}),Rt}const r=new pi;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Ge(s,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Ge(s,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,c=t.data.length<i.value;(a||c)&&(s=this._getOrReturnCtx(t,s),a?Ge(s,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&Ge(s,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")BZ.test(t.data)||(s=this._getOrReturnCtx(t,s),Ge(s,{validation:"email",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")mA||(mA=new RegExp(FZ,"u")),mA.test(t.data)||(s=this._getOrReturnCtx(t,s),Ge(s,{validation:"emoji",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")LZ.test(t.data)||(s=this._getOrReturnCtx(t,s),Ge(s,{validation:"uuid",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")$Z.test(t.data)||(s=this._getOrReturnCtx(t,s),Ge(s,{validation:"cuid",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")DZ.test(t.data)||(s=this._getOrReturnCtx(t,s),Ge(s,{validation:"cuid2",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")MZ.test(t.data)||(s=this._getOrReturnCtx(t,s),Ge(s,{validation:"ulid",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ge(s,{validation:"url",code:Se.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ge(s,{validation:"regex",code:Se.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Ge(s,{code:Se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ge(s,{code:Se.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ge(s,{code:Se.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?HZ(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ge(s,{code:Se.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?qZ(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ge(s,{validation:"ip",code:Se.invalid_string,message:i.message}),r.dirty()):vn.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:Se.invalid_string,...dt.errToObj(r)})}_addCheck(t){return new Z0({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...dt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...dt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...dt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...dt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...dt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...dt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...dt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...dt.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,...dt.errToObj(t?.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...dt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...dt.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...dt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...dt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...dt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...dt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...dt.errToObj(n)})}nonempty(t){return this.min(1,dt.errToObj(t))}trim(){return new Z0({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Z0({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Z0({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Gh.create=e=>{var t;return new Gh({checks:[],typeName:yt.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Dt(e)})};function WZ(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}let Im=class a6 extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Be.number){const i=this._getOrReturnCtx(t);return Ge(i,{code:Se.invalid_type,expected:Be.number,received:i.parsedType}),Rt}let r;const s=new pi;for(const i of this._def.checks)i.kind==="int"?vn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ge(r,{code:Se.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Ge(r,{code:Se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Ge(r,{code:Se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?WZ(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),Ge(r,{code:Se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ge(r,{code:Se.not_finite,message:i.message}),s.dirty()):vn.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,dt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,dt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,dt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,dt.toString(n))}setLimit(t,n,r,s){return new a6({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:dt.toString(s)}]})}_addCheck(t){return new a6({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:dt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:dt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:dt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:dt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:dt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&vn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};Im.create=e=>new Im({checks:[],typeName:yt.ZodNumber,coerce:e?.coerce||!1,...Dt(e)});let Om=class o6 extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Be.bigint){const i=this._getOrReturnCtx(t);return Ge(i,{code:Se.invalid_type,expected:Be.bigint,received:i.parsedType}),Rt}let r;const s=new pi;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Ge(r,{code:Se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Ge(r,{code:Se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ge(r,{code:Se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):vn.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,dt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,dt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,dt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,dt.toString(n))}setLimit(t,n,r,s){return new o6({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:dt.toString(s)}]})}_addCheck(t){return new o6({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:dt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:dt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:dt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:dt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:dt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Om.create=e=>{var t;return new Om({checks:[],typeName:yt.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Dt(e)})};let Rm=class extends jt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Be.boolean){const r=this._getOrReturnCtx(t);return Ge(r,{code:Se.invalid_type,expected:Be.boolean,received:r.parsedType}),Rt}return Ls(t.data)}};Rm.create=e=>new Rm({typeName:yt.ZodBoolean,coerce:e?.coerce||!1,...Dt(e)});let xm=class R9 extends jt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Be.date){const i=this._getOrReturnCtx(t);return Ge(i,{code:Se.invalid_type,expected:Be.date,received:i.parsedType}),Rt}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ge(i,{code:Se.invalid_date}),Rt}const r=new pi;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Ge(s,{code:Se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Ge(s,{code:Se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):vn.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new R9({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:dt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:dt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};xm.create=e=>new xm({checks:[],coerce:e?.coerce||!1,typeName:yt.ZodDate,...Dt(e)});let ww=class extends jt{_parse(t){if(this._getType(t)!==Be.symbol){const r=this._getOrReturnCtx(t);return Ge(r,{code:Se.invalid_type,expected:Be.symbol,received:r.parsedType}),Rt}return Ls(t.data)}};ww.create=e=>new ww({typeName:yt.ZodSymbol,...Dt(e)});let km=class extends jt{_parse(t){if(this._getType(t)!==Be.undefined){const r=this._getOrReturnCtx(t);return Ge(r,{code:Se.invalid_type,expected:Be.undefined,received:r.parsedType}),Rt}return Ls(t.data)}};km.create=e=>new km({typeName:yt.ZodUndefined,...Dt(e)});let Pm=class extends jt{_parse(t){if(this._getType(t)!==Be.null){const r=this._getOrReturnCtx(t);return Ge(r,{code:Se.invalid_type,expected:Be.null,received:r.parsedType}),Rt}return Ls(t.data)}};Pm.create=e=>new Pm({typeName:yt.ZodNull,...Dt(e)});let Kh=class extends jt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ls(t.data)}};Kh.create=e=>new Kh({typeName:yt.ZodAny,...Dt(e)});let Nd=class extends jt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ls(t.data)}};Nd.create=e=>new Nd({typeName:yt.ZodUnknown,...Dt(e)});let jc=class extends jt{_parse(t){const n=this._getOrReturnCtx(t);return Ge(n,{code:Se.invalid_type,expected:Be.never,received:n.parsedType}),Rt}};jc.create=e=>new jc({typeName:yt.ZodNever,...Dt(e)});let Ew=class extends jt{_parse(t){if(this._getType(t)!==Be.undefined){const r=this._getOrReturnCtx(t);return Ge(r,{code:Se.invalid_type,expected:Be.void,received:r.parsedType}),Rt}return Ls(t.data)}};Ew.create=e=>new Ew({typeName:yt.ZodVoid,...Dt(e)});let Md=class $1 extends jt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==Be.array)return Ge(n,{code:Se.invalid_type,expected:Be.array,received:n.parsedType}),Rt;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(a||c)&&(Ge(n,{code:a?Se.too_big:Se.too_small,minimum:c?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ge(n,{code:Se.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ge(n,{code:Se.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>s.type._parseAsync(new Ro(n,a,n.path,c)))).then(a=>pi.mergeArray(r,a));const i=[...n.data].map((a,c)=>s.type._parseSync(new Ro(n,a,n.path,c)));return pi.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new $1({...this._def,minLength:{value:t,message:dt.toString(n)}})}max(t,n){return new $1({...this._def,maxLength:{value:t,message:dt.toString(n)}})}length(t,n){return new $1({...this._def,exactLength:{value:t,message:dt.toString(n)}})}nonempty(t){return this.min(1,t)}};Md.create=(e,t)=>new Md({type:e,minLength:null,maxLength:null,exactLength:null,typeName:yt.ZodArray,...Dt(t)});function ph(e){if(e instanceof _a){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=$c.create(ph(r))}return new _a({...e._def,shape:()=>t})}else return e instanceof Md?new Md({...e._def,type:ph(e.element)}):e instanceof $c?$c.create(ph(e.unwrap())):e instanceof Ld?Ld.create(ph(e.unwrap())):e instanceof pu?pu.create(e.items.map(t=>ph(t))):e}let _a=class La extends jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=vn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Be.object){const d=this._getOrReturnCtx(t);return Ge(d,{code:Se.invalid_type,expected:Be.object,received:d.parsedType}),Rt}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof jc&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||c.push(d);const u=[];for(const d of a){const h=i[d],m=s.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new Ro(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof jc){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of c)u.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")c.length>0&&(Ge(s,{code:Se.unrecognized_keys,keys:c}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of c){const m=s.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new Ro(s,m,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const m=await h.key;d.push({key:m,value:await h.value,alwaysSet:h.alwaysSet})}return d}).then(d=>pi.mergeObjectSync(r,d)):pi.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return dt.errToObj,new La({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,i,a,c;const u=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=dt.errToObj(t).message)!==null&&c!==void 0?c:u}:{message:u}}}:{}})}strip(){return new La({...this._def,unknownKeys:"strip"})}passthrough(){return new La({...this._def,unknownKeys:"passthrough"})}extend(t){return new La({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new La({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:yt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new La({...this._def,catchall:t})}pick(t){const n={};return vn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new La({...this._def,shape:()=>n})}omit(t){const n={};return vn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new La({...this._def,shape:()=>n})}deepPartial(){return ph(this)}partial(t){const n={};return vn.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new La({...this._def,shape:()=>n})}required(t){const n={};return vn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof $c;)i=i._def.innerType;n[r]=i}}),new La({...this._def,shape:()=>n})}keyof(){return D9(vn.objectKeys(this.shape))}};_a.create=(e,t)=>new _a({shape:()=>e,unknownKeys:"strip",catchall:jc.create(),typeName:yt.ZodObject,...Dt(t)});_a.strictCreate=(e,t)=>new _a({shape:()=>e,unknownKeys:"strict",catchall:jc.create(),typeName:yt.ZodObject,...Dt(t)});_a.lazycreate=(e,t)=>new _a({shape:e,unknownKeys:"strip",catchall:jc.create(),typeName:yt.ZodObject,...Dt(t)});let Um=class extends jt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const a=i.map(c=>new Ya(c.ctx.common.issues));return Ge(n,{code:Se.invalid_union,unionErrors:a}),Rt}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=a.map(u=>new Ya(u));return Ge(n,{code:Se.invalid_union,unionErrors:c}),Rt}}get options(){return this._def.options}};Um.create=(e,t)=>new Um({options:e,typeName:yt.ZodUnion,...Dt(t)});const D1=e=>e instanceof Dm?D1(e.schema):e instanceof eo?D1(e.innerType()):e instanceof Mm?[e.value]:e instanceof Lg?e.options:e instanceof Lm?Object.keys(e.enum):e instanceof Bm?D1(e._def.innerType):e instanceof km?[void 0]:e instanceof Pm?[null]:null;let x9=class k9 extends jt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Be.object)return Ge(n,{code:Se.invalid_type,expected:Be.object,received:n.parsedType}),Rt;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Ge(n,{code:Se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Rt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const a=D1(i.shape[t]);if(!a)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of a){if(s.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);s.set(c,i)}}return new k9({typeName:yt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Dt(r)})}};function c6(e,t){const n=zl(e),r=zl(t);if(e===t)return{valid:!0,data:e};if(n===Be.object&&r===Be.object){const s=vn.objectKeys(t),i=vn.objectKeys(e).filter(c=>s.indexOf(c)!==-1),a={...e,...t};for(const c of i){const u=c6(e[c],t[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}else if(n===Be.array&&r===Be.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],c=t[i],u=c6(a,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===Be.date&&r===Be.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let $m=class extends jt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,a)=>{if(s6(i)||s6(a))return Rt;const c=c6(i.value,a.value);return c.valid?((i6(i)||i6(a))&&n.dirty(),{status:n.value,value:c.data}):(Ge(r,{code:Se.invalid_intersection_types}),Rt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};$m.create=(e,t,n)=>new $m({left:e,right:t,typeName:yt.ZodIntersection,...Dt(n)});let pu=class P9 extends jt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Be.array)return Ge(r,{code:Se.invalid_type,expected:Be.array,received:r.parsedType}),Rt;if(r.data.length<this._def.items.length)return Ge(r,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Rt;!this._def.rest&&r.data.length>this._def.items.length&&(Ge(r,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Ro(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>pi.mergeArray(n,a)):pi.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new P9({...this._def,rest:t})}};pu.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pu({items:e,typeName:yt.ZodTuple,rest:null,...Dt(t)})};let U9=class l6 extends jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Be.object)return Ge(r,{code:Se.invalid_type,expected:Be.object,received:r.parsedType}),Rt;const s=[],i=this._def.keyType,a=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new Ro(r,c,r.path,c)),value:a._parse(new Ro(r,r.data[c],r.path,c))});return r.common.async?pi.mergeObjectAsync(n,s):pi.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof jt?new l6({keyType:t,valueType:n,typeName:yt.ZodRecord,...Dt(r)}):new l6({keyType:Gh.create(),valueType:t,typeName:yt.ZodRecord,...Dt(n)})}},vw=class extends jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Be.map)return Ge(r,{code:Se.invalid_type,expected:Be.map,received:r.parsedType}),Rt;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([c,u],d)=>({key:s._parse(new Ro(r,c,r.path,[d,"key"])),value:i._parse(new Ro(r,u,r.path,[d,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return Rt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const u of a){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return Rt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}}}};vw.create=(e,t,n)=>new vw({valueType:t,keyType:e,typeName:yt.ZodMap,...Dt(n)});let Cw=class u6 extends jt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Be.set)return Ge(r,{code:Se.invalid_type,expected:Be.set,received:r.parsedType}),Rt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ge(r,{code:Se.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ge(r,{code:Se.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const d=new Set;for(const h of u){if(h.status==="aborted")return Rt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const c=[...r.data.values()].map((u,d)=>i._parse(new Ro(r,u,r.path,d)));return r.common.async?Promise.all(c).then(u=>a(u)):a(c)}min(t,n){return new u6({...this._def,minSize:{value:t,message:dt.toString(n)}})}max(t,n){return new u6({...this._def,maxSize:{value:t,message:dt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};Cw.create=(e,t)=>new Cw({valueType:e,minSize:null,maxSize:null,typeName:yt.ZodSet,...Dt(t)});let $9=class M1 extends jt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Be.function)return Ge(n,{code:Se.invalid_type,expected:Be.function,received:n.parsedType}),Rt;function r(c,u){return yw({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,gw(),Nm].filter(d=>!!d),issueData:{code:Se.invalid_arguments,argumentsError:u}})}function s(c,u){return yw({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,gw(),Nm].filter(d=>!!d),issueData:{code:Se.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Yh){const c=this;return Ls(async function(...u){const d=new Ya([]),h=await c._def.args.parseAsync(u,i).catch(w=>{throw d.addIssue(r(u,w)),d}),m=await Reflect.apply(a,this,h);return await c._def.returns._def.type.parseAsync(m,i).catch(w=>{throw d.addIssue(s(m,w)),d})})}else{const c=this;return Ls(function(...u){const d=c._def.args.safeParse(u,i);if(!d.success)throw new Ya([r(u,d.error)]);const h=Reflect.apply(a,this,d.data),m=c._def.returns.safeParse(h,i);if(!m.success)throw new Ya([s(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new M1({...this._def,args:pu.create(t).rest(Nd.create())})}returns(t){return new M1({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new M1({args:t||pu.create([]).rest(Nd.create()),returns:n||Nd.create(),typeName:yt.ZodFunction,...Dt(r)})}},Dm=class extends jt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};Dm.create=(e,t)=>new Dm({getter:e,typeName:yt.ZodLazy,...Dt(t)});let Mm=class extends jt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ge(n,{received:n.data,code:Se.invalid_literal,expected:this._def.value}),Rt}return{status:"valid",value:t.data}}get value(){return this._def.value}};Mm.create=(e,t)=>new Mm({value:e,typeName:yt.ZodLiteral,...Dt(t)});function D9(e,t){return new Lg({values:e,typeName:yt.ZodEnum,...Dt(t)})}let Lg=class d6 extends jt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Ge(n,{expected:vn.joinValues(r),received:n.parsedType,code:Se.invalid_type}),Rt}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return Ge(n,{received:n.data,code:Se.invalid_enum_value,options:r}),Rt}return Ls(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return d6.create(t)}exclude(t){return d6.create(this.options.filter(n=>!t.includes(n)))}};Lg.create=D9;let Lm=class extends jt{_parse(t){const n=vn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Be.string&&r.parsedType!==Be.number){const s=vn.objectValues(n);return Ge(r,{expected:vn.joinValues(s),received:r.parsedType,code:Se.invalid_type}),Rt}if(n.indexOf(t.data)===-1){const s=vn.objectValues(n);return Ge(r,{received:r.data,code:Se.invalid_enum_value,options:s}),Rt}return Ls(t.data)}get enum(){return this._def.values}};Lm.create=(e,t)=>new Lm({values:e,typeName:yt.ZodNativeEnum,...Dt(t)});let Yh=class extends jt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Be.promise&&n.common.async===!1)return Ge(n,{code:Se.invalid_type,expected:Be.promise,received:n.parsedType}),Rt;const r=n.parsedType===Be.promise?n.data:Promise.resolve(n.data);return Ls(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}};Yh.create=(e,t)=>new Yh({type:e,typeName:yt.ZodPromise,...Dt(t)});let eo=class extends jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===yt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{Ge(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(a).then(c=>this._def.schema._parseAsync({data:c,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}if(s.type==="refinement"){const a=c=>{const u=s.refinement(c,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Rt:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Rt:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Tm(a))return a;const c=s.transform(a.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Tm(a)?Promise.resolve(s.transform(a.value,i)).then(c=>({status:n.value,value:c})):a);vn.assertNever(s)}};eo.create=(e,t,n)=>new eo({schema:e,typeName:yt.ZodEffects,effect:t,...Dt(n)});eo.createWithPreprocess=(e,t,n)=>new eo({schema:t,effect:{type:"preprocess",transform:e},typeName:yt.ZodEffects,...Dt(n)});let $c=class extends jt{_parse(t){return this._getType(t)===Be.undefined?Ls(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};$c.create=(e,t)=>new $c({innerType:e,typeName:yt.ZodOptional,...Dt(t)});let Ld=class extends jt{_parse(t){return this._getType(t)===Be.null?Ls(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Ld.create=(e,t)=>new Ld({innerType:e,typeName:yt.ZodNullable,...Dt(t)});let Bm=class extends jt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Be.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};Bm.create=(e,t)=>new Bm({innerType:e,typeName:yt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Dt(t)});let _w=class extends jt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return bw(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ya(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ya(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};_w.create=(e,t)=>new _w({innerType:e,typeName:yt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Dt(t)});let Aw=class extends jt{_parse(t){if(this._getType(t)!==Be.nan){const r=this._getOrReturnCtx(t);return Ge(r,{code:Se.invalid_type,expected:Be.nan,received:r.parsedType}),Rt}return{status:"valid",value:t.data}}};Aw.create=e=>new Aw({typeName:yt.ZodNaN,...Dt(e)});const VZ=Symbol("zod_brand");let M9=class extends jt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},O2=class L9 extends jt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Rt:i.status==="dirty"?(n.dirty(),O9(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Rt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new L9({in:t,out:n,typeName:yt.ZodPipeline})}},Sw=class extends jt{_parse(t){const n=this._def.innerType._parse(t);return Tm(n)&&(n.value=Object.freeze(n.value)),n}};Sw.create=(e,t)=>new Sw({innerType:e,typeName:yt.ZodReadonly,...Dt(t)});const B9=(e,t={},n)=>e?Kh.create().superRefine((r,s)=>{var i,a;if(!e(r)){const c=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,u=(a=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,d=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...d,fatal:u})}}):Kh.create(),GZ={object:_a.lazycreate};var yt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(yt||(yt={}));const KZ=(e,t={message:`Input not instance of ${e.name}`})=>B9(n=>n instanceof e,t),F9=Gh.create,j9=Im.create,YZ=Aw.create,ZZ=Om.create,z9=Rm.create,XZ=xm.create,JZ=ww.create,QZ=km.create,eX=Pm.create,tX=Kh.create,nX=Nd.create,rX=jc.create,sX=Ew.create,iX=Md.create,aX=_a.create,oX=_a.strictCreate,cX=Um.create,lX=x9.create,uX=$m.create,dX=pu.create,fX=U9.create,hX=vw.create,pX=Cw.create,mX=$9.create,gX=Dm.create,yX=Mm.create,bX=Lg.create,wX=Lm.create,EX=Yh.create,n8=eo.create,vX=$c.create,CX=Ld.create,_X=eo.createWithPreprocess,AX=O2.create,SX=()=>F9().optional(),NX=()=>j9().optional(),TX=()=>z9().optional(),IX={string:(e=>Gh.create({...e,coerce:!0})),number:(e=>Im.create({...e,coerce:!0})),boolean:(e=>Rm.create({...e,coerce:!0})),bigint:(e=>Om.create({...e,coerce:!0})),date:(e=>xm.create({...e,coerce:!0}))},OX=Rt;var B=Object.freeze({__proto__:null,defaultErrorMap:Nm,setErrorMap:PZ,getErrorMap:gw,makeIssue:yw,EMPTY_PATH:UZ,addIssueToContext:Ge,ParseStatus:pi,INVALID:Rt,DIRTY:O9,OK:Ls,isAborted:s6,isDirty:i6,isValid:Tm,isAsync:bw,get util(){return vn},get objectUtil(){return r6},ZodParsedType:Be,getParsedType:zl,ZodType:jt,ZodString:Gh,ZodNumber:Im,ZodBigInt:Om,ZodBoolean:Rm,ZodDate:xm,ZodSymbol:ww,ZodUndefined:km,ZodNull:Pm,ZodAny:Kh,ZodUnknown:Nd,ZodNever:jc,ZodVoid:Ew,ZodArray:Md,ZodObject:_a,ZodUnion:Um,ZodDiscriminatedUnion:x9,ZodIntersection:$m,ZodTuple:pu,ZodRecord:U9,ZodMap:vw,ZodSet:Cw,ZodFunction:$9,ZodLazy:Dm,ZodLiteral:Mm,ZodEnum:Lg,ZodNativeEnum:Lm,ZodPromise:Yh,ZodEffects:eo,ZodTransformer:eo,ZodOptional:$c,ZodNullable:Ld,ZodDefault:Bm,ZodCatch:_w,ZodNaN:Aw,BRAND:VZ,ZodBranded:M9,ZodPipeline:O2,ZodReadonly:Sw,custom:B9,Schema:jt,ZodSchema:jt,late:GZ,get ZodFirstPartyTypeKind(){return yt},coerce:IX,any:tX,array:iX,bigint:ZZ,boolean:z9,date:XZ,discriminatedUnion:lX,effect:n8,enum:bX,function:mX,instanceof:KZ,intersection:uX,lazy:gX,literal:yX,map:hX,nan:YZ,nativeEnum:wX,never:rX,null:eX,nullable:CX,number:j9,object:aX,oboolean:TX,onumber:NX,optional:vX,ostring:SX,pipeline:AX,preprocess:_X,promise:EX,record:fX,set:pX,strictObject:oX,string:F9,symbol:JZ,transformer:n8,tuple:dX,undefined:QZ,union:cX,unknown:nX,void:sX,NEVER:OX,ZodIssueCode:Se,quotelessJson:kZ,ZodError:Ya});const ur=B.object({message:B.string()});function ze(e){return B.literal(Ye[e])}const jE=B.object({serializedMessage:B.string().optional(),accountAddress:B.string(),chainId:B.string(),notBefore:B.string().optional(),domain:B.string(),uri:B.string(),version:B.string(),nonce:B.string(),statement:B.string().optional(),resources:B.array(B.string()).optional(),requestId:B.string().optional(),issuedAt:B.string().optional(),expirationTime:B.string().optional()});B.object({accessList:B.array(B.string()),blockHash:B.string().nullable(),blockNumber:B.string().nullable(),chainId:B.string().or(B.number()),from:B.string(),gas:B.string(),hash:B.string(),input:B.string().nullable(),maxFeePerGas:B.string(),maxPriorityFeePerGas:B.string(),nonce:B.string(),r:B.string(),s:B.string(),to:B.string(),transactionIndex:B.string().nullable(),type:B.string(),v:B.string(),value:B.string()});const RX=B.object({chainId:B.string().or(B.number()),rpcUrl:B.optional(B.string())}),xX=B.object({email:B.string().email()}),kX=B.object({otp:B.string()}),PX=B.object({uri:B.string(),preferredAccountType:B.optional(B.string()),chainId:B.optional(B.string().or(B.number())),siwxMessage:B.optional(jE),rpcUrl:B.optional(B.string())}),UX=B.object({chainId:B.optional(B.string().or(B.number())),preferredAccountType:B.optional(B.string()),socialUri:B.optional(B.string()),siwxMessage:B.optional(jE),rpcUrl:B.optional(B.string())}),$X=B.object({provider:B.enum(["google","github","apple","facebook","x","discord"])}),DX=B.object({email:B.string().email()}),MX=B.object({otp:B.string()}),LX=B.object({otp:B.string()}),BX=B.object({themeMode:B.optional(B.enum(["light","dark"])),themeVariables:B.optional(B.record(B.string(),B.string().or(B.number()))),w3mThemeVariables:B.optional(B.record(B.string(),B.string()))}),FX=B.object({metadata:B.object({name:B.string(),description:B.string(),url:B.string(),icons:B.array(B.string())}).optional(),sdkVersion:B.string().optional(),sdkType:B.string().optional(),projectId:B.string()}),jX=B.object({type:B.string()}),zX=B.object({action:B.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),HX=B.object({url:B.string()}),qX=B.object({userName:B.string()}),WX=B.object({email:B.string().optional().nullable(),address:B.string(),chainId:B.string().or(B.number()),accounts:B.array(B.object({address:B.string(),type:B.enum([wr.ACCOUNT_TYPES.EOA,wr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:B.string().optional().nullable(),preferredAccountType:B.optional(B.string()),signature:B.string().optional(),message:B.string().optional(),siwxMessage:B.optional(jE)}),VX=B.object({action:B.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),GX=B.object({email:B.string().email().optional().nullable(),address:B.string(),chainId:B.string().or(B.number()),smartAccountDeployed:B.optional(B.boolean()),accounts:B.array(B.object({address:B.string(),type:B.enum([wr.ACCOUNT_TYPES.EOA,wr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:B.optional(B.string()),signature:B.string().optional(),message:B.string().optional(),siwxMessage:B.optional(jE)}),KX=B.object({uri:B.string()}),YX=B.object({isConnected:B.boolean()}),ZX=B.object({chainId:B.string().or(B.number())}),XX=B.object({chainId:B.string().or(B.number())}),JX=B.object({newEmail:B.string().email()}),QX=B.object({smartAccountEnabledNetworks:B.array(B.number())});B.object({address:B.string(),isDeployed:B.boolean()});const eJ=B.object({version:B.string().optional()}),tJ=B.object({type:B.string(),address:B.string()}),nJ=B.any(),rJ=B.object({method:B.literal("eth_accounts")}),sJ=B.object({method:B.literal("eth_blockNumber")}),iJ=B.object({method:B.literal("eth_call"),params:B.array(B.any())}),aJ=B.object({method:B.literal("eth_chainId")}),oJ=B.object({method:B.literal("eth_estimateGas"),params:B.array(B.any())}),cJ=B.object({method:B.literal("eth_feeHistory"),params:B.array(B.any())}),lJ=B.object({method:B.literal("eth_gasPrice")}),uJ=B.object({method:B.literal("eth_getAccount"),params:B.array(B.any())}),dJ=B.object({method:B.literal("eth_getBalance"),params:B.array(B.any())}),fJ=B.object({method:B.literal("eth_getBlockByHash"),params:B.array(B.any())}),hJ=B.object({method:B.literal("eth_getBlockByNumber"),params:B.array(B.any())}),pJ=B.object({method:B.literal("eth_getBlockReceipts"),params:B.array(B.any())}),mJ=B.object({method:B.literal("eth_getBlockTransactionCountByHash"),params:B.array(B.any())}),gJ=B.object({method:B.literal("eth_getBlockTransactionCountByNumber"),params:B.array(B.any())}),yJ=B.object({method:B.literal("eth_getCode"),params:B.array(B.any())}),bJ=B.object({method:B.literal("eth_getFilterChanges"),params:B.array(B.any())}),wJ=B.object({method:B.literal("eth_getFilterLogs"),params:B.array(B.any())}),EJ=B.object({method:B.literal("eth_getLogs"),params:B.array(B.any())}),vJ=B.object({method:B.literal("eth_getProof"),params:B.array(B.any())}),CJ=B.object({method:B.literal("eth_getStorageAt"),params:B.array(B.any())}),_J=B.object({method:B.literal("eth_getTransactionByBlockHashAndIndex"),params:B.array(B.any())}),AJ=B.object({method:B.literal("eth_getTransactionByBlockNumberAndIndex"),params:B.array(B.any())}),SJ=B.object({method:B.literal("eth_getTransactionByHash"),params:B.array(B.any())}),NJ=B.object({method:B.literal("eth_getTransactionCount"),params:B.array(B.any())}),TJ=B.object({method:B.literal("eth_getTransactionReceipt"),params:B.array(B.any())}),IJ=B.object({method:B.literal("eth_getUncleCountByBlockHash"),params:B.array(B.any())}),OJ=B.object({method:B.literal("eth_getUncleCountByBlockNumber"),params:B.array(B.any())}),RJ=B.object({method:B.literal("eth_maxPriorityFeePerGas")}),xJ=B.object({method:B.literal("eth_newBlockFilter")}),kJ=B.object({method:B.literal("eth_newFilter"),params:B.array(B.any())}),PJ=B.object({method:B.literal("eth_newPendingTransactionFilter")}),UJ=B.object({method:B.literal("eth_sendRawTransaction"),params:B.array(B.any())}),$J=B.object({method:B.literal("eth_syncing"),params:B.array(B.any())}),DJ=B.object({method:B.literal("eth_uninstallFilter"),params:B.array(B.any())}),r8=B.object({method:B.literal("personal_sign"),params:B.array(B.any())}),MJ=B.object({method:B.literal("eth_signTypedData_v4"),params:B.array(B.any())}),LJ=B.object({method:B.literal("eth_sendTransaction"),params:B.array(B.any())}),BJ=B.object({method:B.literal("solana_signMessage"),params:B.object({message:B.string(),pubkey:B.string()})}),FJ=B.object({method:B.literal("solana_signTransaction"),params:B.object({transaction:B.string()})}),jJ=B.object({method:B.literal("solana_signAllTransactions"),params:B.object({transactions:B.array(B.string())})}),zJ=B.object({method:B.literal("solana_signAndSendTransaction"),params:B.object({transaction:B.string(),options:B.object({skipPreflight:B.boolean().optional(),preflightCommitment:B.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:B.number().optional(),minContextSlot:B.number().optional()}).optional()})}),HJ=B.object({method:B.literal("wallet_sendCalls"),params:B.array(B.object({chainId:B.string().or(B.number()).optional(),from:B.string().optional(),version:B.string().optional(),capabilities:B.any().optional(),calls:B.array(B.object({to:B.string().startsWith("0x"),data:B.string().startsWith("0x").optional(),value:B.string().optional()}))}))}),qJ=B.object({method:B.literal("wallet_getCallsStatus"),params:B.array(B.string())}),WJ=B.object({method:B.literal("wallet_getCapabilities"),params:B.array(B.string().or(B.number()).optional()).optional()}),VJ=B.object({method:B.literal("wallet_grantPermissions"),params:B.array(B.any())}),GJ=B.object({method:B.literal("wallet_revokePermissions"),params:B.any()}),KJ=B.object({method:B.literal("wallet_getAssets"),params:B.any()}),s8=B.object({token:B.string()}),He=B.object({id:B.string().optional()}),gA={appEvent:He.extend({type:ze("APP_SWITCH_NETWORK"),payload:RX}).or(He.extend({type:ze("APP_CONNECT_EMAIL"),payload:xX})).or(He.extend({type:ze("APP_CONNECT_DEVICE")})).or(He.extend({type:ze("APP_CONNECT_OTP"),payload:kX})).or(He.extend({type:ze("APP_CONNECT_SOCIAL"),payload:PX})).or(He.extend({type:ze("APP_GET_FARCASTER_URI")})).or(He.extend({type:ze("APP_CONNECT_FARCASTER")})).or(He.extend({type:ze("APP_GET_USER"),payload:B.optional(UX)})).or(He.extend({type:ze("APP_GET_SOCIAL_REDIRECT_URI"),payload:$X})).or(He.extend({type:ze("APP_SIGN_OUT")})).or(He.extend({type:ze("APP_IS_CONNECTED"),payload:B.optional(s8)})).or(He.extend({type:ze("APP_GET_CHAIN_ID")})).or(He.extend({type:ze("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(He.extend({type:ze("APP_INIT_SMART_ACCOUNT")})).or(He.extend({type:ze("APP_SET_PREFERRED_ACCOUNT"),payload:jX})).or(He.extend({type:ze("APP_RPC_REQUEST"),payload:r8.or(KJ).or(rJ).or(sJ).or(iJ).or(aJ).or(oJ).or(cJ).or(lJ).or(uJ).or(dJ).or(fJ).or(hJ).or(pJ).or(mJ).or(gJ).or(yJ).or(bJ).or(wJ).or(EJ).or(vJ).or(CJ).or(_J).or(AJ).or(SJ).or(NJ).or(TJ).or(IJ).or(OJ).or(RJ).or(xJ).or(kJ).or(PJ).or(UJ).or($J).or(DJ).or(r8).or(MJ).or(LJ).or(BJ).or(FJ).or(jJ).or(zJ).or(qJ).or(HJ).or(WJ).or(VJ).or(GJ).and(B.object({chainId:B.string().or(B.number()).optional(),chainNamespace:B.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:B.string().optional()}))})).or(He.extend({type:ze("APP_UPDATE_EMAIL"),payload:DX})).or(He.extend({type:ze("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:MX})).or(He.extend({type:ze("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:LX})).or(He.extend({type:ze("APP_SYNC_THEME"),payload:BX})).or(He.extend({type:ze("APP_SYNC_DAPP_DATA"),payload:FX})).or(He.extend({type:ze("APP_RELOAD")})).or(He.extend({type:ze("APP_RPC_ABORT")})),frameEvent:He.extend({type:ze("FRAME_SWITCH_NETWORK_ERROR"),payload:ur}).or(He.extend({type:ze("FRAME_SWITCH_NETWORK_SUCCESS"),payload:XX})).or(He.extend({type:ze("FRAME_CONNECT_EMAIL_SUCCESS"),payload:zX})).or(He.extend({type:ze("FRAME_CONNECT_EMAIL_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:HX})).or(He.extend({type:ze("FRAME_GET_FARCASTER_URI_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:qX})).or(He.extend({type:ze("FRAME_CONNECT_FARCASTER_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_CONNECT_OTP_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_CONNECT_OTP_SUCCESS")})).or(He.extend({type:ze("FRAME_CONNECT_DEVICE_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_CONNECT_DEVICE_SUCCESS")})).or(He.extend({type:ze("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:WX})).or(He.extend({type:ze("FRAME_CONNECT_SOCIAL_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_GET_USER_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_GET_USER_SUCCESS"),payload:GX})).or(He.extend({type:ze("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:KX})).or(He.extend({type:ze("FRAME_SIGN_OUT_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_SIGN_OUT_SUCCESS")})).or(He.extend({type:ze("FRAME_IS_CONNECTED_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_IS_CONNECTED_SUCCESS"),payload:YX})).or(He.extend({type:ze("FRAME_GET_CHAIN_ID_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_GET_CHAIN_ID_SUCCESS"),payload:ZX})).or(He.extend({type:ze("FRAME_RPC_REQUEST_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_RPC_REQUEST_SUCCESS"),payload:nJ})).or(He.extend({type:ze("FRAME_SESSION_UPDATE"),payload:s8})).or(He.extend({type:ze("FRAME_UPDATE_EMAIL_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_UPDATE_EMAIL_SUCCESS"),payload:VX})).or(He.extend({type:ze("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(He.extend({type:ze("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:JX})).or(He.extend({type:ze("FRAME_SYNC_THEME_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_SYNC_THEME_SUCCESS")})).or(He.extend({type:ze("FRAME_SYNC_DAPP_DATA_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(He.extend({type:ze("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:QX})).or(He.extend({type:ze("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:tJ})).or(He.extend({type:ze("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_READY"),payload:eJ})).or(He.extend({type:ze("FRAME_RELOAD_ERROR"),payload:ur})).or(He.extend({type:ze("FRAME_RELOAD_SUCCESS")}))};function yA(e,t={}){return typeof t?.type=="string"&&t?.type?.includes(e)}function YJ({projectId:e,chainId:t,enableLogger:n,rpcUrl:r=ue.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:s=!1}){const i=new URL(OZ);i.searchParams.set("projectId",e),i.searchParams.set("chainId",String(t)),i.searchParams.set("version",xZ),i.searchParams.set("enableLogger",String(n)),i.searchParams.set("rpcUrl",r);const a=Lr.get("dapp_smart_account_version");return a&&(a==="v6"||a==="v7")&&(console.warn(">> AppKit - Forcing smart account version",a),i.searchParams.set("smartAccountVersion",a)),s&&i.searchParams.set("enableCloudAuthAccount","true"),i.toString()}let ZJ=class{constructor({projectId:t,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0,enableCloudAuthAccount:i=!1,rpcUrl:a=ue.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const c=document.getElementById("w3m-iframe");this.iframe&&!c&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(c,u,d)=>{function h({data:m}){if(!yA(Ye.FRAME_EVENT_KEY,m))return;const g=gA.frameEvent.safeParse(m);if(!g.success){console.warn("W3mFrame: invalid frame event",g.error.message);return}g.data?.id===c&&(u(g.data),window.removeEventListener("message",h))}Bi.isClient&&(window.addEventListener("message",h),d.addEventListener("abort",()=>{window.removeEventListener("message",h)}))},onFrameEvent:c=>{Bi.isClient&&window.addEventListener("message",({data:u})=>{if(!yA(Ye.FRAME_EVENT_KEY,u))return;const d=gA.frameEvent.safeParse(u);d.success?c(d.data):console.warn("W3mFrame: invalid frame event",d.error.message)})},onAppEvent:c=>{Bi.isClient&&window.addEventListener("message",({data:u})=>{if(!yA(Ye.APP_EVENT_KEY,u))return;const d=gA.appEvent.safeParse(u);d.success||console.warn("W3mFrame: invalid app event",d.error.message),c(u)})},postAppEvent:c=>{if(Bi.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(c,"*")}},postFrameEvent:c=>{if(Bi.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(c,"*")}}},this.projectId=t,this.frameLoadPromise=new Promise((c,u)=>{this.frameLoadPromiseResolver={resolve:c,reject:u}}),this.rpcUrl=a,n&&(this.frameLoadPromise=new Promise((c,u)=>{this.frameLoadPromiseResolver={resolve:c,reject:u}}),Bi.isClient)){const c=document.createElement("iframe");c.id="w3m-iframe",c.src=YJ({projectId:t,chainId:r,enableLogger:s,rpcUrl:this.rpcUrl,enableCloudAuthAccount:i}),c.name="w3m-secure-iframe",c.style.position="fixed",c.style.zIndex="999999",c.style.display="none",c.style.border="none",c.style.animationDelay="0s, 50ms",c.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",c.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=c,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(u=>{u.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const t=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...t)}};var w0={exports:{}},bA,i8;function R2(){if(i8)return bA;i8=1;function e(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}bA=t;function t(n,r,s){var i=s&&s.stringify||e,a=1;if(typeof n=="object"&&n!==null){var c=r.length+a;if(c===1)return n;var u=new Array(c);u[0]=i(n);for(var d=1;d<c;d++)u[d]=i(r[d]);return u.join(" ")}if(typeof n!="string")return n;var h=r.length;if(h===0)return n;for(var m="",g=1-a,w=-1,v=n&&n.length||0,E=0;E<v;){if(n.charCodeAt(E)===37&&E+1<v){switch(w=w>-1?w:0,n.charCodeAt(E+1)){case 100:case 102:if(g>=h||r[g]==null)break;w<E&&(m+=n.slice(w,E)),m+=Number(r[g]),w=E+2,E++;break;case 105:if(g>=h||r[g]==null)break;w<E&&(m+=n.slice(w,E)),m+=Math.floor(Number(r[g])),w=E+2,E++;break;case 79:case 111:case 106:if(g>=h||r[g]===void 0)break;w<E&&(m+=n.slice(w,E));var A=typeof r[g];if(A==="string"){m+="'"+r[g]+"'",w=E+2,E++;break}if(A==="function"){m+=r[g].name||"<anonymous>",w=E+2,E++;break}m+=i(r[g]),w=E+2,E++;break;case 115:if(g>=h)break;w<E&&(m+=n.slice(w,E)),m+=String(r[g]),w=E+2,E++;break;case 37:w<E&&(m+=n.slice(w,E)),m+="%",w=E+2,E++,g--;break}++g}++E}return w===-1?n:(w<v&&(m+=n.slice(w)),m)}return bA}var a8;function XJ(){if(a8)return w0.exports;a8=1;const e=R2();w0.exports=h;const t=Z().console||{},n={mapHttpRequest:P,mapHttpResponse:P,wrapRequestSerializer:L,wrapResponseSerializer:L,wrapErrorSerializer:L,req:P,res:P,err:S,errWithCause:S};function r(y,_){return y==="silent"?1/0:_.levels.values[y]}const s=Symbol("pino.logFuncs"),i=Symbol("pino.hierarchy"),a={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(y,_){const T={logger:_,parent:y[i]};_[i]=T}function u(y,_,T){const $={};_.forEach(U=>{$[U]=T[U]?T[U]:t[U]||t[a[U]||"log"]||j}),y[s]=$}function d(y,_){return Array.isArray(y)?y.filter(function($){return $!=="!stdSerializers.err"}):y===!0?Object.keys(_):!1}function h(y){y=y||{},y.browser=y.browser||{};const _=y.browser.transmit;if(_&&typeof _.send!="function")throw Error("pino: transmit option must have a send function");const T=y.browser.write||t;y.browser.write&&(y.browser.asObject=!0);const $=y.serializers||{},U=d(y.browser.serialize,$);let q=y.browser.serialize;Array.isArray(y.browser.serialize)&&y.browser.serialize.indexOf("!stdSerializers.err")>-1&&(q=!1);const M=Object.keys(y.customLevels||{}),z=["error","fatal","warn","info","debug","trace"].concat(M);typeof T=="function"&&z.forEach(function(we){T[we]=T}),(y.enabled===!1||y.browser.disabled)&&(y.level="silent");const J=y.level||"info",D=Object.create(T);D.log||(D.log=j),u(D,z,T),c({},D),Object.defineProperty(D,"levelVal",{get:le}),Object.defineProperty(D,"level",{get:be,set:$e});const Q={transmit:_,serialize:U,asObject:y.browser.asObject,asObjectBindingsOnly:y.browser.asObjectBindingsOnly,formatters:y.browser.formatters,levels:z,timestamp:x(y),messageKey:y.messageKey||"msg",onChild:y.onChild||j};D.levels=m(y),D.level=J,D.isLevelEnabled=function(we){return this.levels.values[we]?this.levels.values[we]>=this.levels.values[this.level]:!1},D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=j,D.serializers=$,D._serialize=U,D._stdErrSerialize=q,D.child=function(...we){return _e.call(this,Q,...we)},_&&(D._logEvent=N());function le(){return r(this.level,this)}function be(){return this._level}function $e(we){if(we!=="silent"&&!this.levels.values[we])throw Error("unknown level "+we);this._level=we,v(this,Q,D,"error"),v(this,Q,D,"fatal"),v(this,Q,D,"warn"),v(this,Q,D,"info"),v(this,Q,D,"debug"),v(this,Q,D,"trace"),M.forEach(je=>{v(this,Q,D,je)})}function _e(we,je,Et){if(!je)throw new Error("missing bindings for child Pino");Et=Et||{},U&&je.serializers&&(Et.serializers=je.serializers);const mn=Et.serializers;if(U&&mn){var kt=Object.assign({},$,mn),Vn=y.browser.serialize===!0?Object.keys(kt):U;delete je.serializers,k([je],Vn,kt,this._stdErrSerialize)}function vr(Qn){this._childLevel=(Qn._childLevel|0)+1,this.bindings=je,kt&&(this.serializers=kt,this._serialize=Vn),_&&(this._logEvent=N([].concat(Qn._logEvent.bindings,je)))}vr.prototype=this;const Fn=new vr(this);return c(this,Fn),Fn.child=function(...Qn){return _e.call(this,we,...Qn)},Fn.level=Et.level||this.level,we.onChild(Fn),Fn}return D}function m(y){const _=y.customLevels||{},T=Object.assign({},h.levels.values,_),$=Object.assign({},h.levels.labels,g(_));return{values:T,labels:$}}function g(y){const _={};return Object.keys(y).forEach(function(T){_[y[T]]=T}),_}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=n,h.stdTimeFunctions=Object.assign({},{nullTime:W,epochTime:Y,unixTime:G,isoTime:K});function w(y){const _=[];y.bindings&&_.push(y.bindings);let T=y[i];for(;T.parent;)T=T.parent,T.logger.bindings&&_.push(T.logger.bindings);return _.reverse()}function v(y,_,T,$){if(Object.defineProperty(y,$,{value:r(y.level,T)>r($,T)?j:T[s][$],writable:!0,enumerable:!0,configurable:!0}),y[$]===j){if(!_.transmit)return;const q=_.transmit.level||y.level,M=r(q,T);if(r($,T)<M)return}y[$]=A(y,_,T,$);const U=w(y);U.length!==0&&(y[$]=E(U,y[$]))}function E(y,_){return function(){return _.apply(this,[...y,...arguments])}}function A(y,_,T,$){return(function(U){return function(){const M=_.timestamp(),z=new Array(arguments.length),J=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var D=0;D<z.length;D++)z[D]=arguments[D];var Q=!1;if(_.serialize&&(k(z,this._serialize,this.serializers,this._stdErrSerialize),Q=!0),_.asObject||_.formatters?U.call(J,...R(this,$,z,M,_)):U.apply(J,z),_.transmit){const le=_.transmit.level||y._level,be=r(le,T),$e=r($,T);if($e<be)return;I(this,{ts:M,methodLevel:$,methodValue:$e,transmitValue:T.levels.values[_.transmit.level||y._level],send:_.transmit.send,val:r(y._level,T)},z,Q)}}})(y[s][$])}function R(y,_,T,$,U){const{level:q,log:M=le=>le}=U.formatters||{},z=T.slice();let J=z[0];const D={};let Q=(y._childLevel|0)+1;if(Q<1&&(Q=1),$&&(D.time=$),q){const le=q(_,y.levels.values[_]);Object.assign(D,le)}else D.level=y.levels.values[_];if(U.asObjectBindingsOnly){if(J!==null&&typeof J=="object")for(;Q--&&typeof z[0]=="object";)Object.assign(D,z.shift());return[M(D),...z]}else{if(J!==null&&typeof J=="object"){for(;Q--&&typeof z[0]=="object";)Object.assign(D,z.shift());J=z.length?e(z.shift(),z):void 0}else typeof J=="string"&&(J=e(z.shift(),z));return J!==void 0&&(D[U.messageKey]=J),[M(D)]}}function k(y,_,T,$){for(const U in y)if($&&y[U]instanceof Error)y[U]=h.stdSerializers.err(y[U]);else if(typeof y[U]=="object"&&!Array.isArray(y[U])&&_)for(const q in y[U])_.indexOf(q)>-1&&q in T&&(y[U][q]=T[q](y[U][q]))}function I(y,_,T,$=!1){const U=_.send,q=_.ts,M=_.methodLevel,z=_.methodValue,J=_.val,D=y._logEvent.bindings;$||k(T,y._serialize||Object.keys(y.serializers),y.serializers,y._stdErrSerialize===void 0?!0:y._stdErrSerialize),y._logEvent.ts=q,y._logEvent.messages=T.filter(function(Q){return D.indexOf(Q)===-1}),y._logEvent.level.label=M,y._logEvent.level.value=z,U(M,y._logEvent,J),y._logEvent=N(D)}function N(y){return{ts:0,messages:[],bindings:y||[],level:{label:"",value:0}}}function S(y){const _={type:y.constructor.name,msg:y.message,stack:y.stack};for(const T in y)_[T]===void 0&&(_[T]=y[T]);return _}function x(y){return typeof y.timestamp=="function"?y.timestamp:y.timestamp===!1?W:Y}function P(){return{}}function L(y){return y}function j(){}function W(){return!1}function Y(){return Date.now()}function G(){return Math.round(Date.now()/1e3)}function K(){return new Date(Date.now()).toISOString()}function Z(){function y(_){return typeof _<"u"&&_}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return y(self)||y(window)||y(this)||{}}}return w0.exports.default=h,w0.exports.pino=h,w0.exports}var mh=XJ();const H9=Wc(mh),JJ=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),QJ=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Bd(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return QJ(e)}catch{return e}}function Hi(e){return typeof e=="string"?e:JJ(e)||""}const eQ={level:"info"},zE="custom_context",x2=1e3*1024;var tQ=Object.defineProperty,nQ=(e,t,n)=>t in e?tQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hl=(e,t,n)=>nQ(e,typeof t!="symbol"?t+"":t,n);let rQ=class{constructor(t){Hl(this,"nodeValue"),Hl(this,"sizeInBytes"),Hl(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},o8=class{constructor(t){Hl(this,"lengthInNodes"),Hl(this,"sizeInBytes"),Hl(this,"head"),Hl(this,"tail"),Hl(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new rQ(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}};var sQ=Object.defineProperty,iQ=(e,t,n)=>t in e?sQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jb=(e,t,n)=>iQ(e,typeof t!="symbol"?t+"":t,n);let q9=class{constructor(t,n=x2){jb(this,"logs"),jb(this,"level"),jb(this,"levelValue"),jb(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=mh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new o8(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===mh.levels.values.error?console.error(t):n===mh.levels.values.warn?console.warn(t):n===mh.levels.values.debug?console.debug(t):n===mh.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Hi({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new o8(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(Hi({extraMetadata:t})),new Blob(n,{type:"application/json"})}};var aQ=Object.defineProperty,oQ=(e,t,n)=>t in e?aQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cQ=(e,t,n)=>oQ(e,t+"",n);let lQ=class{constructor(t,n=x2){cQ(this,"baseChunkLogger"),this.baseChunkLogger=new q9(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var uQ=Object.defineProperty,dQ=(e,t,n)=>t in e?uQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fQ=(e,t,n)=>dQ(e,t+"",n);let hQ=class{constructor(t,n=x2){fQ(this,"baseChunkLogger"),this.baseChunkLogger=new q9(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var pQ=Object.defineProperty,mQ=Object.defineProperties,gQ=Object.getOwnPropertyDescriptors,c8=Object.getOwnPropertySymbols,yQ=Object.prototype.hasOwnProperty,bQ=Object.prototype.propertyIsEnumerable,l8=(e,t,n)=>t in e?pQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nw=(e,t)=>{for(var n in t||(t={}))yQ.call(t,n)&&l8(e,n,t[n]);if(c8)for(var n of c8(t))bQ.call(t,n)&&l8(e,n,t[n]);return e},Tw=(e,t)=>mQ(e,gQ(t));function wQ(e){return Tw(Nw({},e),{level:e?.level||eQ.level})}function EQ(e,t,n=zE){return e[n]=t,e}function vQ(e,t=zE){return e[t]||""}function CQ(e,t,n=zE){const r=vQ(e,n);return r.trim()?`${r}/${t}`:t}function _Q(e,t,n=zE){const r=CQ(e,t,n),s=e.child({context:r});return EQ(s,r,n)}function AQ(e){var t,n;const r=new lQ((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:H9(Tw(Nw({},e.opts),{level:"trace",browser:Tw(Nw({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function SQ(e){var t;const n=new hQ((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:H9(Tw(Nw({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function NQ(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?AQ(e):SQ(e)}let TQ=class{constructor(t){const n=wQ({level:RZ}),{logger:r,chunkLoggerController:s}=NQ({opts:n});this.logger=_Q(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:t})})}},IQ=class{constructor({projectId:t,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i,getActiveCaipNetwork:a,getCaipNetworks:c,enableCloudAuthAccount:u,metadata:d,sdkVersion:h,sdkType:m}){this.openRpcRequests=new Map,this.isInitialized=!1,r&&(this.w3mLogger=new TQ(t)),this.abortController=i,this.getActiveCaipNetwork=a,this.getCaipNetworks=c;const g=this.getRpcUrl(n);this.projectId=t,this.sdkVersion=h,this.sdkType=m,this.metadata=d,this.w3mFrame=new ZJ({projectId:t,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:g,enableCloudAuthAccount:u}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(t=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_READY&&setTimeout(()=>{t()},500)})}),await this.initPromise,await this.syncDappData({metadata:this.metadata,projectId:this.projectId,sdkVersion:this.sdkVersion,sdkType:this.sdkType}),await this.getSmartAccountEnabledNetworks(),this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Lr.get(Ye.EMAIL_LOGIN_USED_KEY)}getEmail(){return Lr.get(Ye.EMAIL)}getUsername(){return Lr.get(Ye.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:Ye.APP_RELOAD})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error reloading iframe"),t}}async connectEmail(t){try{Bi.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:Ye.APP_CONNECT_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:Ye.APP_CONNECT_DEVICE})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting device"),t}}async connectOtp(t){try{return this.appEvent({type:Ye.APP_CONNECT_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const t=await this.appEvent({type:Ye.APP_IS_CONNECTED});return t?.isConnected||this.deleteAuthLoginCache(),t}catch(t){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:t},"Error checking connection"),t}}async getChainId(){try{const t=await this.appEvent({type:Ye.APP_GET_CHAIN_ID});return this.setLastUsedChainId(t.chainId),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting chain id"),t}}async getSocialRedirectUri(t){try{return await this.init(),this.appEvent({type:Ye.APP_GET_SOCIAL_REDIRECT_URI,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(t){try{const n=await this.appEvent({type:Ye.APP_UPDATE_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(t){try{return this.appEvent({type:Ye.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(t){try{const n=await this.appEvent({type:Ye.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:t});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(t){try{return this.appEvent({type:Ye.APP_SYNC_THEME,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(t){try{return this.appEvent({type:Ye.APP_SYNC_DAPP_DATA,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const t=await this.appEvent({type:Ye.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(t.smartAccountEnabledNetworks),t}catch(t){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:t},"Error getting smart account enabled networks"),t}}async setPreferredAccount(t){try{return this.appEvent({type:Ye.APP_SET_PREFERRED_ACCOUNT,payload:{type:t}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(t){if(t?.socialUri)try{await this.init();const n=this.getRpcUrl(t.chainId),r=await this.appEvent({type:Ye.APP_CONNECT_SOCIAL,payload:{uri:t.socialUri,preferredAccountType:t.preferredAccountType,chainId:t.chainId,siwxMessage:t.siwxMessage,rpcUrl:n}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=t?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:t?.preferredAccountType,siwxMessage:t?.siwxMessage,rpcUrl:this.getRpcUrl(n)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(t){try{await this.init();const n=t?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:Ye.APP_GET_USER,payload:{...t,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:t,chainId:n,preferredAccountType:r}){try{await this.init();const s=this.getRpcUrl(n),i=await this.appEvent({type:Ye.APP_CONNECT_SOCIAL,payload:{uri:t,chainId:n,rpcUrl:s,preferredAccountType:r}});return i.userName&&this.setSocialLoginSuccess(i.userName),i}catch(s){throw this.w3mLogger?.logger.error({error:s},"Error connecting social"),s}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:Ye.APP_GET_FARCASTER_URI})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting farcaster uri"),t}}async connectFarcaster(){try{const t=await this.appEvent({type:Ye.APP_CONNECT_FARCASTER});return t.userName&&this.setSocialLoginSuccess(t.userName),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting farcaster"),t}}async switchNetwork({chainId:t}){try{const n=this.getRpcUrl(t),r=await this.appEvent({type:Ye.APP_SWITCH_NETWORK,payload:{chainId:t,rpcUrl:n}});return this.setLastUsedChainId(r.chainId),r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const r=setTimeout(()=>{n()},3e3);await this.appEvent({type:Ye.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error disconnecting"),t}}async request(t){const n=t;try{if(wr.GET_CHAIN_ID===t.method)return this.getLastUsedChainId();const r=t.chainNamespace||"eip155",s=this.getActiveCaipNetwork(r)?.id;n.chainNamespace=r,n.chainId=s,n.rpcUrl=this.getRpcUrl(s),this.rpcRequestHandler?.(t);const i=await this.appEvent({type:Ye.APP_RPC_REQUEST,payload:n});return this.rpcSuccessHandler?.(i,n),i}catch(r){throw this.rpcErrorHandler?.(r,n),this.w3mLogger?.logger.error({error:r},"Error requesting"),r}}onRpcRequest(t){this.rpcRequestHandler=t}onRpcSuccess(t){this.rpcSuccessHandler=t}onRpcError(t){this.rpcErrorHandler=t}onIsConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&t()})}onNotConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_IS_CONNECTED_ERROR&&t(),n.type===Ye.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&t()})}onConnect(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_GET_USER_SUCCESS&&t(n.payload)})}onSocialConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_CONNECT_SOCIAL_SUCCESS&&t(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ye.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?t(n.payload):n.type===Ye.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&t({type:wr.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:t,method:n})=>{wr.SAFE_RPC_METHODS.includes(n)||t.abort(),await this.appEvent({type:Ye.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(t){this.w3mLogger?.logger.error({error:t},"Error aborting RPC request")}}async appEvent(t){let n,r;function s(u){return u.replace("@w3m-app/","")}const i=[Ye.APP_SYNC_DAPP_DATA,Ye.APP_SYNC_THEME,Ye.APP_SET_PREFERRED_ACCOUNT],a=s(t.type);return!this.w3mFrame.iframeIsReady&&!i.includes(t.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Ye.APP_CONNECT_EMAIL,Ye.APP_CONNECT_DEVICE,Ye.APP_CONNECT_OTP,Ye.APP_CONNECT_SOCIAL,Ye.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(a)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((u,d)=>{const h=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:t,id:h},"Sending app event"),this.w3mFrame.events.postAppEvent({...t,id:h});const m=new AbortController;if(a==="RPC_REQUEST"){const w=t;this.openRpcRequests.set(h,{...w.payload,abortController:m})}m.signal.addEventListener("abort",()=>{a==="RPC_REQUEST"?d(new Error("Request was aborted")):a!=="GET_FARCASTER_URI"&&d(new Error("Something went wrong"))});const g=(w,v)=>{w.id===h&&(v?.logger.info?.({framEvent:w,id:h},"Received frame response"),this.openRpcRequests.delete(w.id),w.type===`@w3m-frame/${a}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in w&&u(w.payload),u(void 0)):w.type===`@w3m-frame/${a}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in w&&d(new Error(w.payload?.message||"An error occurred")),d(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(h,w=>g(w,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Lr.set(Ye.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(t){Lr.set(Ye.SOCIAL_USERNAME,t)}setLoginSuccess(t){t&&Lr.set(Ye.EMAIL,t),Lr.set(Ye.EMAIL_LOGIN_USED_KEY,"true"),Lr.delete(Ye.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Lr.delete(Ye.EMAIL_LOGIN_USED_KEY),Lr.delete(Ye.EMAIL),Lr.delete(Ye.LAST_USED_CHAIN_KEY),Lr.delete(Ye.SOCIAL_USERNAME)}setLastUsedChainId(t){t&&Lr.set(Ye.LAST_USED_CHAIN_KEY,String(t))}getLastUsedChainId(){const t=Lr.get(Ye.LAST_USED_CHAIN_KEY)??void 0,n=Number(t);return isNaN(n)?t:n}persistSmartAccountEnabledNetworks(t){Lr.set(Ye.SMART_ACCOUNT_ENABLED_NETWORKS,t.join(","))}getRpcUrl(t){let n=t===void 0?void 0:"eip155";typeof t=="string"&&(t.includes(":")?n=zr.parseCaipNetworkId(t)?.chainNamespace:Number.isInteger(Number(t))?n="eip155":n="solana");const r=this.getCaipNetworks(n);return(t?r.find(i=>String(i.id)===String(t)||i.caipNetworkId===t):r[0])?.rpcUrls.default.http?.[0]}};async function E0(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}let Bg=class{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await E0(i,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const s=this.createUrl(r);return(await E0(s,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await E0(i,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await E0(i,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await E0(i,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:t,...n}){const r=this.createUrl(n);return navigator.sendBeacon(r.toString(),t?JSON.stringify(t):void 0)}};const f6={getFeatureValue(e,t){const n=t?.[e];return n===void 0?Vt.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return Re.isTelegram()&&(Re.isIos()&&(t=t.filter(n=>n!=="google")),Re.isMac()&&(t=t.filter(n=>n!=="x")),Re.isAndroid()&&(t=t.filter(n=>!["facebook","x"].includes(n)))),Re.isMobile()&&(t=t.filter(n=>n!=="facebook")),t},isSocialsEnabled(){return Array.isArray(de.state.features?.socials)&&de.state.features?.socials.length>0||Array.isArray(de.state.remoteFeatures?.socials)&&de.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!(de.state.features?.email||de.state.remoteFeatures?.email)}},tt=Jn({features:Vt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Vt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),de={state:tt,subscribeKey(e,t){return us(tt,e,t)},setOptions(e){Object.assign(tt,e)},setRemoteFeatures(e){if(!e)return;const t={...tt.remoteFeatures,...e};tt.remoteFeatures=t,tt.remoteFeatures?.socials&&(tt.remoteFeatures.socials=f6.filterSocialsByPlatform(tt.remoteFeatures.socials)),tt.features?.pay&&(tt.remoteFeatures.email=!1,tt.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;tt.features||(tt.features=Vt.DEFAULT_FEATURES);const t={...tt.features,...e};tt.features=t,tt.features?.pay&&tt.remoteFeatures&&(tt.remoteFeatures.email=!1,tt.remoteFeatures.socials=!1)},setProjectId(e){tt.projectId=e},setCustomRpcUrls(e){tt.customRpcUrls=e},setAllWallets(e){tt.allWallets=e},setIncludeWalletIds(e){tt.includeWalletIds=e},setExcludeWalletIds(e){tt.excludeWalletIds=e},setFeaturedWalletIds(e){tt.featuredWalletIds=e},setTokens(e){tt.tokens=e},setTermsConditionsUrl(e){tt.termsConditionsUrl=e},setPrivacyPolicyUrl(e){tt.privacyPolicyUrl=e},setCustomWallets(e){tt.customWallets=e},setIsSiweEnabled(e){tt.isSiweEnabled=e},setIsUniversalProvider(e){tt.isUniversalProvider=e},setSdkVersion(e){tt.sdkVersion=e},setMetadata(e){tt.metadata=e},setDisableAppend(e){tt.disableAppend=e},setEIP6963Enabled(e){tt.enableEIP6963=e},setDebug(e){tt.debug=e},setEnableWalletGuide(e){tt.enableWalletGuide=e},setEnableAuthLogger(e){tt.enableAuthLogger=e},setEnableWallets(e){tt.enableWallets=e},setPreferUniversalLinks(e){tt.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(Vt.SIWX_DEFAULTS))e[t]??=n;tt.siwx=e},setConnectMethodsOrder(e){tt.features={...tt.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){tt.features={...tt.features,walletFeaturesOrder:e}},setSocialsOrder(e){tt.remoteFeatures={...tt.remoteFeatures,socials:e}},setCollapseWallets(e){tt.features={...tt.features,collapseWallets:e}},setEnableEmbedded(e){tt.enableEmbedded=e},setAllowUnsupportedChain(e){tt.allowUnsupportedChain=e},setManualWCControl(e){tt.manualWCControl=e},setEnableNetworkSwitch(e){tt.enableNetworkSwitch=e},setEnableMobileFullScreen(e){tt.enableMobileFullScreen=Re.isMobile()&&e},setEnableReconnect(e){tt.enableReconnect=e},setCoinbasePreference(e){tt.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(tt.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){tt.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return tt.universalProviderConfigOverride},getSnapshot(){return _m(tt)}},sd=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Ur=Jn({...sd}),OQ={state:Ur,subscribeKey(e,t){return us(Ur,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=Re.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){Ur.message=sd.message,Ur.variant=sd.variant,Ur.svg=sd.svg,Ur.open=sd.open,Ur.autoClose=sd.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=sd.autoClose}){Ur.open?(Ur.open=!1,setTimeout(()=>{Ur.message=e,Ur.variant=n,Ur.svg=t,Ur.open=!0,Ur.autoClose=r},150)):(Ur.message=e,Ur.variant=n,Ur.svg=t,Ur.open=!0,Ur.autoClose=r)}},vo=OQ,RQ={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},W9=Re.getBlockchainApiUrl(),Ts=Jn({clientId:null,api:new Bg({baseUrl:W9,clientId:null}),supportedChains:{http:[],ws:[]}}),pt={state:Ts,async get(e){const{st:t,sv:n}=pt.getSdkProperties(),r=de.state.projectId,s={...e.params||{},st:t,sv:n,projectId:r};return Ts.api.get({...e,params:s})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=de.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{Ts.supportedChains.http.length||await pt.getSupportedNetworks()}catch{return!1}return Ts.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await pt.get({path:"v1/supported-chains"});return Ts.supportedChains=e,e}catch{return Ts.supportedChains}},async fetchIdentity({address:e}){const t=ye.getIdentityFromCacheForAddress(e);if(t)return t;const n=await pt.get({path:`/v1/identity/${e}`,params:{sender:V.state.activeCaipAddress?Re.getPlainAddress(V.state.activeCaipAddress):void 0}});return ye.updateIdentityCache({address:e,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:s}){if(!await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const a=ye.getTransactionsCacheForAddress({address:e,chainId:s});if(a)return a;const c=await pt.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:s},signal:n,cache:r});return ye.updateTransactionsCache({address:e,chainId:s,timestamp:Date.now(),transactions:c}),c},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:s}){return await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async getAddressBalance({caipNetworkId:e,address:t}){return Ts.api.post({path:`/v1?chainId=${e}&projectId=${de.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:t}}}).then(n=>n.result)},async fetchTokenPrice({addresses:e}){if(!await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=ye.getTokenPriceCacheForAddresses(e);if(n)return n;const r=await Ts.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:de.state.projectId},headers:{"Content-Type":"application/json"}});return ye.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){const{st:t,sv:n}=pt.getSdkProperties();if(!await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return pt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:s}){if(!await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Ts.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:Vt.CONVERT_SLIPPAGE_TOLERANCE},projectId:de.state.projectId,from:t,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){const{st:r,sv:s}=pt.getSdkProperties();if(!await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return pt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:s}})},async getBalance(e,t,n){const{st:r,sv:s}=pt.getSdkProperties();if(!await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId))return vo.showError("Token Balance Unavailable"),{balances:[]};const a=`${t}:${e}`,c=ye.getBalanceCacheForCaipAddress(a);if(c)return c;const u=await pt.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:s}});return ye.updateBalanceCache({caipAddress:a,balance:u,timestamp:Date.now()}),u},async lookupEnsName(e){return await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){if(!await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId))return[];const n=V.getAccountData()?.address;return pt.get({path:`/v1/profile/reverse/${e}`,params:{sender:n,apiVersion:"2"}})},async getEnsNameSuggestions(e){return await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId)?Ts.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){return await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId)?(await Ts.api.post({path:"/v1/generators/onrampurl",params:{projectId:de.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){if(!await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await pt.get({path:"/v1/onramp/options"})}catch{return RQ}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId)?await Ts.api.post({path:"/v1/onramp/quote",params:{projectId:de.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await pt.isNetworkSupported(V.state.activeCaipNetwork?.caipNetworkId)?Ts.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:de.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){Ts.clientId=e,Ts.api=new Bg({baseUrl:W9,clientId:e})}},ca={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},xQ={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,r=encodeURIComponent(n);if(e===ca.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],a=encodeURIComponent(`${s}://${i}`);window.location.href=`${ca.PHANTOM.url}/ul/browse/${r}?ref=${a}`}if(e===ca.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${ca.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===ue.CHAIN.SOLANA&&e===ca.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${ca.COINBASE.url}/dapp?cb_url=${r}`),t===ue.CHAIN.BITCOIN&&e===ca.BINANCE.id&&!("binancew3w"in window)){const s=V.state.activeCaipNetwork,i=window.btoa("/pages/browser/index"),a=window.btoa(`url=${r}&defaultChainId=${s?.id??1}`),c=new URL(ca.BINANCE.deeplink);c.searchParams.set("appId",ca.BINANCE.appId),c.searchParams.set("startPagePath",i),c.searchParams.set("startPageQuery",a);const u=new URL(ca.BINANCE.url);u.searchParams.set("_dp",window.btoa(c.toString())),window.location.href=u.toString()}}},kQ=Object.freeze({enabled:!0,events:[]}),PQ=new Bg({baseUrl:Re.getAnalyticsUrl(),clientId:null}),UQ=5,$Q=60*1e3,_l=Jn({...kQ}),DQ={state:_l,subscribeKey(e,t){return us(_l,e,t)},async sendError(e,t){if(!_l.enabled)return;const n=Date.now();if(_l.events.filter(i=>{const a=new Date(i.properties.timestamp||"").getTime();return n-a<$Q}).length>=UQ)return;const s={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};_l.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:a,sdkVersion:c}=de.state;await PQ.post({path:"/e",params:{projectId:i,st:a,sv:c||"html-wagmi-4.2.2"},body:{eventId:Re.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){_l.enabled=!0},disable(){_l.enabled=!1},clearEvents(){_l.events=[]}};let Iw=class h6 extends Error{constructor(t,n,r){super(t),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,h6.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,a=i.indexOf(`
`);if(a>-1){const c=i.substring(a+1);this.stack=`${this.name}: ${this.message}
${c}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,h6):this.stack||(this.stack=`${this.name}: ${this.message}`))}};function u8(e,t){let n="";try{e instanceof Error?n=e.message:typeof e=="string"?n=e:typeof e=="object"&&e!==null?Object.keys(e).length===0?n="Unknown error":n=e?.message||JSON.stringify(e):n=String(e)}catch(s){n="Unknown error",console.error("Error parsing error message",s)}const r=e instanceof Iw?e:new Iw(n,t,e);throw DQ.sendError(r,r.category),r}function Ta(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const s=e[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...a)=>{try{return await s(...a)}catch(c){return u8(c,t)}}:i=(...a)=>{try{return s(...a)}catch(c){return u8(c,t)}},n[r]=i}else n[r]=s}),n}const Ri=Jn({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),MQ={state:Ri,subscribeNetworkImages(e){return ls(Ri.networkImages,()=>e(Ri.networkImages))},subscribeKey(e,t){return us(Ri,e,t)},subscribe(e){return ls(Ri,()=>e(Ri))},setWalletImage(e,t){Ri.walletImages[e]=t},setNetworkImage(e,t){Ri.networkImages[e]=t},setChainImage(e,t){Ri.chainImages[e]=t},setConnectorImage(e,t){Ri.connectorImages={...Ri.connectorImages,[e]:t}},setTokenImage(e,t){Ri.tokenImages[e]=t},setCurrencyImage(e,t){Ri.currencyImages[e]=t}},ga=Ta(MQ),d8={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},wA=Jn({networkImagePromises:{}}),V9={async fetchWalletImage(e){if(e)return await Le._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(wA.networkImagePromises[e]||(wA.networkImagePromises[e]=Le._fetchNetworkImage(e)),await wA.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return ga.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return ga.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return ga.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return ga.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return ga.state.connectorImages[e.imageId]},getChainImage(e){return ga.state.networkImages[d8[e]]},getTokenImage(e){if(e)return ga.state.tokenImages[e]},getWalletImageUrl(e){if(!e)return"";const{projectId:t,sdkType:n,sdkVersion:r}=de.state,s=new URL(`${ue.W3M_API_URL}/getWalletImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",n),s.searchParams.set("sv",r),s.toString()},getAssetImageUrl(e){if(!e)return"";const{projectId:t,sdkType:n,sdkVersion:r}=de.state,s=new URL(`${ue.W3M_API_URL}/public/getAssetImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",n),s.searchParams.set("sv",r),s.toString()},getChainNamespaceImageUrl(e){return this.getAssetImageUrl(d8[e])}},LQ=Re.getAnalyticsUrl(),BQ=new Bg({baseUrl:LQ,clientId:null}),FQ=["MODAL_CREATED"],jQ=45,f8=1e3*10,dr=Jn({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),Ot={state:dr,subscribe(e){return ls(dr,()=>e(dr))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=de.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){const e=JSON.stringify(dr.pendingEvents).length/1024>jQ,t=dr.lastFlush+f8<Date.now();return e||t},_setPendingEvent(e){try{let t=V.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),FQ.includes(e.data.event)||typeof window>"u")return;const n=V.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:Re.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:n}}}),dr.reportedErrors.FORBIDDEN=!1,Ot.shouldFlushEvents()&&Ot._submitPendingEvents()}catch(t){console.warn("_setPendingEvent",t)}},sendEvent(e){dr.timestamp=Date.now(),dr.data=e;const t=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(de.state.features?.analytics||t.includes(e.event))&&Ot._setPendingEvent(dr),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){dr.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(t=>t.props.event!=="WALLET_IMPRESSION_V2")}catch{return e}},_submitPendingEvents(){if(dr.lastFlush=Date.now(),!(dr.pendingEvents.length===0&&dr.walletImpressions.length===0))try{const e=Ot._transformPendingEventsForBatch(dr.pendingEvents);dr.walletImpressions.length&&e.push({eventId:Re.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...dr.walletImpressions]}}),BQ.sendBeacon({path:"/batch",params:Ot.getSdkProperties(),body:e}),dr.reportedErrors.FORBIDDEN=!1,dr.pendingEvents=[],dr.walletImpressions=[]}catch{dr.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){dr.subscribedToVisibilityChange||typeof document>"u"||(dr.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&Ot._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{Ot._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{Ot._submitPendingEvents()}),setInterval(()=>{Ot._submitPendingEvents()},f8))}},zQ=Re.getApiUrl(),Is=new Bg({baseUrl:zQ,clientId:null}),HQ=40,h8=4,qQ=20,Ct=Jn({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),Le={state:Ct,subscribeKey(e,t){return us(Ct,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=de.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return de.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${Is.baseUrl}/getWalletImage/${e}`,n=await Is.getBlob({path:t,params:Le._getSdkProperties()});ga.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${Is.baseUrl}/public/getAssetImage/${e}`,n=await Is.getBlob({path:t,params:Le._getSdkProperties()});ga.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${Is.baseUrl}/public/getAssetImage/${e}`,n=await Is.getBlob({path:t,params:Le._getSdkProperties()});ga.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${Is.baseUrl}/public/getCurrencyImage/${e}`,n=await Is.getBlob({path:t,params:Le._getSdkProperties()});ga.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${Is.baseUrl}/public/getTokenImage/${e}`,n=await Is.getBlob({path:t,params:Le._getSdkProperties()});ga.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){const t=e.length,n=Re.isMobile()?e?.filter(s=>s.mobile_link||s.webapp_link?!0:Object.values(ca).map(a=>a.id).includes(s.id)):e,r=t-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await Is.get({path:"/appkit/v1/config",params:Le._getSdkProperties()})).features},async fetchUsage(){try{const e=await Is.get({path:"/appkit/v1/project-limits",params:Le._getSdkProperties()}),{tier:t,isAboveMauLimit:n,isAboveRpcLimit:r}=e.planLimits,s=t==="starter",i=n||r;Le.state.plan={tier:t,hasExceededUsageLimit:s&&i,limits:{isAboveRpcLimit:r,isAboveMauLimit:n}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await Is.get({path:"/projects/v1/origins",params:Le._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===ue.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=ue.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const t=V.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!V9.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>Le._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:e}=ve.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>Le._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>Le._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>Le._fetchTokenImage(t)))},async fetchWallets(e){const t=e.exclude??[];Le._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(ca).map(a=>a.id));const r=await Is.get({path:"/getWallets",params:{...Le._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:s,mobileFilteredOutWalletsLength:i}=Le._filterWalletsByPlatform(r?.data);return{data:s||[],count:r?.count,mobileFilteredOutWalletsLength:i}},async prefetchWalletRanks(){const e=ve.state.connectors;if(!e?.length)return;const t={page:1,entries:20,badge:"certified"};if(t.names=e.map(s=>s.name).join(","),V.state.activeChain===ue.CHAIN.EVM){const s=[...e.flatMap(i=>i.connectors?.map(a=>a.info?.rdns)||[]),...e.map(i=>i.info?.rdns)].filter(i=>typeof i=="string"&&i.length>0);s.length&&(t.rdns=s.join(","))}const{data:n}=await Le.fetchWallets(t);Ct.explorerWallets=n,ve.extendConnectorsWithExplorerWallets(n);const r=V.getRequestedCaipNetworkIds().join(",");Ct.explorerFilteredWallets=n.filter(s=>s.chains?.some(i=>r.includes(i)))},async fetchFeaturedWallets(){const{featuredWalletIds:e}=de.state;if(e?.length){const t={...Le._getSdkProperties(),page:1,entries:e?.length??h8,include:e},{data:n}=await Le.fetchWallets(t),r=[...n].sort((i,a)=>e.indexOf(i.id)-e.indexOf(a.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>Le._fetchWalletImage(i))),Ct.featured=r,Ct.allFeatured=r}},async fetchRecommendedWallets(){try{Ct.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=de.state,r=[...t??[],...n??[]].filter(Boolean),s=V.getRequestedCaipNetworkIds().join(","),i={page:1,entries:h8,include:e,exclude:r,chains:s},{data:a,count:c}=await Le.fetchWallets(i),u=ye.getRecentWallets(),d=a.map(m=>m.image_id).filter(Boolean),h=u.map(m=>m.image_id).filter(Boolean);await Promise.allSettled([...d,...h].map(m=>Le._fetchWalletImage(m))),Ct.recommended=a,Ct.allRecommended=a,Ct.count=c??0}catch{}finally{Ct.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=de.state,s=V.getRequestedCaipNetworkIds().join(","),i=[...Ct.recommended.map(({id:m})=>m),...n??[],...r??[]].filter(Boolean),a={page:e,entries:HQ,include:t,exclude:i,chains:s},{data:c,count:u,mobileFilteredOutWalletsLength:d}=await Le.fetchWallets(a);Ct.mobileFilteredOutWalletsLength=d+(Ct.mobileFilteredOutWalletsLength??0);const h=c.slice(0,qQ).map(m=>m.image_id).filter(Boolean);await Promise.allSettled(h.map(m=>Le._fetchWalletImage(m))),Ct.wallets=Re.uniqueBy([...Ct.wallets,...Le._filterOutExtensions(c)],"id").filter(m=>m.chains?.some(g=>s.includes(g))),Ct.count=u>Ct.count?u:Ct.count,Ct.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await Le.fetchWallets(t);n&&n.forEach(r=>{Ct.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=de.state,s=V.getRequestedCaipNetworkIds().join(",");Ct.search=[];const i={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:s},{data:a}=await Le.fetchWallets(i);Ot.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const c=a.map(u=>u.image_id).filter(Boolean);await Promise.allSettled([...c.map(u=>Le._fetchWalletImage(u)),Re.wait(300)]),Ct.search=Le._filterOutExtensions(a)},initPromise(e,t){const n=Ct.promises[e];return n||(Ct.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:s=!0}={}){const i=[e&&Le.initPromise("connectorImages",Le.fetchConnectorImages),t&&Le.initPromise("featuredWallets",Le.fetchFeaturedWallets),n&&Le.initPromise("recommendedWallets",Le.fetchRecommendedWallets),r&&Le.initPromise("networkImages",Le.fetchNetworkImages),s&&Le.initPromise("walletRanks",Le.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){de.state.features?.analytics&&Le.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await Is.get({path:"/getAnalyticsConfig",params:Le._getSdkProperties()});de.setFeatures({analytics:e})}catch{de.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){Ct.featured=Ct.allFeatured,Ct.recommended=Ct.allRecommended;return}const t=V.getRequestedCaipNetworkIds().join(",");Ct.featured=Ct.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),Ct.recommended=Ct.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),Ct.filteredWallets=Ct.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){Ct.filteredWallets=[]},setFilterByNamespace(e){if(!e){Ct.featured=Ct.allFeatured,Ct.recommended=Ct.allRecommended;return}const t=V.getRequestedCaipNetworkIds().join(",");Ct.featured=Ct.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),Ct.recommended=Ct.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),Ct.filteredWallets=Ct.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}},WQ=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],Nn=Jn({view:"Connect",history:["Connect"],transactionStack:[]}),VQ={state:Nn,subscribeKey(e,t){return us(Nn,e,t)},pushTransactionStack(e){Nn.transactionStack.push(e)},popTransactionStack(e){const t=Nn.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:s}=t;switch(e){case"success":n?.();break;case"error":r?.(),ut.goBack();break;case"cancel":s?.(),ut.goBack();break}},push(e,t){let n=e,r=t;Le.state.plan.hasExceededUsageLimit&&WQ.includes(e)&&(n="UsageExceeded",r=void 0),n!==Nn.view&&(Nn.view=n,Nn.history.push(n),Nn.data=r)},reset(e,t){Nn.view=e,Nn.history=[e],Nn.data=t},replace(e,t){Nn.history.at(-1)===e||(Nn.view=e,Nn.history[Nn.history.length-1]=e,Nn.data=t)},goBack(){const e=V.state.activeCaipAddress,t=ut.state.view==="ConnectingFarcaster",n=!e&&t;if(Nn.history.length>1){Nn.history.pop();const[r]=Nn.history.slice(-1);r&&(e&&r==="Connect"?Nn.view="Account":Nn.view=r)}else nn.close();Nn.data?.wallet&&(Nn.data.wallet=void 0),Nn.data?.redirectView&&(Nn.data.redirectView=void 0),setTimeout(()=>{if(n){V.setAccountProp("farcasterUrl",void 0,V.state.activeChain);const r=ve.getAuthConnector();r?.provider?.reload();const s=_m(de.state);r?.provider?.syncDappData?.({metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(e){if(Nn.history.length>1){Nn.history=Nn.history.slice(0,e+1);const[t]=Nn.history.slice(-1);t&&(Nn.view=t)}},goBackOrCloseModal(){ut.state.history.length>1?ut.goBack():nn.close()}},ut=Ta(VQ),sc=Jn({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),p6={state:sc,subscribe(e){return ls(sc,()=>e(sc))},setThemeMode(e){sc.themeMode=e;try{const t=ve.getAuthConnector();if(t){const n=p6.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:Sm(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){sc.themeVariables={...sc.themeVariables,...e};try{const t=ve.getAuthConnector();if(t){const n=p6.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:Sm(sc.themeVariables,sc.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return _m(sc)}},si=Ta(p6),G9=Object.fromEntries(C9.map(e=>[e,void 0])),GQ=Object.fromEntries(C9.map(e=>[e,!0])),cn=Jn({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:G9,filterByNamespaceMap:GQ}),KQ={state:cn,subscribe(e){return ls(cn,()=>{e(cn)})},subscribeKey(e,t){return us(cn,e,t)},initialize(e){e.forEach(t=>{const n=ye.getConnectedConnectorId(t);n&&ve.setConnectorId(n,t)})},setActiveConnector(e){e&&(cn.activeConnector=Am(e))},setConnectors(e){e.filter(s=>!cn.allConnectors.some(i=>i.id===s.id&&ve.getConnectorName(i.name)===ve.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&cn.allConnectors.push(Am(s))});const n=ve.getEnabledNamespaces(),r=ve.getEnabledConnectors(n);cn.connectors=ve.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(cn.filterByNamespaceMap).forEach(t=>{cn.filterByNamespaceMap[t]=!1}),e.forEach(t=>{cn.filterByNamespaceMap[t]=!0}),ve.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){cn.filterByNamespaceMap[e]=t,ve.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=ve.getEnabledNamespaces(),t=ve.getEnabledConnectors(e),n=ve.areAllNamespacesEnabled();cn.connectors=ve.mergeMultiChainConnectors(t),n?Le.clearFilterByNamespaces():Le.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(cn.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return cn.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(cn.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=ve.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const s=r[0],i=s?.id===ue.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:s?.id||""}):s&&n.push(s)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,s=ve.getConnectorName(r);if(!s)return;const i=t.get(s)||[];i.find(c=>c.chain===n.chain)||i.push(n),t.set(s,i)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===ue.CONNECTOR_ID.AUTH){const t=e,n=_m(de.state),r=si.getSnapshot().themeMode,s=si.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Sm(s,r)}),ve.setConnectors([e])}else ve.setConnectors([e])},getAuthConnector(e){const t=e||V.state.activeChain,n=cn.connectors.find(r=>r.id===ue.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(s=>s.chain===t):n},getAnnouncedConnectorRdns(){return cn.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return cn.allConnectors.find(t=>t.id===e)},getConnector({id:e,namespace:t}){const n=t||V.state.activeChain;return cn.allConnectors.filter(i=>i.chain===n).find(i=>i.id===e||i.explorerId===e)},syncIfAuthConnector(e){if(e.id!=="AUTH")return;const t=e,n=_m(de.state),r=si.getSnapshot().themeMode,s=si.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Sm(s,r)})},getConnectorsByNamespace(e){const t=cn.allConnectors.filter(n=>n.chain===e);return ve.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return V.checkIfSmartAccountEnabled()&&Fi(e)===wr.ACCOUNT_TYPES.EOA},selectWalletConnector(e){const t=ut.state.data?.redirectView,n=V.state.activeChain,r=n?ve.getConnector({id:e.id,namespace:n}):void 0;xQ.handleMobileDeeplinkRedirect(r?.explorerId||e.id,V.state.activeChain),r?ut.push("ConnectingExternal",{connector:r,wallet:e,redirectView:t}):ut.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors(e){return e?ve.getConnectorsByNamespace(e):ve.mergeMultiChainConnectors(cn.allConnectors)},setFilterByNamespace(e){cn.filterByNamespace=e,cn.connectors=ve.getConnectors(e),Le.setFilterByNamespace(e)},setConnectorId(e,t){e&&(cn.activeConnectorIds={...cn.activeConnectorIds,[t]:e},ye.setConnectedConnectorId(t,e))},removeConnectorId(e){cn.activeConnectorIds={...cn.activeConnectorIds,[e]:void 0},ye.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return cn.activeConnectorIds[e]},isConnected(e){return e?!!cn.activeConnectorIds[e]:Object.values(cn.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){cn.activeConnectorIds={...G9}},extendConnectorsWithExplorerWallets(e){cn.allConnectors.forEach(r=>{const s=e.find(i=>i.id===r.id||i.rdns&&i.rdns===r.info?.rdns);s&&(r.explorerWallet=s)});const t=ve.getEnabledNamespaces(),n=ve.getEnabledConnectors(t);cn.connectors=ve.mergeMultiChainConnectors(n)}},ve=Ta(KQ),YQ=1e3,v0={checkNamespaceConnectorId(e,t){return ve.getConnectorId(e)===t},isSocialProvider(e){return Vt.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((a,c)=>{if(e&&ve.setActiveConnector(t),s?.(Re.isMobile()&&e),r){const d=nn.subscribeKey("open",h=>{h||(ut.state.view!==r&&ut.replace(r),d(),c(new Error("Modal closed")))})}const u=V.subscribeKey("activeCaipAddress",d=>{d&&(i?.(),n&&nn.close(),u(),a(zr.parseCaipAddress(d)))})})},connectExternal(e){return new Promise((t,n)=>{const r=V.subscribeKey("activeCaipAddress",s=>{s&&(nn.close(),r(),t(zr.parseCaipAddress(s)))});Ie.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let i,a=!1,c=null;const u=t||V.state.activeChain,d=V.subscribeKey("activeCaipAddress",h=>{h&&(n&&nn.close(),d())});return new Promise((h,m)=>{async function g(v){if(v.data?.resultUri)if(v.origin===ue.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",g,!1);try{const E=ve.getAuthConnector(u);if(E&&!a){i&&i.close(),a=!0;const A=v.data.resultUri;Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),ye.setConnectedSocialProvider(e),await Ie.connectExternal({id:E.id,type:E.type,socialUri:A},E.chain);const R=V.state.activeCaipAddress;if(!R){m(new Error("Failed to connect"));return}h(zr.parseCaipAddress(R)),Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(E){Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:Re.parseError(E)}}),m(new Error("Failed to connect"))}}else Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}async function w(){if(Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),e==="farcaster"){r?.();const v=nn.subscribeKey("open",A=>{!A&&e==="farcaster"&&(m(new Error("Popup closed")),s?.(),v())}),E=ve.getAuthConnector();if(E&&!V.getAccountData(u)?.farcasterUrl)try{const{url:R}=await E.provider.getFarcasterUri();V.setAccountProp("farcasterUrl",R,u)}catch{m(new Error("Failed to connect to farcaster"))}}else{const v=ve.getAuthConnector();c=Re.returnOpenHref(`${ue.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(v){const{uri:E}=await v.provider.getSocialRedirectUri({provider:e});if(c&&E){c.location.href=E,i=c;const A=setInterval(()=>{i?.closed&&!a&&(m(new Error("Popup closed")),clearInterval(A))},1e3);window.addEventListener("message",g,!1)}else c?.close(),m(new Error("Failed to initiate social connection"))}}catch{m(new Error("Failed to initiate social connection")),c?.close()}}}w()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n?.(),t){const c=nn.subscribeKey("open",u=>{u||(ut.state.view!==t&&ut.replace(t),c(),i(new Error("Modal closed")))})}const a=V.subscribeKey("activeCaipAddress",c=>{c&&(r?.(),e&&nn.close(),a(),s(zr.parseCaipAddress(c)))})})},async updateEmail(){const e=ye.getConnectedConnectorId(V.state.activeChain),t=ve.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==ue.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await nn.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const i=setInterval(()=>{const c=t.provider.getEmail()??"";c!==n&&(nn.close(),clearInterval(i),a(),r({email:c}))},YQ),a=nn.subscribeKey("open",c=>{c||(ut.state.view!=="Connect"&&ut.push("Connect"),clearInterval(i),a(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return V.checkIfSmartAccountEnabled()&&Fi(e)===wr.ACCOUNT_TYPES.EOA}};function K9(){const e=V.state.activeCaipNetwork?.chainNamespace||"eip155",t=V.state.activeCaipNetwork?.id||1,n=Vt.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function Fi(e){return V.getAccountData(e)?.preferredAccountType}function X0(e){return e?V.state.chains.get(e)?.networkState?.caipNetwork:V.state.activeCaipNetwork}const Ow={getConnectionStatus(e,t){const n=ve.state.activeConnectorIds[t],r=Ie.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(a=>a.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){const i=r.accounts.filter(a=>!n.some(u=>u.toLowerCase()===a.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(e,t){const n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){const t=!!de.state.remoteFeatures?.multiWallet,n=ve.state.activeConnectorIds[e],r=Ie.getConnections(e),i=(Ie.state.recentConnections.get(e)??[]).filter(c=>ve.getConnectorById(c.connectorId)),a=Ow.excludeExistingConnections([...r.map(c=>c.connectorId),...n?[n]:[]],i);return t?{connections:r,recentConnections:a}:{connections:r.filter(c=>c.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}},onConnectMobile(e){const t=Ie.state.wcUri;if(e?.mobile_link&&t)try{Ie.setWcError(!1);const{mobile_link:n,link_mode:r,name:s}=e,{redirect:i,redirectUniversalLink:a,href:c}=Re.formatNativeUrl(n,t,r),u=i,d=a,h=Re.isIframe()?"_top":"_self";Ie.setWcLinking({name:s,href:c}),Ie.setRecentWallet(e),de.state.experimental_preferUniversalLinks&&d?Re.openHref(d,h):Re.openHref(u,h)}catch(n){Ot.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:n instanceof Error?n.message:"Error parsing the deep link",uri:t,mobile_link:e.mobile_link,name:e.name}}),Ie.setWcError(!0)}}},th=Jn({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1,connectingWallet:void 0}),ji={state:th,subscribe(e){return ls(th,()=>e(th))},subscribeOpen(e){return us(th,"open",e)},set(e){Object.assign(th,{...th,...e})}},tr=Jn({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),ZQ={state:tr,subscribe(e){return ls(tr,()=>e(tr))},setLastNetworkInView(e){tr.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");tr.loading=!0;try{const t=await pt.fetchTransactions({account:e,cursor:tr.next,chainId:V.state.activeCaipNetwork?.caipNetworkId}),n=L1.filterSpamTransactions(t.data),r=L1.filterByConnectedChain(n),s=[...tr.transactions,...r];tr.loading=!1,tr.transactions=s,tr.transactionsByYear=L1.groupTransactionsByYearAndMonth(tr.transactionsByYear,r),tr.empty=s.length===0,tr.next=t.next?t.next:void 0}catch{const n=V.state.activeChain;Ot.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:de.state.projectId,cursor:tr.next,isSmartAccount:Fi(n)===wr.ACCOUNT_TYPES.SMART_ACCOUNT}}),vo.showError("Failed to fetch transactions"),tr.loading=!1,tr.empty=!0,tr.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),a=n[s]??{},u=(a[i]??[]).filter(d=>d.id!==r.id);n[s]={...a,[i]:[...u,r].sort((d,h)=>new Date(h.metadata.minedAt).getTime()-new Date(d.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers?.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){const t=V.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){tr.next=void 0},resetTransactions(){tr.transactions=[],tr.transactionsByYear={},tr.lastNetworkInView=void 0,tr.loading=!1,tr.empty=!1,tr.next=void 0}},L1=Ta(ZQ,"API_ERROR"),Xt=Jn({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,wcFetchingUri:!1,buffering:!1,status:"disconnected"});let Gu;const XQ={state:Xt,subscribe(e){return ls(Xt,()=>e(Xt))},subscribeKey(e,t){return us(Xt,e,t)},_getClient(){return Xt._client},setClient(e){Xt._client=Am(e)},initialize(e){const t=e.filter(n=>!!n.namespace).map(n=>n.namespace);Ie.syncStorageConnections(t)},syncStorageConnections(e){const t=ye.getConnections(),n=e??Array.from(V.state.chains.keys());for(const r of n){const s=t[r]??[],i=new Map(Xt.recentConnections);i.set(r,s),Xt.recentConnections=i}},getConnections(e){return e?Xt.connections.get(e)??[]:[]},hasAnyConnection(e){const t=Ie.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect({cache:e="auto"}={}){Xt.wcFetchingUri=!0;const t=Re.isTelegram()||Re.isSafari()&&Re.isIos();if(e==="always"||e==="auto"&&t){if(Gu){await Gu,Gu=void 0;return}if(!Re.isPairingExpired(Xt?.wcPairingExpiry)){const n=Xt.wcUri;Xt.wcUri=n;return}Gu=Ie._getClient()?.connectWalletConnect?.().catch(()=>{}),Ie.state.status="connecting",await Gu,Gu=void 0,Xt.wcPairingExpiry=void 0,Ie.state.status="connected"}else await Ie._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){const r=await Ie._getClient()?.connectExternal?.(e);n&&V.setActiveNamespace(t);const s=ve.state.allConnectors.find(a=>a.id===e?.id),i=e.type==="AUTH"?"email":"browser";return Ot.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:i,name:s?.name||"Unknown",view:ut.state.view,walletRank:s?.explorerWallet?.order}}),r},async reconnectExternal(e){await Ie._getClient()?.reconnectExternal?.(e);const t=e.chain||V.state.activeChain;t&&ve.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;nn.setLoading(!0,V.state.activeChain);const n=ve.getAuthConnector();n&&(V.setAccountProp("preferredAccountType",e,t),await n.provider.setPreferredAccount(e),ye.setPreferredAccountTypes(Object.entries(V.state.chains).reduce((r,[s,i])=>{const a=s,c=Fi(a);return c!==void 0&&(r[a]=c),r},{})),await Ie.reconnectExternal(n),nn.setLoading(!1,V.state.activeChain),Ot.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:V.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return Ie._getClient()?.signMessage(e)},parseUnits(e,t){return Ie._getClient()?.parseUnits(e,t)},formatUnits(e,t){return Ie._getClient()?.formatUnits(e,t)},updateBalance(e){return Ie._getClient()?.updateBalance(e)},async sendTransaction(e){return Ie._getClient()?.sendTransaction(e)},async getCapabilities(e){return Ie._getClient()?.getCapabilities(e)},async grantPermissions(e){return Ie._getClient()?.grantPermissions(e)},async walletGetAssets(e){return Ie._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return Ie._getClient()?.estimateGas(e)},async writeContract(e){return Ie._getClient()?.writeContract(e)},async getEnsAddress(e){return Ie._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return Ie._getClient()?.getEnsAvatar(e)},checkInstalled(e){return Ie._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){Xt.wcUri=void 0,Xt.wcPairingExpiry=void 0,Xt.wcLinking=void 0,Xt.recentWallet=void 0,Xt.wcFetchingUri=!1,Xt.status="disconnected",L1.resetTransactions(),ye.deleteWalletConnectDeepLink(),ye.deleteRecentWallet(),ji.set({connectingWallet:void 0})},resetUri(){Xt.wcUri=void 0,Xt.wcPairingExpiry=void 0,Gu=void 0,Xt.wcFetchingUri=!1,ji.set({connectingWallet:void 0})},finalizeWcConnection(e){const{wcLinking:t,recentWallet:n}=Ie.state;t&&ye.setWalletConnectDeepLink(t),n&&ye.setAppKitRecent(n),e&&Ot.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:ut.state.data?.wallet?.name||"Unknown",view:ut.state.view,walletRank:n?.order}})},setWcBasic(e){Xt.wcBasic=e},setUri(e){Xt.wcUri=e,Xt.wcFetchingUri=!1,Xt.wcPairingExpiry=Re.getPairingExpiry()},setWcLinking(e){Xt.wcLinking=e},setWcError(e){Xt.wcError=e,Xt.wcFetchingUri=!1,Xt.buffering=!1},setRecentWallet(e){Xt.recentWallet=e},setBuffering(e){Xt.buffering=e},setStatus(e){Xt.status=e},setIsSwitchingConnection(e){Xt.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await Ie._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new Iw("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},async disconnectConnector({id:e,namespace:t}){try{await Ie._getClient()?.disconnectConnector({id:e,namespace:t})}catch(n){throw new Iw("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(e,t){const n=new Map(Xt.connections);n.set(t,e),Xt.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){const r=V.getAccountData(t)?.user?.accounts?.find(i=>i.type==="smartAccount"),s=r&&r.address.toLowerCase()===e.toLowerCase()&&v0.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await Ie.setPreferredAccountType(s,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const r=ve.getConnectorById(e.connectorId),s=e.connectorId===ue.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(s)n&&await Ie.handleAuthAccountSwitch({address:n,namespace:t});else return(await Ie.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){const s=ve.getConnectorById(e.connectorId),i=e.auth?.name?.toLowerCase(),a=e.connectorId===ue.CONNECTOR_ID.AUTH,c=e.connectorId===ue.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${e.connectorId}`);let u;if(a)if(i&&v0.isSocialProvider(i)){const{address:d}=await v0.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){nn.open({view:"ConnectingFarcaster"})},onConnect(){ut.replace("ProfileWallets")}});u=d}else{const{address:d}=await v0.connectEmail({closeModalOnConnect:r,onOpen(){nn.open({view:"EmailLogin"})},onConnect(){ut.replace("ProfileWallets")}});u=d}else if(c){const{address:d}=await v0.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){const m=h?"AllWallets":"ConnectingWalletConnect";nn.state.open?ut.push(m):nn.open({view:m})},onConnect(){ut.replace("ProfileWallets")}});u=d}else{const d=await Ie.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);d&&(u=d.address)}return a&&n&&await Ie.handleAuthAccountSwitch({address:n,namespace:t}),u},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:s}){let i;const a=V.getAccountData(n)?.caipAddress;if(a){const{address:u}=zr.parseCaipAddress(a);i=u}const c=Ow.getConnectionStatus(e,n);switch(c){case"connected":case"active":{const u=await Ie.handleActiveConnection({connection:e,namespace:n,address:t});if(i&&u){const d=u.toLowerCase()!==i.toLowerCase();s?.({address:u,namespace:n,hasSwitchedAccount:d,hasSwitchedWallet:c==="active"})}break}case"disconnected":{const u=await Ie.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});u&&s?.({address:u,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${c}`)}}},Ie=Ta(XQ),EA={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return DE(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}};let vA;async function p8(){if(!vA){const{createPublicClient:e,http:t,defineChain:n}=await ir(async()=>{const{createPublicClient:r,http:s,defineChain:i}=await import("./index-BqVWUJ0_.js");return{createPublicClient:r,http:s,defineChain:i}},__vite__mapDeps([0,1,2]));vA={createPublicClient:e,http:t,defineChain:n}}return vA}const m6={getBlockchainApiRpcUrl(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()},async getViemChain(e){const{defineChain:t}=await p8(),{chainId:n}=zr.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(n)})},async createViemPublicClient(e){const{createPublicClient:t,http:n}=await p8(),r=de.state.projectId,s=await m6.getViemChain(e);if(!s)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:s,transport:n(m6.getBlockchainApiRpcUrl(e.caipNetworkId,r))})}},k2={async getMyTokensWithBalance(e){const t=V.getAccountData()?.address,n=V.state.activeCaipNetwork,r=ve.getConnectorId("eip155")===ue.CONNECTOR_ID.AUTH;if(!t||!n)return[];const s=`${n.caipNetworkId}:${t}`,i=ye.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace===ue.CHAIN.EVM&&r){const c=await this.getEIP155Balances(t,n);if(c)return this.filterLowQualityTokens(c)}const a=await pt.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(a.balances)},async getEIP155Balances(e,t){try{const n=EA.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await Ie.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;const s=await Ie.walletGetAssets({account:e,chainFilter:[n]});if(!EA.isWalletGetAssetsResponse(s))return null;const a=(s[n]||[]).map(c=>EA.createBalance(c,t.caipNetworkId));return ye.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:a},timestamp:Date.now()}),a}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:n}){const r=await m6.createViemPublicClient(n),{address:s}=zr.parseCaipAddress(e),[{result:i},{result:a},{result:c},{result:u}]=await r.multicall({contracts:[{address:t,functionName:"name",args:[],abi:Rb},{address:t,functionName:"symbol",args:[],abi:Rb},{address:t,functionName:"balanceOf",args:[s],abi:Rb},{address:t,functionName:"decimals",args:[],abi:Rb}]});return{name:i,symbol:a,decimals:u,balance:c&&u?DE(c,u):"0"}}},CA={adapters:{}},Y9={state:CA,initialize(e){CA.adapters={...e}},get(e){return CA.adapters[e]}},Rw={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},Gs=Jn({providers:{...Rw},providerIds:{...Rw}}),qn={state:Gs,subscribeKey(e,t){return us(Gs,e,t)},subscribe(e){return ls(Gs,()=>{e(Gs)})},subscribeProviders(e){return ls(Gs.providers,()=>e(Gs.providers))},setProvider(e,t){e&&t&&(Gs.providers[e]=Am(t))},getProvider(e){if(e)return Gs.providers[e]},setProviderId(e,t){t&&(Gs.providerIds[e]=t)},getProviderId(e){if(e)return Gs.providerIds[e]},reset(){Gs.providers={...Rw},Gs.providerIds={...Rw}},resetChain(e){Gs.providers[e]=void 0,Gs.providerIds[e]=void 0}},JQ={async getTokenList(e){return(await pt.fetchSwapTokens({chainId:e}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const e=V.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":const t=(await Ie?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await pt.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await pt.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(s?.allowance&&n&&r){const i=Ie.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(e){const t=await k2.getMyTokensWithBalance(e);return V.setAccountProp("tokenBalance",t,V.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:K9(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]},async handleSwapError(e){try{const t=e?.cause;return t?.json&&(await t.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},ln=Jn({tokenBalances:[],loading:!1}),QQ={state:ln,subscribe(e){return ls(ln,()=>e(ln))},subscribeKey(e,t){return us(ln,e,t)},setToken(e){e&&(ln.token=Am(e))},setTokenAmount(e){ln.sendTokenAmount=e},setReceiverAddress(e){ln.receiverAddress=e},setReceiverProfileImageUrl(e){ln.receiverProfileImageUrl=e},setReceiverProfileName(e){ln.receiverProfileName=e},setNetworkBalanceInUsd(e){ln.networkBalanceInUSD=e},setLoading(e){ln.loading=e},getSdkEventProperties(e){return{message:Re.parseError(e),isSmartAccount:Fi(V.state.activeChain)===wr.ACCOUNT_TYPES.SMART_ACCOUNT,token:ln.token?.symbol||"",amount:ln.sendTokenAmount??0,network:V.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(Ft.setLoading(!0),V.state.activeCaipNetwork?.chainNamespace){case"eip155":await Ft.sendEvmToken();return;case"solana":await Ft.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw Oc.isUserRejectedRequestError(e)?new S9(e):e}finally{Ft.setLoading(!1)}},async sendEvmToken(){const e=V.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=Fi(e);if(!Ft.state.sendTokenAmount||!Ft.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Ft.state.token)throw new Error("A token is required");if(Ft.state.token?.address){Ot.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===wr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ft.state.token.address,amount:Ft.state.sendTokenAmount,network:V.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await Ft.sendERC20Token({receiverAddress:Ft.state.receiverAddress,tokenAddress:Ft.state.token.address,sendTokenAmount:Ft.state.sendTokenAmount,decimals:Ft.state.token.quantity.decimals});n&&(ln.hash=n)}else{Ot.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===wr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ft.state.token.symbol||"",amount:Ft.state.sendTokenAmount,network:V.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await Ft.sendNativeToken({receiverAddress:Ft.state.receiverAddress,sendTokenAmount:Ft.state.sendTokenAmount,decimals:Ft.state.token.quantity.decimals});n&&(ln.hash=n)}},async fetchTokenBalance(e){ln.loading=!0;const t=V.state.activeChain,n=V.state.activeCaipNetwork?.caipNetworkId,r=V.state.activeCaipNetwork?.chainNamespace,s=V.getAccountData(t)?.caipAddress??V.state.activeCaipAddress,i=s?Re.getPlainAddress(s):void 0;if(ln.lastRetry&&!Re.isAllowedRetry(ln.lastRetry,30*Vt.ONE_SEC_MS))return ln.loading=!1,[];try{if(i&&n&&r){const a=await k2.getMyTokensWithBalance();return ln.tokenBalances=a,ln.lastRetry=void 0,a}}catch(a){ln.lastRetry=Date.now(),e?.(a),vo.showError("Token Balance Unavailable")}finally{ln.loading=!1}return[]},fetchNetworkBalance(){if(ln.tokenBalances.length===0)return;const e=JQ.mapBalancesToSwapTokens(ln.tokenBalances);if(!e)return;const t=e.find(n=>n.address===K9());t&&(ln.networkBalanceInUSD=t?vZ.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){ut.pushTransactionStack({});const t=e.receiverAddress,n=V.getAccountData()?.address,r=Ie.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),i=await Ie.sendTransaction({chainNamespace:ue.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)});return Ot.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Fi("eip155")===wr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ft.state.token?.symbol||"",amount:e.sendTokenAmount,network:V.state.activeCaipNetwork?.caipNetworkId||"",hash:i||""}}),Ie._getClient()?.updateBalance("eip155"),Ft.resetSend(),{hash:i}},async sendERC20Token(e){ut.pushTransactionStack({onSuccess(){ut.replace("Account")}});const t=Ie.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),n=V.getAccountData()?.address;if(n&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const r=Re.getPlainAddress(e.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");const s=await Ie.writeContract({fromAddress:n,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:SZ.getERC20Abi(r),chainNamespace:ue.CHAIN.EVM});return Ot.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Fi("eip155")===wr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ft.state.token?.symbol||"",amount:e.sendTokenAmount,network:V.state.activeCaipNetwork?.caipNetworkId||"",hash:s||""}}),Ft.resetSend(),{hash:s}}return{hash:void 0}},async sendSolanaToken(){if(!Ft.state.sendTokenAmount||!Ft.state.receiverAddress)throw new Error("An amount and receiver address are required");ut.pushTransactionStack({onSuccess(){ut.replace("Account")}});let e;Ft.state.token&&Ft.state.token.address!==Vt.SOLANA_NATIVE_TOKEN_ADDRESS&&(Re.isCaipAddress(Ft.state.token.address)?e=Re.getPlainAddress(Ft.state.token.address):e=Ft.state.token.address);const t=await Ie.sendTransaction({chainNamespace:"solana",tokenMint:e,to:Ft.state.receiverAddress,value:Ft.state.sendTokenAmount});t&&(ln.hash=t),Ie._getClient()?.updateBalance("solana"),Ot.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:Ft.state.token?.symbol||"",amount:Ft.state.sendTokenAmount,network:V.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),Ft.resetSend()},resetSend(){ln.token=void 0,ln.sendTokenAmount=void 0,ln.receiverAddress=void 0,ln.receiverProfileImageUrl=void 0,ln.receiverProfileName=void 0,ln.loading=!1,ln.tokenBalances=[]}},Ft=Ta(QQ),_A={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},zb={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},xe=Jn({chains:fZ(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),Z9={state:xe,subscribe(e){return ls(xe,()=>{e(xe)})},subscribeKey(e,t){return us(xe,e,t)},subscribeAccountStateProp(e,t,n){const r=n||xe.activeChain;return r?us(xe.chains.get(r)?.accountState||{},e,t):()=>{}},subscribeChainProp(e,t,n){let r;return ls(xe.chains,()=>{const s=n||xe.activeChain;if(s){const i=xe.chains.get(s)?.[e];r!==i&&(r=i,t(i))}})},initialize(e,t,n){const{chainId:r,namespace:s}=ye.getActiveNetworkProps(),i=t?.find(h=>h.id.toString()===r?.toString()),c=e.find(h=>h?.namespace===s)||e?.[0],u=e.map(h=>h.namespace).filter(h=>h!==void 0),d=de.state.enableEmbedded?new Set([...u]):new Set([...t?.map(h=>h.chainNamespace)??[]]);(e?.length===0||!c)&&(xe.noAdapters=!0),xe.noAdapters||(xe.activeChain=c?.namespace,xe.activeCaipNetwork=i,V.setChainNetworkData(c?.namespace,{caipNetwork:i}),xe.activeChain&&ji.set({activeChain:c?.namespace})),d.forEach(h=>{const m=t?.filter(v=>v.chainNamespace===h),g=ye.getPreferredAccountTypes()||{},w={...de.state.defaultAccountTypes,...g};V.state.chains.set(h,{namespace:h,networkState:Jn({...zb,caipNetwork:m?.[0]}),accountState:Jn({..._A,preferredAccountType:w[h]}),caipNetworks:m??[],...n}),V.setRequestedCaipNetworks(m??[],h)})},removeAdapter(e){if(xe.activeChain===e){const t=Array.from(xe.chains.entries()).find(([n])=>n!==e);if(t){const n=t[1]?.caipNetworks?.[0];n&&V.setActiveCaipNetwork(n)}}xe.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},n){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");xe.chains.set(e.namespace,{namespace:e.namespace,networkState:{...zb,caipNetwork:n[0]},accountState:{..._A},caipNetworks:n,connectionControllerClient:t}),V.setRequestedCaipNetworks(n?.filter(r=>r.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){const t=xe.chains.get(e.chainNamespace);if(t){const n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),xe.chains.set(e.chainNamespace,{...t,caipNetworks:n}),V.setRequestedCaipNetworks(n,e.chainNamespace),ve.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const n=xe.chains.get(e);if(n){const r=xe.activeCaipNetwork?.id===t,s=[...n.caipNetworks?.filter(i=>i.id!==t)||[]];r&&n?.caipNetworks?.[0]&&V.setActiveCaipNetwork(n.caipNetworks[0]),xe.chains.set(e,{...n,caipNetworks:s}),V.setRequestedCaipNetworks(s||[],e),s.length===0&&ve.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=xe.chains.get(e);n&&(n.networkState={...n.networkState||zb,...t},xe.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=xe.chains.get(e);if(r){const s={...r.accountState||_A,...t};xe.chains.set(e,{...r,accountState:s}),(xe.chains.size===1||xe.activeChain===e)&&t.caipAddress&&(xe.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;const n=xe.chains.get(e);if(n){const r={...n.networkState||zb,...t};xe.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){V.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){xe.activeChain=e;const t=e?xe.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(xe.activeCaipAddress=t?.accountState?.caipAddress,xe.activeCaipNetwork=n,V.setChainNetworkData(e,{caipNetwork:n}),ye.setActiveCaipNetworkId(n?.caipNetworkId),ji.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;const t=xe.activeChain===e.chainNamespace;t||V.setIsSwitchingNamespace(!0);const n=xe.chains.get(e.chainNamespace);xe.activeChain=e.chainNamespace,xe.activeCaipNetwork=e,V.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=n?.accountState?.address;if(r)xe.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(t&&xe.activeCaipAddress){const{address:i}=zr.parseCaipAddress(xe.activeCaipAddress);r=i,xe.activeCaipAddress=`${e.caipNetworkId}:${r}`}else xe.activeCaipAddress=void 0;V.setChainAccountData(e.chainNamespace,{address:r,caipAddress:xe.activeCaipAddress}),Ft.resetSend(),ji.set({activeChain:xe.activeChain,selectedNetworkId:xe.activeCaipNetwork?.caipNetworkId}),ye.setActiveCaipNetworkId(e.caipNetworkId),!V.checkIfSupportedNetwork(e.chainNamespace)&&de.state.enableNetworkSwitch&&!de.state.allowUnsupportedChain&&!Ie.state.wcBasic&&V.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=xe.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==V.state.activeChain,n=V.getNetworkData(e)?.caipNetwork,r=V.getCaipNetworkByNamespace(e,n?.id);t&&r&&await V.switchActiveNetwork(r)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){const n=V.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=qn.getProviderId(xe.activeChain)==="AUTH",s=V.getAccountData(n)?.address,i=ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(s&&e.chainNamespace===n||r&&i){const a=Y9.get(e.chainNamespace);if(!a)throw new Error("Adapter not found");await a.switchNetwork({caipNetwork:e})}V.setActiveCaipNetwork(e)}catch(a){if(t)throw a}Ot.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){const t=e||xe.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=xe.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){const n=xe.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=xe.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return Re.sortRequestedNetworks(n,r).filter(a=>a?.id)},getAllRequestedCaipNetworks(){const e=[];return xe.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=V.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){V.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=V.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));ve.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const e=[];return xe.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=V.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?xe.chains.get(e)?.networkState?.caipNetwork:xe.activeCaipNetwork},getActiveCaipAddress(){return xe.activeCaipAddress},getApprovedCaipNetworkIds(e){return xe.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){V.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){const n=t||xe.activeCaipNetwork?.caipNetworkId,r=V.getRequestedCaipNetworks(e);return r.length?r?.some(s=>s.caipNetworkId===n):!0},checkIfSupportedChainId(e){return xe.activeChain?V.getRequestedCaipNetworks(xe.activeChain)?.some(n=>n.id===e):!0},checkIfSmartAccountEnabled(){const e=v9.caipNetworkIdToNumber(xe.activeCaipNetwork?.caipNetworkId);return!xe.activeChain||!e?!1:!!(Lr.get(Ye.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(e.toString())},showUnsupportedChainUI(){nn.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=xe.activeCaipNetwork;return!!(e?.chainNamespace&&Vt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){V.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");const n=V.state.chains.get(t)?.accountState?.preferredAccountType,r=de.state.defaultAccountTypes[t];xe.activeCaipAddress=void 0,V.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),ve.removeConnectorId(t)},setIsSwitchingNamespace(e){xe.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(xe.chains.forEach(n=>{ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){const n=e[0];return t=n?xe.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){const t=e||xe.activeChain;if(t)return V.state.chains.get(t)?.accountState},getNetworkData(e){const t=e||xe.activeChain;if(t)return V.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const n=V.state.chains.get(e),r=n?.caipNetworks?.find(s=>s.id.toString()===t?.toString());return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=ve.state.filterByNamespace;return(e?[xe.chains.get(e)]:Array.from(xe.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?V.getRequestedCaipNetworks(e):V.getAllRequestedCaipNetworks()},getCaipNetworkById(e,t){return Z9.getCaipNetworks(t).find(n=>n.id.toString()===e.toString()||n.caipNetworkId.toString()===e.toString())},setLastConnectedSIWECaipNetwork(e){xe.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return xe.lastConnectedSIWECaipNetwork},async fetchTokenBalance(e){const t=V.getAccountData();if(!t)return[];const n=V.state.activeCaipNetwork?.caipNetworkId,r=V.state.activeCaipNetwork?.chainNamespace,s=V.state.activeCaipAddress,i=s?Re.getPlainAddress(s):void 0;if(V.setAccountProp("balanceLoading",!0,r),t.lastRetry&&!Re.isAllowedRetry(t.lastRetry,30*Vt.ONE_SEC_MS))return V.setAccountProp("balanceLoading",!1,r),[];try{if(i&&n&&r){const a=await k2.getMyTokensWithBalance();return V.setAccountProp("tokenBalance",a,r),V.setAccountProp("lastRetry",void 0,r),V.setAccountProp("balanceLoading",!1,r),a}}catch(a){V.setAccountProp("lastRetry",Date.now(),r),e?.(a),vo.showError("Token Balance Unavailable")}finally{V.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){const t=e.chainNamespace,n=!!V.getAccountData(t)?.caipAddress,r=V.getAllApprovedCaipNetworkIds(),s=V.getNetworkProp("supportsAllNetworks",t)!==!1,i=ve.getConnectorId(t),a=ve.getAuthConnector(),c=i===ue.CONNECTOR_ID.AUTH&&a;return!n||s||c?!1:!r?.includes(e.caipNetworkId)}},V=Ta(Z9),eee={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const n=V.state.activeCaipNetwork,r=V.state.activeChain,s=ut.state.data;if(e.id===n?.id)return;const a=!!V.getAccountData(r)?.address,c=!!V.getAccountData(e.chainNamespace)?.address,u=e.chainNamespace!==r,h=ve.getConnectorId(r)===ue.CONNECTOR_ID.AUTH,m=ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(g=>g===e.chainNamespace);t||h&&m?ut.push("SwitchNetwork",{...s,network:e}):a&&u&&!c?ut.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):ut.push("SwitchNetwork",{...s,network:e})}},Ks=Jn({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),tee={state:Ks,subscribe(e){return ls(Ks,()=>e(Ks))},subscribeKey(e,t){return us(Ks,e,t)},async open(e){const t=e?.namespace,n=V.state.activeChain,r=t&&t!==n,s=V.getAccountData(e?.namespace)?.caipAddress,i=V.state.noAdapters;if(Ie.state.wcBasic?Le.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await Le.prefetch(),ve.setFilterByNamespace(e?.namespace),nn.setLoading(!0,t),t&&r){const a=V.getNetworkData(t)?.caipNetwork||V.getRequestedCaipNetworks(t)[0];a&&(i?(await V.switchActiveNetwork(a),ut.push("ConnectingWalletConnectBasic")):eee.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0}))}else de.state.manualWCControl||i&&!s?Re.isMobile()?ut.reset("AllWallets"):ut.reset("ConnectingWalletConnectBasic"):e?.view?ut.reset(e.view,e.data):s?ut.reset("Account"):ut.reset("Connect");Ks.open=!0,ji.set({open:!0}),Ot.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const e=de.state.enableEmbedded,t=!!V.state.activeCaipAddress;Ks.open&&Ot.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),Ks.open=!1,ut.reset("Connect"),nn.clearLoading(),e?t?ut.replace("Account"):ut.push("Connect"):ji.set({open:!1}),Ie.resetUri()},setLoading(e,t){t&&Ks.loadingNamespaceMap.set(t,e),Ks.loading=e,ji.set({loading:e})},clearLoading(){Ks.loadingNamespaceMap.clear(),Ks.loading=!1,ji.set({loading:!1})},shake(){Ks.shake||(Ks.shake=!0,setTimeout(()=>{Ks.shake=!1},500))}},nn=Ta(tee),sm={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},g6={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},nee={providers:N9,selectedProvider:null,error:null,purchaseCurrency:sm,paymentCurrency:g6,purchaseCurrencies:[sm],paymentCurrencies:[],quotesLoading:!1},gn=Jn(nee),ree={state:gn,subscribe(e){return ls(gn,()=>e(gn))},subscribeKey(e,t){return us(gn,e,t)},setSelectedProvider(e){if(e&&e.name==="meld"){const t=V.state.activeChain,n=t===ue.CHAIN.SOLANA?"SOL":"USDC",r=t?V.state.chains.get(t)?.accountState?.address??"":"",s=new URL(e.url);s.searchParams.append("publicKey",TZ),s.searchParams.append("destinationCurrencyCode",n),s.searchParams.append("walletAddress",r),s.searchParams.append("externalCustomerId",de.state.projectId),gn.selectedProvider={...e,url:s.toString()}}else gn.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(t=>typeof t=="string")){const t=e,n=N9.filter(r=>t.includes(r.name));gn.providers=n}else gn.providers=[]},setPurchaseCurrency(e){gn.purchaseCurrency=e},setPaymentCurrency(e){gn.paymentCurrency=e},setPurchaseAmount(e){y6.state.purchaseAmount=e},setPaymentAmount(e){y6.state.paymentAmount=e},async getAvailableCurrencies(){const e=await pt.getOnrampOptions();gn.purchaseCurrencies=e.purchaseCurrencies,gn.paymentCurrencies=e.paymentCurrencies,gn.paymentCurrency=e.paymentCurrencies[0]||g6,gn.purchaseCurrency=e.purchaseCurrencies[0]||sm,await Le.fetchCurrencyImages(e.paymentCurrencies.map(t=>t.id)),await Le.fetchTokenImages(e.purchaseCurrencies.map(t=>t.symbol))},async getQuote(){gn.quotesLoading=!0;try{const e=await pt.getOnrampQuote({purchaseCurrency:gn.purchaseCurrency,paymentCurrency:gn.paymentCurrency,amount:gn.paymentAmount?.toString()||"0",network:gn.purchaseCurrency?.symbol});return gn.quotesLoading=!1,gn.purchaseAmount=Number(e?.purchaseAmount.amount),e}catch(e){return gn.error=e.message,gn.quotesLoading=!1,null}finally{gn.quotesLoading=!1}},resetState(){gn.selectedProvider=null,gn.error=null,gn.purchaseCurrency=sm,gn.paymentCurrency=g6,gn.purchaseCurrencies=[sm],gn.paymentCurrencies=[],gn.paymentAmount=void 0,gn.purchaseAmount=void 0,gn.quotesLoading=!1}},y6=Ta(ree);var Hb={exports:{}},m8;function see(){if(m8)return Hb.exports;m8=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(S,x,P){return Function.prototype.apply.call(S,x,P)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:n=function(S){return Object.getOwnPropertyNames(S)};function r(N){console&&console.warn&&console.warn(N)}var s=Number.isNaN||function(S){return S!==S};function i(){i.init.call(this)}Hb.exports=i,Hb.exports.once=R,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function c(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(N){if(typeof N!="number"||N<0||s(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");a=N}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function u(N){return N._maxListeners===void 0?i.defaultMaxListeners:N._maxListeners}i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(S){for(var x=[],P=1;P<arguments.length;P++)x.push(arguments[P]);var L=S==="error",j=this._events;if(j!==void 0)L=L&&j.error===void 0;else if(!L)return!1;if(L){var W;if(x.length>0&&(W=x[0]),W instanceof Error)throw W;var Y=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw Y.context=W,Y}var G=j[S];if(G===void 0)return!1;if(typeof G=="function")t(G,this,x);else for(var K=G.length,Z=v(G,K),P=0;P<K;++P)t(Z[P],this,x);return!0};function d(N,S,x,P){var L,j,W;if(c(x),j=N._events,j===void 0?(j=N._events=Object.create(null),N._eventsCount=0):(j.newListener!==void 0&&(N.emit("newListener",S,x.listener?x.listener:x),j=N._events),W=j[S]),W===void 0)W=j[S]=x,++N._eventsCount;else if(typeof W=="function"?W=j[S]=P?[x,W]:[W,x]:P?W.unshift(x):W.push(x),L=u(N),L>0&&W.length>L&&!W.warned){W.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=N,Y.type=S,Y.count=W.length,r(Y)}return N}i.prototype.addListener=function(S,x){return d(this,S,x,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(S,x){return d(this,S,x,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(N,S,x){var P={fired:!1,wrapFn:void 0,target:N,type:S,listener:x},L=h.bind(P);return L.listener=x,P.wrapFn=L,L}i.prototype.once=function(S,x){return c(x),this.on(S,m(this,S,x)),this},i.prototype.prependOnceListener=function(S,x){return c(x),this.prependListener(S,m(this,S,x)),this},i.prototype.removeListener=function(S,x){var P,L,j,W,Y;if(c(x),L=this._events,L===void 0)return this;if(P=L[S],P===void 0)return this;if(P===x||P.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete L[S],L.removeListener&&this.emit("removeListener",S,P.listener||x));else if(typeof P!="function"){for(j=-1,W=P.length-1;W>=0;W--)if(P[W]===x||P[W].listener===x){Y=P[W].listener,j=W;break}if(j<0)return this;j===0?P.shift():E(P,j),P.length===1&&(L[S]=P[0]),L.removeListener!==void 0&&this.emit("removeListener",S,Y||x)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(S){var x,P,L;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[S]),this;if(arguments.length===0){var j=Object.keys(P),W;for(L=0;L<j.length;++L)W=j[L],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=P[S],typeof x=="function")this.removeListener(S,x);else if(x!==void 0)for(L=x.length-1;L>=0;L--)this.removeListener(S,x[L]);return this};function g(N,S,x){var P=N._events;if(P===void 0)return[];var L=P[S];return L===void 0?[]:typeof L=="function"?x?[L.listener||L]:[L]:x?A(L):v(L,L.length)}i.prototype.listeners=function(S){return g(this,S,!0)},i.prototype.rawListeners=function(S){return g(this,S,!1)},i.listenerCount=function(N,S){return typeof N.listenerCount=="function"?N.listenerCount(S):w.call(N,S)},i.prototype.listenerCount=w;function w(N){var S=this._events;if(S!==void 0){var x=S[N];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(N,S){for(var x=new Array(S),P=0;P<S;++P)x[P]=N[P];return x}function E(N,S){for(;S+1<N.length;S++)N[S]=N[S+1];N.pop()}function A(N){for(var S=new Array(N.length),x=0;x<S.length;++x)S[x]=N[x].listener||N[x];return S}function R(N,S){return new Promise(function(x,P){function L(W){N.removeListener(S,j),P(W)}function j(){typeof N.removeListener=="function"&&N.removeListener("error",L),x([].slice.call(arguments))}I(N,S,j,{once:!0}),S!=="error"&&k(N,L,{once:!0})})}function k(N,S,x){typeof N.on=="function"&&I(N,"error",S,x)}function I(N,S,x,P){if(typeof N.on=="function")P.once?N.once(S,x):N.on(S,x);else if(typeof N.addEventListener=="function")N.addEventListener(S,function L(j){P.once&&N.removeEventListener(S,L),x(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return Hb.exports}var Ia=see();const P2=Wc(Ia);var AA={};var b6=function(e,t){return b6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},b6(e,t)};function iee(e,t){b6(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var w6=function(){return w6=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w6.apply(this,arguments)};function aee(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function oee(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function cee(e,t){return function(n,r){t(n,r,e)}}function lee(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function uee(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(h){try{d(r.next(h))}catch(m){a(m)}}function u(h){try{d(r.throw(h))}catch(m){a(m)}}function d(h){h.done?i(h.value):s(h.value).then(c,u)}d((r=r.apply(e,t||[])).next())})}function dee(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],s=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function fee(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function hee(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function E6(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function X9(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function pee(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(X9(arguments[t]));return e}function mee(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,s++)r[s]=i[a];return r}function Fm(e){return this instanceof Fm?(this.v=e,this):new Fm(e)}function gee(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(g){r[g]&&(s[g]=function(w){return new Promise(function(v,E){i.push([g,w,v,E])>1||c(g,w)})})}function c(g,w){try{u(r[g](w))}catch(v){m(i[0][3],v)}}function u(g){g.value instanceof Fm?Promise.resolve(g.value.v).then(d,h):m(i[0][2],g)}function d(g){c("next",g)}function h(g){c("throw",g)}function m(g,w){g(w),i.shift(),i.length&&c(i[0][0],i[0][1])}}function yee(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(a){return(n=!n)?{value:Fm(e[s](a)),done:s==="return"}:i?i(a):a}:i}}function bee(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof E6=="function"?E6(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(c,u){a=e[i](a),s(c,u,a.done,a.value)})}}function s(i,a,c,u){Promise.resolve(u).then(function(d){i({value:d,done:c})},a)}}function wee(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Eee(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function vee(e){return e&&e.__esModule?e:{default:e}}function Cee(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _ee(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const Aee=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return w6},__asyncDelegator:yee,__asyncGenerator:gee,__asyncValues:bee,__await:Fm,__awaiter:uee,__classPrivateFieldGet:Cee,__classPrivateFieldSet:_ee,__createBinding:fee,__decorate:oee,__exportStar:hee,__extends:iee,__generator:dee,__importDefault:vee,__importStar:Eee,__makeTemplateObject:wee,__metadata:lee,__param:cee,__read:X9,__rest:aee,__spread:pee,__spreadArrays:mee,__values:E6},Symbol.toStringTag,{value:"Module"})),Fg=d$(Aee);var SA={},C0={},g8;function See(){if(g8)return C0;g8=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return C0.delay=e,C0}var Ku={},NA={},Yu={},y8;function Nee(){return y8||(y8=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.ONE_THOUSAND=Yu.ONE_HUNDRED=void 0,Yu.ONE_HUNDRED=100,Yu.ONE_THOUSAND=1e3),Yu}var TA={},b8;function Tee(){return b8||(b8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365})(TA)),TA}var w8;function J9(){return w8||(w8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Fg;t.__exportStar(Nee(),e),t.__exportStar(Tee(),e)})(NA)),NA}var E8;function Iee(){if(E8)return Ku;E8=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.fromMiliseconds=Ku.toMiliseconds=void 0;const e=J9();function t(r){return r*e.ONE_THOUSAND}Ku.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return Ku.fromMiliseconds=n,Ku}var v8;function Oee(){return v8||(v8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Fg;t.__exportStar(See(),e),t.__exportStar(Iee(),e)})(SA)),SA}var nh={},C8;function Ree(){if(C8)return nh;C8=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return nh.Watch=e,nh.default=e,nh}var IA={},_0={},_8;function xee(){if(_8)return _0;_8=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.IWatch=void 0;class e{}return _0.IWatch=e,_0}var A8;function kee(){return A8||(A8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Fg.__exportStar(xee(),e)})(IA)),IA}var S8;function Pee(){return S8||(S8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Fg;t.__exportStar(Oee(),e),t.__exportStar(Ree(),e),t.__exportStar(kee(),e),t.__exportStar(J9(),e)})(AA)),AA}var Te=Pee();class tf{}let Uee=class extends tf{constructor(t){super()}};const N8=Te.FIVE_SECONDS,nf={pulse:"heartbeat_pulse"};let $ee=class Q9 extends Uee{constructor(t){super(t),this.events=new Ia.EventEmitter,this.interval=N8,this.interval=t?.interval||N8}static async init(t){const n=new Q9(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Te.toMiliseconds(this.interval))}pulse(){this.events.emit(nf.pulse)}};const Dee=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Mee=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Lee=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Bee(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Fee(e);return}return t}function Fee(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function qb(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Lee.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Dee.test(e)||Mee.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Bee)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function jee(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function Kr(e,...t){try{return jee(e(...t))}catch(n){return Promise.reject(n)}}function zee(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function Hee(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function B1(e){if(zee(e))return String(e);if(Hee(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return B1(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const v6="base64:";function qee(e){return typeof e=="string"?e:v6+Gee(e)}function Wee(e){return typeof e!="string"||!e.startsWith(v6)?e:Vee(e.slice(v6.length))}function Vee(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function Gee(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function ti(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function Kee(...e){return ti(e.join(":"))}function Wb(e){return e=ti(e),e?e+":":""}function Yee(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function Zee(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}const Xee="memory",Jee=()=>{const e=new Map;return{name:Xee,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function Qee(e={}){const t={mounts:{"":e.driver||Jee()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=d=>{for(const h of t.mountpoints)if(d.startsWith(h))return{base:h,relativeKey:d.slice(h.length),driver:t.mounts[h]};return{base:"",relativeKey:d,driver:t.mounts[""]}},r=(d,h)=>t.mountpoints.filter(m=>m.startsWith(d)||h&&d.startsWith(m)).map(m=>({relativeBase:d.length>m.length?d.slice(m.length):void 0,mountpoint:m,driver:t.mounts[m]})),s=(d,h)=>{if(t.watching){h=ti(h);for(const m of t.watchListeners)m(d,h)}},i=async()=>{if(!t.watching){t.watching=!0;for(const d in t.mounts)t.unwatch[d]=await T8(t.mounts[d],s,d)}},a=async()=>{if(t.watching){for(const d in t.unwatch)await t.unwatch[d]();t.unwatch={},t.watching=!1}},c=(d,h,m)=>{const g=new Map,w=v=>{let E=g.get(v.base);return E||(E={driver:v.driver,base:v.base,items:[]},g.set(v.base,E)),E};for(const v of d){const E=typeof v=="string",A=ti(E?v:v.key),R=E?void 0:v.value,k=E||!v.options?h:{...h,...v.options},I=n(A);w(I).items.push({key:A,value:R,relativeKey:I.relativeKey,options:k})}return Promise.all([...g.values()].map(v=>m(v))).then(v=>v.flat())},u={hasItem(d,h={}){d=ti(d);const{relativeKey:m,driver:g}=n(d);return Kr(g.hasItem,m,h)},getItem(d,h={}){d=ti(d);const{relativeKey:m,driver:g}=n(d);return Kr(g.getItem,m,h).then(w=>qb(w))},getItems(d,h={}){return c(d,h,m=>m.driver.getItems?Kr(m.driver.getItems,m.items.map(g=>({key:g.relativeKey,options:g.options})),h).then(g=>g.map(w=>({key:Kee(m.base,w.key),value:qb(w.value)}))):Promise.all(m.items.map(g=>Kr(m.driver.getItem,g.relativeKey,g.options).then(w=>({key:g.key,value:qb(w)})))))},getItemRaw(d,h={}){d=ti(d);const{relativeKey:m,driver:g}=n(d);return g.getItemRaw?Kr(g.getItemRaw,m,h):Kr(g.getItem,m,h).then(w=>Wee(w))},async setItem(d,h,m={}){if(h===void 0)return u.removeItem(d);d=ti(d);const{relativeKey:g,driver:w}=n(d);w.setItem&&(await Kr(w.setItem,g,B1(h),m),w.watch||s("update",d))},async setItems(d,h){await c(d,h,async m=>{if(m.driver.setItems)return Kr(m.driver.setItems,m.items.map(g=>({key:g.relativeKey,value:B1(g.value),options:g.options})),h);m.driver.setItem&&await Promise.all(m.items.map(g=>Kr(m.driver.setItem,g.relativeKey,B1(g.value),g.options)))})},async setItemRaw(d,h,m={}){if(h===void 0)return u.removeItem(d,m);d=ti(d);const{relativeKey:g,driver:w}=n(d);if(w.setItemRaw)await Kr(w.setItemRaw,g,h,m);else if(w.setItem)await Kr(w.setItem,g,qee(h),m);else return;w.watch||s("update",d)},async removeItem(d,h={}){typeof h=="boolean"&&(h={removeMeta:h}),d=ti(d);const{relativeKey:m,driver:g}=n(d);g.removeItem&&(await Kr(g.removeItem,m,h),(h.removeMeta||h.removeMata)&&await Kr(g.removeItem,m+"$",h),g.watch||s("remove",d))},async getMeta(d,h={}){typeof h=="boolean"&&(h={nativeOnly:h}),d=ti(d);const{relativeKey:m,driver:g}=n(d),w=Object.create(null);if(g.getMeta&&Object.assign(w,await Kr(g.getMeta,m,h)),!h.nativeOnly){const v=await Kr(g.getItem,m+"$",h).then(E=>qb(E));v&&typeof v=="object"&&(typeof v.atime=="string"&&(v.atime=new Date(v.atime)),typeof v.mtime=="string"&&(v.mtime=new Date(v.mtime)),Object.assign(w,v))}return w},setMeta(d,h,m={}){return this.setItem(d+"$",h,m)},removeMeta(d,h={}){return this.removeItem(d+"$",h)},async getKeys(d,h={}){d=Wb(d);const m=r(d,!0);let g=[];const w=[];let v=!0;for(const A of m){A.driver.flags?.maxDepth||(v=!1);const R=await Kr(A.driver.getKeys,A.relativeBase,h);for(const k of R){const I=A.mountpoint+ti(k);g.some(N=>I.startsWith(N))||w.push(I)}g=[A.mountpoint,...g.filter(k=>!k.startsWith(A.mountpoint))]}const E=h.maxDepth!==void 0&&!v;return w.filter(A=>(!E||Yee(A,h.maxDepth))&&Zee(A,d))},async clear(d,h={}){d=Wb(d),await Promise.all(r(d,!1).map(async m=>{if(m.driver.clear)return Kr(m.driver.clear,m.relativeBase,h);if(m.driver.removeItem){const g=await m.driver.getKeys(m.relativeBase||"",h);return Promise.all(g.map(w=>m.driver.removeItem(w,h)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(d=>I8(d)))},async watch(d){return await i(),t.watchListeners.push(d),async()=>{t.watchListeners=t.watchListeners.filter(h=>h!==d),t.watchListeners.length===0&&await a()}},async unwatch(){t.watchListeners=[],await a()},mount(d,h){if(d=Wb(d),d&&t.mounts[d])throw new Error(`already mounted at ${d}`);return d&&(t.mountpoints.push(d),t.mountpoints.sort((m,g)=>g.length-m.length)),t.mounts[d]=h,t.watching&&Promise.resolve(T8(h,s,d)).then(m=>{t.unwatch[d]=m}).catch(console.error),u},async unmount(d,h=!0){d=Wb(d),!(!d||!t.mounts[d])&&(t.watching&&d in t.unwatch&&(t.unwatch[d]?.(),delete t.unwatch[d]),h&&await I8(t.mounts[d]),t.mountpoints=t.mountpoints.filter(m=>m!==d),delete t.mounts[d])},getMount(d=""){d=ti(d)+":";const h=n(d);return{driver:h.driver,base:h.base}},getMounts(d="",h={}){return d=ti(d),r(d,h.parents).map(g=>({driver:g.driver,base:g.mountpoint}))},keys:(d,h={})=>u.getKeys(d,h),get:(d,h={})=>u.getItem(d,h),set:(d,h,m={})=>u.setItem(d,h,m),has:(d,h={})=>u.hasItem(d,h),del:(d,h={})=>u.removeItem(d,h),remove:(d,h={})=>u.removeItem(d,h)};return u}function T8(e,t,n){return e.watch?e.watch((r,s)=>t(r,n+s)):()=>{}}async function I8(e){typeof e.dispose=="function"&&await Kr(e.dispose)}function rf(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function eM(e,t){let n;const r=()=>{if(n)return n;const s=indexedDB.open(e);return s.onupgradeneeded=()=>s.result.createObjectStore(t),n=rf(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(a=>i(a.transaction(t,s).objectStore(t)))}let OA;function jg(){return OA||(OA=eM("keyval-store","keyval")),OA}function O8(e,t=jg()){return t("readonly",n=>rf(n.get(e)))}function ete(e,t,n=jg()){return n("readwrite",r=>(r.put(t,e),rf(r.transaction)))}function tte(e,t=jg()){return t("readwrite",n=>(n.delete(e),rf(n.transaction)))}function nte(e=jg()){return e("readwrite",t=>(t.clear(),rf(t.transaction)))}function rte(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},rf(e.transaction)}function ste(e=jg()){return e("readonly",t=>{if(t.getAllKeys)return rf(t.getAllKeys());const n=[];return rte(t,r=>n.push(r.key)).then(()=>n)})}const ite="idb-keyval";var ate=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=s=>t+s;let r;return e.dbName&&e.storeName&&(r=eM(e.dbName,e.storeName)),{name:ite,options:e,async hasItem(s){return!(typeof await O8(n(s),r)>"u")},async getItem(s){return await O8(n(s),r)??null},setItem(s,i){return ete(n(s),i,r)},removeItem(s){return tte(n(s),r)},getKeys(){return ste(r)},clear(){return nte(r)}}};const ote="WALLET_CONNECT_V2_INDEXED_DB",cte="keyvaluestorage";let lte=class{constructor(){this.indexedDb=Qee({driver:ate({dbName:ote,storeName:cte})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,Hi(n))}async removeItem(t){await this.indexedDb.removeItem(t)}};var RA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F1={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof RA<"u"&&RA.localStorage?F1.exports=RA.localStorage:typeof window<"u"&&window.localStorage?F1.exports=window.localStorage:F1.exports=new t})();function ute(e){var t;return[e[0],Bd((t=e[1])!=null?t:"")]}let dte=class{constructor(){this.localStorage=F1.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(ute)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return Bd(n)}async setItem(t,n){this.localStorage.setItem(t,Hi(n))}async removeItem(t){this.localStorage.removeItem(t)}};const fte="wc_storage_version",R8=1,hte=async(e,t,n)=>{const r=fte,s=await t.getItem(r);if(s&&s>=R8){n(t);return}const i=await e.getKeys();if(!i.length){n(t);return}const a=[];for(;i.length;){const c=i.shift();if(!c)continue;const u=c.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const d=await e.getItem(c);await t.setItem(c,d),a.push(c)}}await t.setItem(r,R8),n(t),pte(e,a)},pte=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};let mte=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new dte;this.storage=t;try{const n=new lte;hte(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}};var x8=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},gte=(function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e})(),yte=(function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e})(),bte=(function(){function e(t,n,r,s){this.name=t,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return e})(),wte=(function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e})(),Ete=(function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e})(),vte=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Cte=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,k8=3,_te=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",vte]],P8=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ate(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Ete:typeof navigator<"u"?Nte(navigator.userAgent):Ite()}function Ste(e){return e!==""&&_te.reduce(function(t,n){var r=n[0],s=n[1];if(t)return t;var i=s.exec(e);return!!i&&[r,i]},!1)}function Nte(e){var t=Ste(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new wte;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<k8&&(s=x8(x8([],s,!0),Ote(k8-s.length),!0)):s=[];var i=s.join("."),a=Tte(e),c=Cte.exec(e);return c&&c[1]?new bte(n,i,a,c[1]):new gte(n,i,a)}function Tte(e){for(var t=0,n=P8.length;t<n;t++){var r=P8[t],s=r[0],i=r[1],a=i.exec(e);if(a)return s}return null}function Ite(){var e=typeof process<"u"&&process.version;return e?new yte(process.version.slice(1)):null}function Ote(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var zn={},U8;function tM(){if(U8)return zn;U8=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.getLocalStorage=zn.getLocalStorageOrThrow=zn.getCrypto=zn.getCryptoOrThrow=zn.getLocation=zn.getLocationOrThrow=zn.getNavigator=zn.getNavigatorOrThrow=zn.getDocument=zn.getDocumentOrThrow=zn.getFromWindowOrThrow=zn.getFromWindow=void 0;function e(g){let w;return typeof window<"u"&&typeof window[g]<"u"&&(w=window[g]),w}zn.getFromWindow=e;function t(g){const w=e(g);if(!w)throw new Error(`${g} is not defined in Window`);return w}zn.getFromWindowOrThrow=t;function n(){return t("document")}zn.getDocumentOrThrow=n;function r(){return e("document")}zn.getDocument=r;function s(){return t("navigator")}zn.getNavigatorOrThrow=s;function i(){return e("navigator")}zn.getNavigator=i;function a(){return t("location")}zn.getLocationOrThrow=a;function c(){return e("location")}zn.getLocation=c;function u(){return t("crypto")}zn.getCryptoOrThrow=u;function d(){return e("crypto")}zn.getCrypto=d;function h(){return t("localStorage")}zn.getLocalStorageOrThrow=h;function m(){return e("localStorage")}return zn.getLocalStorage=m,zn}var zc=tM(),A0={},$8;function Rte(){if($8)return A0;$8=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.getWindowMetadata=void 0;const e=tM();function t(){let n,r;try{n=e.getDocumentOrThrow(),r=e.getLocationOrThrow()}catch{return null}function s(){const w=n.getElementsByTagName("link"),v=[];for(let E=0;E<w.length;E++){const A=w[E],R=A.getAttribute("rel");if(R&&R.toLowerCase().indexOf("icon")>-1){const k=A.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let I=r.protocol+"//"+r.host;if(k.indexOf("/")===0)I+=k;else{const N=r.pathname.split("/");N.pop();const S=N.join("/");I+=S+"/"+k}v.push(I)}else if(k.indexOf("//")===0){const I=r.protocol+k;v.push(I)}else v.push(k)}}return v}function i(...w){const v=n.getElementsByTagName("meta");for(let E=0;E<v.length;E++){const A=v[E],R=["itemprop","property","name"].map(k=>A.getAttribute(k)).filter(k=>k?w.includes(k):!1);if(R.length&&R){const k=A.getAttribute("content");if(k)return k}}return""}function a(){let w=i("name","og:site_name","og:title","twitter:title");return w||(w=n.title),w}function c(){return i("description","og:description","twitter:description","keywords")}const u=a(),d=c(),h=r.origin,m=s();return{description:d,url:h,icons:m,name:u}}return A0.getWindowMetadata=t,A0}var xte=Rte();function kte(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function nM(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function xw(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function U2(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function C6(e){if(!Array.isArray(e))throw new Error("array expected")}function kw(e,t){if(!nM(!0,t))throw new Error(`${e}: array of strings expected`)}function Pte(e,t){if(!nM(!1,t))throw new Error(`${e}: array of numbers expected`)}function Ute(...e){const t=i=>i,n=(i,a)=>c=>i(a(c)),r=e.map(i=>i.encode).reduceRight(n,t),s=e.map(i=>i.decode).reduce(n,t);return{encode:r,decode:s}}function $te(e){const t=typeof e=="string"?e.split(""):e,n=t.length;kw("alphabet",t);const r=new Map(t.map((s,i)=>[s,i]));return{encode:s=>(C6(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${e}`);return t[i]})),decode:s=>(C6(s),s.map(i=>{xw("alphabet.decode",i);const a=r.get(i);if(a===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${e}`);return a}))}}function Dte(e=""){return xw("join",e),{encode:t=>(kw("join.decode",t),t.join(e)),decode:t=>(xw("join.decode",t),t.split(e))}}function Mte(e,t="="){return U2(e),xw("padding",t),{encode(n){for(kw("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){kw("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const rM=(e,t)=>t===0?e:rM(t,e%t),Pw=(e,t)=>e+(t-rM(e,t)),xA=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function D8(e,t,n,r){if(C6(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Pw(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Pw(t,n)}`);let s=0,i=0;const a=xA[t],c=xA[n]-1,u=[];for(const d of e){if(U2(d),d>=a)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);if(s=s<<t|d,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)u.push((s>>i-n&c)>>>0);const h=xA[i];if(h===void 0)throw new Error("invalid carry");s&=h-1}if(s=s<<n-i&c,!r&&i>=t)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&u.push(s>>>0),u}function Lte(e,t=!1){if(U2(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Pw(8,e)>32||Pw(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!kte(n))throw new Error("radix2.encode input should be Uint8Array");return D8(Array.from(n),8,e,!t)},decode:n=>(Pte("radix2.decode",n),Uint8Array.from(D8(n,e,8,t)))}}const Bte=Ute(Lte(5),$te("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Mte(5),Dte(""));function Fte(e){const t=e.length;let n=0,r=0;for(;r<t;){let s=e.charCodeAt(r++);if((s&4294967168)===0){n++;continue}else if((s&4294965248)===0)n+=2;else{if(s>=55296&&s<=56319&&r<t){const i=e.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}(s&4294901760)===0?n+=3:n+=4}}return n}function jte(e,t,n){const r=e.length;let s=n,i=0;for(;i<r;){let a=e.charCodeAt(i++);if((a&4294967168)===0){t[s++]=a;continue}else if((a&4294965248)===0)t[s++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&i<r){const c=e.charCodeAt(i);(c&64512)===56320&&(++i,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?(t[s++]=a>>12&15|224,t[s++]=a>>6&63|128):(t[s++]=a>>18&7|240,t[s++]=a>>12&63|128,t[s++]=a>>6&63|128)}t[s++]=a&63|128}}const zte=new TextEncoder,Hte=50;function qte(e,t,n){zte.encodeInto(e,t.subarray(n))}function Wte(e,t,n){e.length>Hte?qte(e,t,n):jte(e,t,n)}const Vte=4096;function sM(e,t,n){let r=t;const s=r+n,i=[];let a="";for(;r<s;){const c=e[r++];if((c&128)===0)i.push(c);else if((c&224)===192){const u=e[r++]&63;i.push((c&31)<<6|u)}else if((c&240)===224){const u=e[r++]&63,d=e[r++]&63;i.push((c&31)<<12|u<<6|d)}else if((c&248)===240){const u=e[r++]&63,d=e[r++]&63,h=e[r++]&63;let m=(c&7)<<18|u<<12|d<<6|h;m>65535&&(m-=65536,i.push(m>>>10&1023|55296),m=56320|m&1023),i.push(m)}else i.push(c);i.length>=Vte&&(a+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(a+=String.fromCharCode(...i)),a}const Gte=new TextDecoder,Kte=200;function Yte(e,t,n){const r=e.subarray(t,t+n);return Gte.decode(r)}function Zte(e,t,n){return n>Kte?Yte(e,t,n):sM(e,t,n)}class Vb{constructor(t,n){this.type=t,this.data=n}}class Di extends Error{constructor(t){super(t);const n=Object.create(Di.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Di.name})}}const S0=4294967295;function Xte(e,t,n){const r=n/4294967296,s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function iM(e,t,n){const r=Math.floor(n/4294967296),s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function aM(e,t){const n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}function Jte(e,t){const n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}const Qte=-1,ene=4294967296-1,tne=17179869184-1;function nne({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=tne)if(t===0&&e<=ene){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e),n}else{const n=e/4294967296,r=e&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,t<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,t),iM(r,4,e),n}}function rne(e){const t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function sne(e){if(e instanceof Date){const t=rne(e);return nne(t)}else return null}function ine(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const n=t.getUint32(0),r=t.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=aM(t,4),r=t.getUint32(0);return{sec:n,nsec:r}}default:throw new Di(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function ane(e){const t=ine(e);return new Date(t.sec*1e3+t.nsec/1e6)}const one={type:Qte,encode:sne,decode:ane};class Uw{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(one)}register({type:t,encode:n,decode:r}){if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const s=-1-t;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(t,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(t,n);if(i!=null){const a=-1-r;return new Vb(a,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(t,n);if(i!=null){const a=r;return new Vb(a,i)}}}return t instanceof Vb?t:null}decode(t,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(t,n,r):new Vb(n,t)}}Uw.defaultCodec=new Uw;function cne(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}function _6(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):cne(e)?new Uint8Array(e):Uint8Array.from(e)}const lne=100,une=2048;let dne=class oM{constructor(t){this.entered=!1,this.extensionCodec=t?.extensionCodec??Uw.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.maxDepth=t?.maxDepth??lne,this.initialBufferSize=t?.initialBufferSize??une,this.sortKeys=t?.sortKeys??!1,this.forceFloat32=t?.forceFloat32??!1,this.ignoreUndefined=t?.ignoreUndefined??!1,this.forceIntegerToFloat=t?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new oM({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,n)}ensureBufferSizeToWrite(t){const n=this.pos+t;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(t){const n=new ArrayBuffer(t),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){const r=Fte(t);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Wte(t,this.bytes,this.pos),this.pos+=r}encodeObject(t,n){const r=this.extensionCodec.tryToEncode(t,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){const n=t.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=_6(t);this.writeU8a(r)}encodeArray(t,n){const r=t.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of t)this.doEncode(s,n+1)}countWithoutUndefined(t,n){let r=0;for(const s of n)t[s]!==void 0&&r++;return r}encodeMap(t,n){const r=Object.keys(t);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(t,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const a=t[i];this.ignoreUndefined&&a===void 0||(this.encodeString(i),this.doEncode(a,n+1))}}encodeExtension(t){if(typeof t.data=="function"){const r=t.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(t.type),this.writeU8a(r);return}const n=t.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){const n=t.length;this.ensureBufferSizeToWrite(n),this.bytes.set(t,this.pos),this.pos+=n}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),Xte(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),iM(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}};function fne(e,t){return new dne(t).encodeSharedRef(e)}function kA(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}const hne=16,pne=16;class mne{constructor(t=hne,n=pne){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,n,r){const s=this.caches[r-1];e:for(const i of s){const a=i.bytes;for(let c=0;c<r;c++)if(a[c]!==t[n+c])continue e;return i.str}return null}store(t,n){const r=this.caches[t.length-1],s={bytes:t,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(t,n,r){const s=this.find(t,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=sM(t,n,r),a=Uint8Array.prototype.slice.call(t,n,n+r);return this.store(a,i),i}}const A6="array",im="map_key",cM="map_value",gne=e=>{if(typeof e=="string"||typeof e=="number")return e;throw new Di("The type of key must be string or number but "+typeof e)};class yne{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const n=this.getUninitializedStateFromPool();n.type=A6,n.position=0,n.size=t,n.array=new Array(t)}pushMapState(t){const n=this.getUninitializedStateFromPool();n.type=im,n.readCount=0,n.size=t,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===A6){const r=t;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(t.type===im||t.type===cM){const r=t;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const N0=-1,$2=new DataView(new ArrayBuffer(0)),bne=new Uint8Array($2.buffer);try{$2.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const M8=new RangeError("Insufficient data"),wne=new mne;let Ene=class lM{constructor(t){this.totalPos=0,this.pos=0,this.view=$2,this.bytes=bne,this.headByte=N0,this.stack=new yne,this.entered=!1,this.extensionCodec=t?.extensionCodec??Uw.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.rawStrings=t?.rawStrings??!1,this.maxStrLength=t?.maxStrLength??S0,this.maxBinLength=t?.maxBinLength??S0,this.maxArrayLength=t?.maxArrayLength??S0,this.maxMapLength=t?.maxMapLength??S0,this.maxExtLength=t?.maxExtLength??S0,this.keyDecoder=t?.keyDecoder!==void 0?t.keyDecoder:wne,this.mapKeyConverter=t?.mapKeyConverter??gne}clone(){return new lM({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=N0,this.stack.reset()}setBuffer(t){const n=_6(t);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===N0&&!this.hasRemaining(1))this.setBuffer(t);else{const n=this.bytes.subarray(this.pos),r=_6(t),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let n=!1,r;for await(const c of t){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(c);try{r=this.doDecodeSync(),n=!0}catch(u){if(!(u instanceof RangeError))throw u}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${kA(s)} at ${a} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,n){if(this.entered){yield*this.clone().decodeMultiAsync(t,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of t){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const t=this.readHeadByte();let n;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){const s=t-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t<160){const s=t-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=t-160;n=this.decodeString(s,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(t===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(t===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(t===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(t===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(t===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(t===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(t===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(t===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(t===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(t===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new Di(`Unrecognized type byte: ${kA(t)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===A6)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===im){if(n==="__proto__")throw new Di("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=cM;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=im;continue e}}return n}}readHeadByte(){return this.headByte===N0&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=N0}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new Di(`Unrecognized array type byte: ${kA(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new Di(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new Di(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,n):this.decodeBinary(t,n)}decodeUtf8String(t,n){if(t>this.maxStrLength)throw new Di(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+t)throw M8;const r=this.pos+n;let s;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(t)?s=this.keyDecoder.decode(this.bytes,r,t):s=Zte(this.bytes,r,t),this.pos+=n+t,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===im:!1}decodeBinary(t,n){if(t>this.maxBinLength)throw new Di(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+n))throw M8;const r=this.pos+n,s=this.bytes.subarray(r,r+t);return this.pos+=n+t,s}decodeExtension(t,n){if(t>this.maxExtLength)throw new Di(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(t,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=Jte(this.view,this.pos);return this.pos+=8,t}readI64(){const t=aM(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}};function vne(e,t){return new Ene(t).decode(e)}function Cne(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),a=i.charCodeAt(0);if(n[a]!==255)throw new TypeError(i+" is ambiguous");n[a]=s}var c=e.length,u=e.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function m(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,R=0,k=v.length;R!==k&&v[R]===0;)R++,E++;for(var I=(k-R)*h+1>>>0,N=new Uint8Array(I);R!==k;){for(var S=v[R],x=0,P=I-1;(S!==0||x<A)&&P!==-1;P--,x++)S+=256*N[P]>>>0,N[P]=S%c>>>0,S=S/c>>>0;if(S!==0)throw new Error("Non-zero carry");A=x,R++}for(var L=I-A;L!==I&&N[L]===0;)L++;for(var j=u.repeat(E);L<I;++L)j+=e.charAt(N[L]);return j}function g(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var A=0,R=0;v[E]===u;)A++,E++;for(var k=(v.length-E)*d+1>>>0,I=new Uint8Array(k);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var S=0,x=k-1;(N!==0||S<R)&&x!==-1;x--,S++)N+=c*I[x]>>>0,I[x]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");R=S,E++}if(v[E]!==" "){for(var P=k-R;P!==k&&I[P]===0;)P++;for(var L=new Uint8Array(A+(k-P)),j=A;P!==k;)L[j++]=I[P++];return L}}}function w(v){var E=g(v);if(E)return E;throw new Error(`Non-${t} character`)}return{encode:m,decodeUnsafe:g,decode:w}}var _ne=Cne,Ane=_ne;const Sne=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Nne=e=>new TextEncoder().encode(e),Tne=e=>new TextDecoder().decode(e);class Ine{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class One{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return uM(this,t)}}class Rne{constructor(t){this.decoders=t}or(t){return uM(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const uM=(e,t)=>new Rne({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class xne{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Ine(t,n,r),this.decoder=new One(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const HE=({name:e,prefix:t,encode:n,decode:r})=>new xne(e,t,n,r),zg=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=Ane(n,t);return HE({prefix:e,name:t,encode:r,decode:i=>Sne(s(i))})},kne=(e,t,n,r)=>{const s={};for(let h=0;h<t.length;++h)s[t[h]]=h;let i=e.length;for(;e[i-1]==="=";)--i;const a=new Uint8Array(i*n/8|0);let c=0,u=0,d=0;for(let h=0;h<i;++h){const m=s[e[h]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|m,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},Pne=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",a=0,c=0;for(let u=0;u<e.length;++u)for(c=c<<8|e[u],a+=8;a>n;)a-=n,i+=t[s&c>>a];if(a&&(i+=t[s&c<<n-a]),r)for(;i.length*n&7;)i+="=";return i},ds=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>HE({prefix:t,name:e,encode(s){return Pne(s,r,n)},decode(s){return kne(s,r,n,e)}}),Une=HE({prefix:"\0",name:"identity",encode:e=>Tne(e),decode:e=>Nne(e)}),$ne=Object.freeze(Object.defineProperty({__proto__:null,identity:Une},Symbol.toStringTag,{value:"Module"})),Dne=ds({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Mne=Object.freeze(Object.defineProperty({__proto__:null,base2:Dne},Symbol.toStringTag,{value:"Module"})),Lne=ds({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Bne=Object.freeze(Object.defineProperty({__proto__:null,base8:Lne},Symbol.toStringTag,{value:"Module"})),Fne=zg({prefix:"9",name:"base10",alphabet:"0123456789"}),jne=Object.freeze(Object.defineProperty({__proto__:null,base10:Fne},Symbol.toStringTag,{value:"Module"})),zne=ds({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Hne=ds({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),qne=Object.freeze(Object.defineProperty({__proto__:null,base16:zne,base16upper:Hne},Symbol.toStringTag,{value:"Module"})),Wne=ds({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Vne=ds({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Gne=ds({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Kne=ds({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Yne=ds({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Zne=ds({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Xne=ds({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Jne=ds({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Qne=ds({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ere=Object.freeze(Object.defineProperty({__proto__:null,base32:Wne,base32hex:Yne,base32hexpad:Xne,base32hexpadupper:Jne,base32hexupper:Zne,base32pad:Gne,base32padupper:Kne,base32upper:Vne,base32z:Qne},Symbol.toStringTag,{value:"Module"})),tre=zg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),nre=zg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),rre=Object.freeze(Object.defineProperty({__proto__:null,base36:tre,base36upper:nre},Symbol.toStringTag,{value:"Module"})),sre=zg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ire=zg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),are=Object.freeze(Object.defineProperty({__proto__:null,base58btc:sre,base58flickr:ire},Symbol.toStringTag,{value:"Module"})),ore=ds({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cre=ds({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lre=ds({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ure=ds({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),dre=Object.freeze(Object.defineProperty({__proto__:null,base64:ore,base64pad:cre,base64url:lre,base64urlpad:ure},Symbol.toStringTag,{value:"Module"})),dM=Array.from(""),fre=dM.reduce((e,t,n)=>(e[n]=t,e),[]),hre=dM.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function pre(e){return e.reduce((t,n)=>(t+=fre[n],t),"")}function mre(e){const t=[];for(const n of e){const r=hre[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const gre=HE({prefix:"",name:"base256emoji",encode:pre,decode:mre}),yre=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:gre},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const L8={...$ne,...Mne,...Bne,...jne,...qne,...ere,...rre,...are,...dre,...yre},bre={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var PA,B8;function fM(){if(B8)return PA;B8=1;const e="Input must be an string, Buffer or Uint8Array";function t(a){let c;if(a instanceof Uint8Array)c=a;else if(typeof a=="string")c=new TextEncoder().encode(a);else throw new Error(e);return c}function n(a){return Array.prototype.map.call(a,function(c){return(c<16?"0":"")+c.toString(16)}).join("")}function r(a){return(4294967296+a).toString(16).substring(1)}function s(a,c,u){let d=`
`+a+" = ";for(let h=0;h<c.length;h+=2){if(u===32)d+=r(c[h]).toUpperCase(),d+=" ",d+=r(c[h+1]).toUpperCase();else if(u===64)d+=r(c[h+1]).toUpperCase(),d+=r(c[h]).toUpperCase();else throw new Error("Invalid size "+u);h%6===4?d+=`
`+new Array(a.length+4).join(" "):h<c.length-2&&(d+=" ")}console.log(d)}function i(a,c,u){let d=new Date().getTime();const h=new Uint8Array(c);for(let g=0;g<c;g++)h[g]=g%256;const m=new Date().getTime();console.log("Generated random input in "+(m-d)+"ms"),d=m;for(let g=0;g<u;g++){const w=a(h),v=new Date().getTime(),E=v-d;d=v,console.log("Hashed in "+E+"ms: "+w.substring(0,20)+"..."),console.log(Math.round(c/(1<<20)/(E/1e3)*100)/100+" MB PER SECOND")}}return PA={normalizeInput:t,toHex:n,debugPrint:s,testSpeed:i},PA}var UA,F8;function wre(){if(F8)return UA;F8=1;const e=fM();function t(R,k,I){const N=R[k]+R[I];let S=R[k+1]+R[I+1];N>=4294967296&&S++,R[k]=N,R[k+1]=S}function n(R,k,I,N){let S=R[k]+I;I<0&&(S+=4294967296);let x=R[k+1]+N;S>=4294967296&&x++,R[k]=S,R[k+1]=x}function r(R,k){return R[k]^R[k+1]<<8^R[k+2]<<16^R[k+3]<<24}function s(R,k,I,N,S,x){const P=d[S],L=d[S+1],j=d[x],W=d[x+1];t(u,R,k),n(u,R,P,L);let Y=u[N]^u[R],G=u[N+1]^u[R+1];u[N]=G,u[N+1]=Y,t(u,I,N),Y=u[k]^u[I],G=u[k+1]^u[I+1],u[k]=Y>>>24^G<<8,u[k+1]=G>>>24^Y<<8,t(u,R,k),n(u,R,j,W),Y=u[N]^u[R],G=u[N+1]^u[R+1],u[N]=Y>>>16^G<<16,u[N+1]=G>>>16^Y<<16,t(u,I,N),Y=u[k]^u[I],G=u[k+1]^u[I+1],u[k]=G>>>31^Y<<1,u[k+1]=Y>>>31^G<<1}const i=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],c=new Uint8Array(a.map(function(R){return R*2})),u=new Uint32Array(32),d=new Uint32Array(32);function h(R,k){let I=0;for(I=0;I<16;I++)u[I]=R.h[I],u[I+16]=i[I];for(u[24]=u[24]^R.t,u[25]=u[25]^R.t/4294967296,k&&(u[28]=~u[28],u[29]=~u[29]),I=0;I<32;I++)d[I]=r(R.b,4*I);for(I=0;I<12;I++)s(0,8,16,24,c[I*16+0],c[I*16+1]),s(2,10,18,26,c[I*16+2],c[I*16+3]),s(4,12,20,28,c[I*16+4],c[I*16+5]),s(6,14,22,30,c[I*16+6],c[I*16+7]),s(0,10,20,30,c[I*16+8],c[I*16+9]),s(2,12,22,24,c[I*16+10],c[I*16+11]),s(4,14,16,26,c[I*16+12],c[I*16+13]),s(6,8,18,28,c[I*16+14],c[I*16+15]);for(I=0;I<16;I++)R.h[I]=R.h[I]^u[I]^u[I+16]}const m=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function g(R,k,I,N){if(R===0||R>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(k&&k.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(I&&I.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(N&&N.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const S={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:R};m.fill(0),m[0]=R,k&&(m[1]=k.length),m[2]=1,m[3]=1,I&&m.set(I,32),N&&m.set(N,48);for(let x=0;x<16;x++)S.h[x]=i[x]^r(m,x*4);return k&&(w(S,k),S.c=128),S}function w(R,k){for(let I=0;I<k.length;I++)R.c===128&&(R.t+=R.c,h(R,!1),R.c=0),R.b[R.c++]=k[I]}function v(R){for(R.t+=R.c;R.c<128;)R.b[R.c++]=0;h(R,!0);const k=new Uint8Array(R.outlen);for(let I=0;I<R.outlen;I++)k[I]=R.h[I>>2]>>8*(I&3);return k}function E(R,k,I,N,S){I=I||64,R=e.normalizeInput(R),N&&(N=e.normalizeInput(N)),S&&(S=e.normalizeInput(S));const x=g(I,k,N,S);return w(x,R),v(x)}function A(R,k,I,N,S){const x=E(R,k,I,N,S);return e.toHex(x)}return UA={blake2b:E,blake2bHex:A,blake2bInit:g,blake2bUpdate:w,blake2bFinal:v},UA}var $A,j8;function Ere(){if(j8)return $A;j8=1;const e=fM();function t(v,E){return v[E]^v[E+1]<<8^v[E+2]<<16^v[E+3]<<24}function n(v,E,A,R,k,I){a[v]=a[v]+a[E]+k,a[R]=r(a[R]^a[v],16),a[A]=a[A]+a[R],a[E]=r(a[E]^a[A],12),a[v]=a[v]+a[E]+I,a[R]=r(a[R]^a[v],8),a[A]=a[A]+a[R],a[E]=r(a[E]^a[A],7)}function r(v,E){return v>>>E^v<<32-E}const s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),i=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),a=new Uint32Array(16),c=new Uint32Array(16);function u(v,E){let A=0;for(A=0;A<8;A++)a[A]=v.h[A],a[A+8]=s[A];for(a[12]^=v.t,a[13]^=v.t/4294967296,E&&(a[14]=~a[14]),A=0;A<16;A++)c[A]=t(v.b,4*A);for(A=0;A<10;A++)n(0,4,8,12,c[i[A*16+0]],c[i[A*16+1]]),n(1,5,9,13,c[i[A*16+2]],c[i[A*16+3]]),n(2,6,10,14,c[i[A*16+4]],c[i[A*16+5]]),n(3,7,11,15,c[i[A*16+6]],c[i[A*16+7]]),n(0,5,10,15,c[i[A*16+8]],c[i[A*16+9]]),n(1,6,11,12,c[i[A*16+10]],c[i[A*16+11]]),n(2,7,8,13,c[i[A*16+12]],c[i[A*16+13]]),n(3,4,9,14,c[i[A*16+14]],c[i[A*16+15]]);for(A=0;A<8;A++)v.h[A]^=a[A]^a[A+8]}function d(v,E){if(!(v>0&&v<=32))throw new Error("Incorrect output length, should be in [1, 32]");const A=E?E.length:0;if(E&&!(A>0&&A<=32))throw new Error("Incorrect key length, should be in [1, 32]");const R={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:v};return R.h[0]^=16842752^A<<8^v,A>0&&(h(R,E),R.c=64),R}function h(v,E){for(let A=0;A<E.length;A++)v.c===64&&(v.t+=v.c,u(v,!1),v.c=0),v.b[v.c++]=E[A]}function m(v){for(v.t+=v.c;v.c<64;)v.b[v.c++]=0;u(v,!0);const E=new Uint8Array(v.outlen);for(let A=0;A<v.outlen;A++)E[A]=v.h[A>>2]>>8*(A&3)&255;return E}function g(v,E,A){A=A||32,v=e.normalizeInput(v);const R=d(A,E);return h(R,v),m(R)}function w(v,E,A){const R=g(v,E,A);return e.toHex(R)}return $A={blake2s:g,blake2sHex:w,blake2sInit:d,blake2sUpdate:h,blake2sFinal:m},$A}var DA,z8;function vre(){if(z8)return DA;z8=1;const e=wre(),t=Ere();return DA={blake2b:e.blake2b,blake2bHex:e.blake2bHex,blake2bInit:e.blake2bInit,blake2bUpdate:e.blake2bUpdate,blake2bFinal:e.blake2bFinal,blake2s:t.blake2s,blake2sHex:t.blake2sHex,blake2sInit:t.blake2sInit,blake2sUpdate:t.blake2sUpdate,blake2sFinal:t.blake2sFinal},DA}var Cre=vre();const _re="PARSE_ERROR",Are="INVALID_REQUEST",Sre="METHOD_NOT_FOUND",Nre="INVALID_PARAMS",hM="INTERNAL_ERROR",D2="SERVER_ERROR",Tre=[-32700,-32600,-32601,-32602,-32603],am={[_re]:{code:-32700,message:"Parse error"},[Are]:{code:-32600,message:"Invalid Request"},[Sre]:{code:-32601,message:"Method not found"},[Nre]:{code:-32602,message:"Invalid params"},[hM]:{code:-32603,message:"Internal error"},[D2]:{code:-32e3,message:"Server error"}},pM=D2;function Ire(e){return Tre.includes(e)}function H8(e){return Object.keys(am).includes(e)?am[e]:am[pM]}function Ore(e){const t=Object.values(am).find(n=>n.code===e);return t||am[pM]}function mM(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var MA={},ic={},q8;function Rre(){if(q8)return ic;q8=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.isBrowserCryptoAvailable=ic.getSubtleCrypto=ic.getBrowerCrypto=void 0;function e(){return xr?.crypto||xr?.msCrypto||{}}ic.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}ic.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return ic.isBrowserCryptoAvailable=n,ic}var ac={},W8;function xre(){if(W8)return ac;W8=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.isBrowser=ac.isNode=ac.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ac.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ac.isNode=t;function n(){return!e()&&!t()}return ac.isBrowser=n,ac}var V8;function kre(){return V8||(V8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Fg;t.__exportStar(Rre(),e),t.__exportStar(xre(),e)})(MA)),MA}var Pre=kre();function yo(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function Jl(e=6){return BigInt(yo(e))}function Ha(e,t,n){return{id:n||yo(),jsonrpc:"2.0",method:e,params:t}}function jm(e,t){return{id:e,jsonrpc:"2.0",result:t}}function qE(e,t,n){return{id:e,jsonrpc:"2.0",error:Ure(t)}}function Ure(e,t){return typeof e>"u"?H8(hM):(typeof e=="string"&&(e=Object.assign(Object.assign({},H8(D2)),{message:e})),Ire(e.code)&&(e=Ore(e.code)),e)}let $re=class{},Dre=class extends $re{constructor(){super()}},Mre=class extends Dre{constructor(t){super()}};const Lre="^https?:",Bre="^wss?:";function Fre(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function gM(e,t){const n=Fre(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function G8(e){return gM(e,Lre)}function K8(e){return gM(e,Bre)}function jre(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function yM(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function M2(e){return yM(e)&&"method"in e}function WE(e){return yM(e)&&(bo(e)||ha(e))}function bo(e){return"result"in e}function ha(e){return"error"in e}let L2=class extends Mre{constructor(t){super(t),this.events=new Ia.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(Ha(t.method,t.params||[],t.id||Jl().toString()),n)}async requestStrict(t,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${t.id}`,i=>{ha(i)?s(i.error):r(i.result)});try{await this.connection.send(t,n)}catch(i){s(i)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),WE(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const zre=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Hre=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Y8=e=>e.split("?")[0],Z8=10,qre=zre();let Wre=class{constructor(t){if(this.url=t,this.events=new Ia.EventEmitter,this.registering=!1,!K8(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Hi(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!K8(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const s=Pre.isReactNative()?void 0:{rejectUnauthorized:!jre(t)},i=new qre(t,[],s);Hre()?i.onerror=a=>{const c=a;r(this.emitError(c.error))}:i.on("error",a=>{r(this.emitError(a))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?Bd(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),s=r.message||r.toString(),i=qE(t,s);this.events.emit("payload",i)}parseError(t,n=this.url){return mM(t,Y8(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Z8&&this.events.setMaxListeners(Z8)}emitError(t){const n=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${Y8(this.url)}`));return this.events.emit("register_error",n),n}};var Gb={exports:{}},X8;function Vre(){return X8||(X8=1,(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof xr<"u"&&xr,r=(function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i})();(function(i){(function(a){var c=typeof i<"u"&&i||typeof self<"u"&&self||typeof xr<"u"&&xr||{},u={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function d(y){return y&&DataView.prototype.isPrototypeOf(y)}if(u.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(y){return y&&h.indexOf(Object.prototype.toString.call(y))>-1};function g(y){if(typeof y!="string"&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(y)||y==="")throw new TypeError('Invalid character in header field name: "'+y+'"');return y.toLowerCase()}function w(y){return typeof y!="string"&&(y=String(y)),y}function v(y){var _={next:function(){var T=y.shift();return{done:T===void 0,value:T}}};return u.iterable&&(_[Symbol.iterator]=function(){return _}),_}function E(y){this.map={},y instanceof E?y.forEach(function(_,T){this.append(T,_)},this):Array.isArray(y)?y.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(_){this.append(_,y[_])},this)}E.prototype.append=function(y,_){y=g(y),_=w(_);var T=this.map[y];this.map[y]=T?T+", "+_:_},E.prototype.delete=function(y){delete this.map[g(y)]},E.prototype.get=function(y){return y=g(y),this.has(y)?this.map[y]:null},E.prototype.has=function(y){return this.map.hasOwnProperty(g(y))},E.prototype.set=function(y,_){this.map[g(y)]=w(_)},E.prototype.forEach=function(y,_){for(var T in this.map)this.map.hasOwnProperty(T)&&y.call(_,this.map[T],T,this)},E.prototype.keys=function(){var y=[];return this.forEach(function(_,T){y.push(T)}),v(y)},E.prototype.values=function(){var y=[];return this.forEach(function(_){y.push(_)}),v(y)},E.prototype.entries=function(){var y=[];return this.forEach(function(_,T){y.push([T,_])}),v(y)},u.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function A(y){if(!y._noBody){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}}function R(y){return new Promise(function(_,T){y.onload=function(){_(y.result)},y.onerror=function(){T(y.error)}})}function k(y){var _=new FileReader,T=R(_);return _.readAsArrayBuffer(y),T}function I(y){var _=new FileReader,T=R(_),$=/charset=([A-Za-z0-9_-]+)/.exec(y.type),U=$?$[1]:"utf-8";return _.readAsText(y,U),T}function N(y){for(var _=new Uint8Array(y),T=new Array(_.length),$=0;$<_.length;$++)T[$]=String.fromCharCode(_[$]);return T.join("")}function S(y){if(y.slice)return y.slice(0);var _=new Uint8Array(y.byteLength);return _.set(new Uint8Array(y)),_.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(y){this.bodyUsed=this.bodyUsed,this._bodyInit=y,y?typeof y=="string"?this._bodyText=y:u.blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:u.formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():u.arrayBuffer&&u.blob&&d(y)?(this._bodyArrayBuffer=S(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||m(y))?this._bodyArrayBuffer=S(y):this._bodyText=y=Object.prototype.toString.call(y):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var y=A(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var y=A(this);return y||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(k);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var y=A(this);if(y)return y;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function L(y){var _=y.toUpperCase();return P.indexOf(_)>-1?_:y}function j(y,_){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var T=_.body;if(y instanceof j){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,_.headers||(this.headers=new E(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,!T&&y._bodyInit!=null&&(T=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new E(_.headers)),this.method=L(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||(function(){if("AbortController"in c){var q=new AbortController;return q.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var $=/([?&])_=[^&]*/;if($.test(this.url))this.url=this.url.replace($,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function W(y){var _=new FormData;return y.trim().split("&").forEach(function(T){if(T){var $=T.split("="),U=$.shift().replace(/\+/g," "),q=$.join("=").replace(/\+/g," ");_.append(decodeURIComponent(U),decodeURIComponent(q))}}),_}function Y(y){var _=new E,T=y.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function($){return $.indexOf(`
`)===0?$.substr(1,$.length):$}).forEach(function($){var U=$.split(":"),q=U.shift().trim();if(q){var M=U.join(":").trim();try{_.append(q,M)}catch(z){console.warn("Response "+z.message)}}}),_}x.call(j.prototype);function G(y,_){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new E(_.headers),this.url=_.url||"",this._initBody(y)}x.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},G.error=function(){var y=new G(null,{status:200,statusText:""});return y.ok=!1,y.status=0,y.type="error",y};var K=[301,302,303,307,308];G.redirect=function(y,_){if(K.indexOf(_)===-1)throw new RangeError("Invalid status code");return new G(null,{status:_,headers:{location:y}})},a.DOMException=c.DOMException;try{new a.DOMException}catch{a.DOMException=function(_,T){this.message=_,this.name=T;var $=Error(_);this.stack=$.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function Z(y,_){return new Promise(function(T,$){var U=new j(y,_);if(U.signal&&U.signal.aborted)return $(new a.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function M(){q.abort()}q.onload=function(){var D={statusText:q.statusText,headers:Y(q.getAllResponseHeaders()||"")};U.url.indexOf("file://")===0&&(q.status<200||q.status>599)?D.status=200:D.status=q.status,D.url="responseURL"in q?q.responseURL:D.headers.get("X-Request-URL");var Q="response"in q?q.response:q.responseText;setTimeout(function(){T(new G(Q,D))},0)},q.onerror=function(){setTimeout(function(){$(new TypeError("Network request failed"))},0)},q.ontimeout=function(){setTimeout(function(){$(new TypeError("Network request timed out"))},0)},q.onabort=function(){setTimeout(function(){$(new a.DOMException("Aborted","AbortError"))},0)};function z(D){try{return D===""&&c.location.href?c.location.href:D}catch{return D}}if(q.open(U.method,z(U.url),!0),U.credentials==="include"?q.withCredentials=!0:U.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&(u.blob?q.responseType="blob":u.arrayBuffer&&(q.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof E||c.Headers&&_.headers instanceof c.Headers)){var J=[];Object.getOwnPropertyNames(_.headers).forEach(function(D){J.push(g(D)),q.setRequestHeader(D,w(_.headers[D]))}),U.headers.forEach(function(D,Q){J.indexOf(Q)===-1&&q.setRequestHeader(Q,D)})}else U.headers.forEach(function(D,Q){q.setRequestHeader(Q,D)});U.signal&&(U.signal.addEventListener("abort",M),q.onreadystatechange=function(){q.readyState===4&&U.signal.removeEventListener("abort",M)}),q.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return Z.polyfill=!0,c.fetch||(c.fetch=Z,c.Headers=E,c.Request=j,c.Response=G),a.Headers=E,a.Request=j,a.Response=G,a.fetch=Z,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t})(Gb,Gb.exports)),Gb.exports}var Gre=Vre();const J8=Wc(Gre);var Kre=Object.defineProperty,Yre=Object.defineProperties,Zre=Object.getOwnPropertyDescriptors,Q8=Object.getOwnPropertySymbols,Xre=Object.prototype.hasOwnProperty,Jre=Object.prototype.propertyIsEnumerable,ek=(e,t,n)=>t in e?Kre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tk=(e,t)=>{for(var n in t||(t={}))Xre.call(t,n)&&ek(e,n,t[n]);if(Q8)for(var n of Q8(t))Jre.call(t,n)&&ek(e,n,t[n]);return e},nk=(e,t)=>Yre(e,Zre(t));const Qre={Accept:"application/json","Content-Type":"application/json"},ese="POST",rk={headers:Qre,method:ese},sk=10;let bM=class{constructor(t,n=!1){if(this.url=t,this.disableProviderPing=n,this.events=new Ia.EventEmitter,this.isAvailable=!1,this.registering=!1,!G8(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const n=Hi(t),r=await(await J8(this.url,nk(tk({},rk),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!G8(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const n=Hi({id:1,jsonrpc:"2.0",method:"test",params:[]});await J8(t,nk(tk({},rk),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?Bd(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),s=r.message||r.toString(),i=qE(t,s);this.events.emit("payload",i)}parseError(t,n=this.url){return mM(t,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>sk&&this.events.setMaxListeners(sk)}};const ik=2147483648,tse={convertEVMChainIdToCoinType(e){if(e>=ik)throw new Error("Invalid chainId");return(ik|e)>>>0}},ra=Jn({suggestions:[],loading:!1}),nse={state:ra,subscribe(e){return ls(ra,()=>e(ra))},subscribeKey(e,t){return us(ra,e,t)},async resolveName(e){try{return await pt.lookupEnsName(e)}catch(t){const n=t;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await pt.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{ra.loading=!0,ra.suggestions=[];const t=await pt.getEnsNameSuggestions(e);return ra.suggestions=t.suggestions||[],ra.suggestions}catch(t){const n=om.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(n)}finally{ra.loading=!1}},async getNamesForAddress(e){try{if(!V.state.activeCaipNetwork)return[];const n=ye.getEnsFromCacheForAddress(e);if(n)return n;const r=await pt.reverseLookupEnsName({address:e});return ye.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(t){const n=om.parseEnsApiError(t,"Error fetching names for address");throw new Error(n)}},async registerName(e){const t=V.state.activeCaipNetwork,n=V.getAccountData(t?.chainNamespace)?.address,r=ve.getAuthConnector();if(!t)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");ra.loading=!0;try{const s=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ut.pushTransactionStack({onCancel(){ut.replace("RegisterAccountName")}});const i=await Ie.signMessage(s);ra.loading=!1;const a=t.id;if(!a)throw new Error("Network not found");const c=tse.convertEVMChainIdToCoinType(Number(a));await pt.registerEnsName({coinType:c,address:n,signature:i,message:s}),V.setAccountProp("profileName",e,t.chainNamespace),ye.updateEnsCache({address:n,ens:[{name:e,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),ut.replace("RegisterAccountNameSuccess")}catch(s){const i=om.parseEnsApiError(s,`Error registering name ${e}`);throw ut.replace("RegisterAccountName"),new Error(i)}finally{ra.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){return e?.reasons?.[0]?.description||t}},om=Ta(nse);function S6(e){try{return new URL(e)}catch{return null}}function rse(e){const t=e.split("/"),n=t.length>0&&t[0]!==void 0?t[0]:"",r=n.lastIndexOf(":");return r===-1?{host:n}:{host:n.slice(0,r),port:n.slice(r+1)}}function sse(e){const t=e.indexOf("://");if(t===-1)return null;const n=e.slice(0,t),r=t+3;let s=e.indexOf("/",r);s===-1&&(s=e.length);const i=e.slice(r,s),a=i.lastIndexOf(":");return a===-1?{scheme:n,host:i}:{scheme:n,host:i.slice(0,a),port:i.slice(a+1)}}function ise(e,t){if(t.includes("://")){const a=S6(t);return a?a.origin===e:!1}const{host:n,port:r}=rse(t),s=e.indexOf("://");if(s!==-1){const a=s+3;let c=e.indexOf("/",a);c===-1&&(c=e.length);const u=e.slice(a,c);if(r!==void 0)return`${n}:${r}`===u;const d=u.split(":")[0];return n===d}const i=S6(e);return i?r!==void 0?n===i.hostname&&r===(i.port||void 0):n===i.hostname:!1}function ase(e,t,n){let r=n,s;const i=r.indexOf("://");i!==-1&&(s=r.slice(0,i),r=r.slice(i+3));const a=r.indexOf("/");a!==-1&&(r=r.slice(0,a));let c=r,u;const d=c.lastIndexOf(":");d!==-1&&(u=c.slice(d+1),c=c.slice(0,d));const h=c.split(".");for(const E of h)if(E.includes("*")&&E!=="*")return!1;const m=e.protocol.replace(/:$/u,"");if(s&&s!==m||u!==void 0&&u!=="*"&&u!==e.port)return!1;const g=sse(t),v=(g?g.host:e.hostname).split(".");if(h.length!==v.length)return!1;for(let E=h.length-1;E>=0;E-=1){const A=h[E],R=v[E];if(A!=="*"&&A!==R)return!1}return!0}const ose={ton:["ton_sendMessage","ton_signData"],solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},ou={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(e){return ose[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},r=new Set;if(t.methods&&Object.keys(t.methods).forEach(s=>r.add(s)),t.chains&&Object.keys(t.chains).forEach(s=>r.add(s)),t.events&&Object.keys(t.events).forEach(s=>r.add(s)),t.rpcMap&&Object.keys(t.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),t.methods&&Object.entries(t.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),t.chains&&Object.entries(t.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),t.events&&Object.entries(t.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),t.rpcMap){const s=new Set;Object.entries(t.rpcMap).forEach(([i,a])=>{const[c,u]=i.split(":");!c||!u||!n[c]||(n[c].rpcMap||(n[c].rpcMap={}),s.has(c)||(n[c].rpcMap={},s.add(c)),n[c].rpcMap[u]=a)})}return n},createNamespaces(e,t){const n=e.reduce((r,s)=>{const{id:i,chainNamespace:a,rpcUrls:c}=s,u=c.default.http[0];r[a]||(r[a]=this.createDefaultNamespace(a));const d=`${a}:${i}`,h=r[a];switch(h.chains.push(d),d){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":h.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":h.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K");break}return h?.rpcMap&&u&&(h.rpcMap[i]=u),r},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{const t=await om.resolveName(e);return(t?.addresses?Object.values(t.addresses):[])[0]?.address||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const n=t.chains||[],r=t.accounts.map(s=>{const[i,a]=s.split(":");return`${i}:${a}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isUserRejectedRequestError(e){try{if(typeof e=="object"&&e!==null){const t=e,n=typeof t.code=="number",r=n&&t.code===ou.RPC_ERROR_CODE.USER_REJECTED_METHODS,s=n&&t.code===ou.RPC_ERROR_CODE.USER_REJECTED;return r||s}return!1}catch{return!1}},isOriginAllowed(e,t,n){const r=[...t,...n];if(t.length===0)return!0;const s=S6(e);if(!s)return r.some(i=>!i.includes("*")&&i===e);if(s.hostname==="localhost"||s.hostname==="127.0.0.1")return!0;for(const i of r)if(i.includes("*")){if(ase(s,e,i))return!0}else if(ise(e,i))return!0;return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:i,onDisplayUri:a}){n&&e.on("connect",()=>{const c=ou.getWalletConnectAccounts(e,t);n(c)}),r&&e.on("disconnect",()=>{r()}),s&&e.on("accountsChanged",c=>{try{const u=e.session?.namespaces?.[t]?.accounts||[],d=e.rpcProviders?.[t]?.getDefaultChain(),h=c.map(m=>{const g=u.find(E=>E.includes(`${t}:${d}:${m}`));if(!g)return;const{chainId:w,chainNamespace:v}=zr.parseCaipAddress(g);return{address:m,chainId:w,chainNamespace:v}}).filter(m=>m!==void 0);h.length>0&&s(h)}catch(u){console.warn("Failed to parse accounts for namespace on accountsChanged event",t,c,u)}}),i&&e.on("chainChanged",c=>{i(c)}),a&&e.on("display_uri",c=>{a(c)})},getWalletConnectAccounts(e,t){const n=new Set,r=e?.session?.namespaces?.[t]?.accounts?.map(s=>zr.parseCaipAddress(s)).filter(({address:s})=>n.has(s.toLowerCase())?!1:(n.add(s.toLowerCase()),!0));return r&&r.length>0?r:[]}},cse=[ue.CONNECTOR_ID.AUTH,ue.CONNECTOR_ID.WALLET_CONNECT];let lse=class{constructor(t){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>V.getCaipNetworks(n),this.getConnectorId=n=>ve.getConnectorId(n),t&&this.construct(t)}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:t,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===n?.toString());t&&r&&this.addConnection({connectorId:ue.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:r})}setAuthProvider(t){t.onConnect(this.onAuthConnected.bind(this)),t.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:ue.CONNECTOR_ID.AUTH,type:"AUTH",name:ue.CONNECTOR_NAMES.AUTH,provider:t,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...t){const n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...t){const n=new Set;this.availableConnections=[...t,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(t){this.availableConnections=this.availableConnections.filter(n=>n.connectorId.toLowerCase()!==t.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(t=!1){this.availableConnections=[],t&&this.emit("connections",this.availableConnections)}setStatus(t,n){V.setAccountProp("status",t,n)}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t)?.add(n)}off(t,n){const r=this.eventListeners.get(t);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(s=>s(n))}async connectWalletConnect(t){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(n){throw ou.isUserRejectedRequestError(n)?new S9(n):n}}async switchNetwork(t){const{caipNetwork:n}=t,r=qn.getProviderId(n.chainNamespace),s=qn.getProvider(n.chainNamespace);if(!s)throw new Error("Provider not found");if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(r==="AUTH"){const i=ve.getAuthConnector()?.provider;if(!i)throw new Error("Auth provider not found");const a=Fi(n.chainNamespace);await i.switchNetwork({chainId:n.caipNetworkId});const c=await i.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const t=this.connectors.find(n=>n.id==="walletConnect");if(!t)throw new Error("WalletConnectConnector not found");return t}onConnect(t,n){if(t.length>0){const{address:r,chainId:s}=Re.getAccount(t[0]),i=this.getCaipNetworks().filter(c=>c.chainNamespace===this.namespace).find(c=>c.id.toString()===s?.toString()),a=this.connectors.find(c=>c.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:a}),this.addConnection({connectorId:n,accounts:t.map(c=>{const{address:u}=Re.getAccount(c);return{address:u}}),caipNetwork:i}))}}onAccountsChanged(t,n,r=!0){if(t.length>0){const{address:s}=Re.getAccount(t[0]),i=this.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});s&&this.getConnectorId(ue.CHAIN.EVM)?.toLowerCase()===n.toLowerCase()&&this.emit("accountChanged",{address:s,chainId:i?.caipNetwork?.id,connector:i?.connector}),this.addConnection({connectorId:n,accounts:t.map(a=>{const{address:c}=Re.getAccount(a);return{address:c}}),caipNetwork:i?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(t){this.removeProviderListeners(t),this.deleteConnection(t),this.getConnectorId(ue.CHAIN.EVM)?.toLowerCase()===t.toLowerCase()&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(t,n){const r=typeof t=="string"&&t.startsWith("0x")?parseInt(t,16).toString():t.toString(),s=this.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:i}),this.getConnectorId(ue.CHAIN.EVM)?.toLowerCase()===n.toLowerCase()&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(t,n){if(cse.includes(t))return;const r=a=>this.onAccountsChanged(a,t),s=a=>this.onChainChanged(a,t),i=()=>this.onDisconnect(t);this.providerHandlers[t]||(n.on("disconnect",i),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[t]={provider:n,disconnect:i,accountsChanged:r,chainChanged:s})}removeProviderListeners(t){if(this.providerHandlers[t]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:i}=this.providerHandlers[t];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",i),this.providerHandlers[t]=null}}emitFirstAvailableConnection(){const t=this.getConnection({connections:this.connections,connectors:this.connectors});if(t){const[n]=t.accounts;this.emit("accountChanged",{address:n?.address,chainId:t.caipNetwork?.id,connector:t.connector})}}getConnection({address:t,connectorId:n,connections:r,connectors:s}){if(n){const a=r.find(d=>d.connectorId.toLowerCase()===n.toLowerCase());if(!a)return null;const c=s.find(d=>d.id.toLowerCase()===a.connectorId.toLowerCase()),u=t?a.accounts.find(d=>d.address.toLowerCase()===t.toLowerCase()):a.accounts[0];return{...a,account:u,connector:c}}const i=r.find(a=>a.accounts.length>0&&s.some(c=>c.id.toLowerCase()===a.connectorId.toLowerCase()));if(i){const[a]=i.accounts,c=s.find(u=>u.id.toLowerCase()===i.connectorId.toLowerCase());return{...i,account:a,connector:c}}return null}},Zu=null;const ya={getSIWX(){return de.state.siwx},async initializeIfEnabled(e=V.getActiveCaipAddress()){const t=de.state.siwx;if(!(t&&e))return;const[n,r,s]=e.split(":");if(V.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(de.state.remoteFeatures?.emailCapture){const a=V.getAccountData(n)?.user;await nn.open({view:"DataCapture",data:{email:a?.email??void 0}});return}if(Zu&&await Zu,(await t.getSessions(`${n}:${r}`,s)).length)return;await nn.open({view:"SIWXSignMessage"})}catch(i){console.error("SIWXUtil:initializeIfEnabled",i),Ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(i)}),await Ie._getClient()?.disconnect().catch(console.error),ut.reset("Connect"),vo.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(e=V.getActiveCaipAddress()){if(!de.state.siwx||!e)return!0;const{chainNamespace:n,chainId:r,address:s}=zr.parseCaipAddress(e),i=`${n}:${r}`;return(await ya.getSessions({address:s,caipNetworkId:i})).length>0},async requestSignMessage(){const e=de.state.siwx,t=Re.getPlainAddress(V.getActiveCaipAddress()),n=X0();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");try{const r=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),s=r.toString();let i="";e.signMessage?i=await e.signMessage({message:s,chainId:n.caipNetworkId,accountAddress:t}):(ve.getConnectorId(n.chainNamespace)===ue.CONNECTOR_ID.AUTH&&ut.pushTransactionStack({}),i=await Ie.signMessage(s)||""),await e.addSession({data:r,message:s,signature:i}),V.setLastConnectedSIWECaipNetwork(n),nn.close(),Ot.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(r){(!nn.state.open||ut.state.view==="ApproveTransaction")&&await nn.open({view:"SIWXSignMessage"}),vo.showError("Error signing message"),Ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(r)}),console.error("SWIXUtil:requestSignMessage",r)}},async cancelSignMessage(){try{const e=this.getSIWX();if(e?.getRequired?.()){const n=V.getLastConnectedSIWECaipNetwork();if(n){const r=await e?.getSessions(n?.caipNetworkId,Re.getPlainAddress(V.getActiveCaipAddress())||"");r&&r.length>0?await V.switchActiveNetwork(n):await Ie.disconnect()}else await Ie.disconnect()}else nn.close();nn.close(),Ot.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const e=this.getSIWX(),t=V.getAllRequestedCaipNetworks(),n=[];return await Promise.all(t.map(async r=>{const s=await e?.getSessions(r.caipNetworkId,Re.getPlainAddress(V.getActiveCaipAddress())||"");s&&n.push(...s)})),n},async getSessions(e){const t=de.state.siwx;let n=e?.address;if(!n){const s=V.getActiveCaipAddress();n=Re.getPlainAddress(s)}let r=e?.caipNetworkId;return r||(r=V.getActiveCaipNetwork()?.caipNetworkId),t&&n&&r?t.getSessions(r,n):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const t=ut.state.view==="ApproveTransaction",n=ut.state.view==="SIWXSignMessage";if(t||n)return e.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:n,preferredAccountType:r,chainNamespace:s}){const i=ya.getSIWX(),a=X0();if(!i||!s.includes(ue.CHAIN.EVM)||de.state.remoteFeatures?.emailCapture){const m=await e.connect({chainId:t,socialUri:n,preferredAccountType:r});return{address:m.address,chainId:m.chainId,accounts:m.accounts}}const c=`${s}:${t}`,u=await i.createMessage({chainId:c,accountAddress:"<<AccountAddress>>"}),d={accountAddress:u.accountAddress,chainId:u.chainId,domain:u.domain,uri:u.uri,version:u.version,nonce:u.nonce,notBefore:u.notBefore,statement:u.statement,resources:u.resources,requestId:u.requestId,issuedAt:u.issuedAt,expirationTime:u.expirationTime,serializedMessage:u.toString()},h=await e.connect({chainId:t,socialUri:n,siwxMessage:d,preferredAccountType:r});return d.accountAddress=h.address,d.serializedMessage=h.message||"",h.signature&&h.message&&await ya.addEmbeddedWalletSession(d,h.message,h.signature),V.setLastConnectedSIWECaipNetwork(a),{address:h.address,chainId:h.chainId,accounts:h.accounts}},async addEmbeddedWalletSession(e,t,n){if(Zu)return Zu;const r=ya.getSIWX();return r?(Zu=r.addSession({data:e,message:t,signature:n}).finally(()=>{Zu=null}),Zu):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){const r=ya.getSIWX(),s=X0(),i=new Set(t.map(d=>d.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const a=await r.createMessage({chainId:X0()?.caipNetworkId||"",accountAddress:""}),c=await e.authenticate({nonce:a.nonce,domain:a.domain,uri:a.uri,exp:a.expirationTime,iat:a.issuedAt,nbf:a.notBefore,requestId:a.requestId,version:a.version,resources:a.resources,statement:a.statement,chainId:a.chainId,methods:n,chains:[a.chainId,...t.filter(d=>d!==a.chainId)]});vo.showLoading("Authenticating...",{autoClose:!1});const u={...c.session.peer.metadata,name:c.session.peer.metadata.name,icon:c.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(V.setAccountProp("connectedWalletInfo",u,Array.from(i)[0]),c?.auths?.length){const d=c.auths.map(h=>{const m=e.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(":").slice(-1).join(""),chainId:h.p.iss.split(":").slice(2,4).join(":"),uri:h.p.aud??"",version:h.p.version||a.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:m,signature:h.s.s,cacao:h}});try{await r.setSessions(d),s&&V.setLastConnectedSIWECaipNetwork(s),Ot.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ya.getSIWXEventProperties()})}catch(h){throw console.error("SIWX:universalProviderAuth - failed to set sessions",h),Ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ya.getSIWXEventProperties(h)}),await e.disconnect().catch(console.error),h}finally{vo.hide()}}return!0},getSIWXEventProperties(e){const t=V.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:V.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Fi(t)===wr.ACCOUNT_TYPES.SMART_ACCOUNT,message:e?Re.parseError(e):void 0}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}};let use=class{constructor({provider:t,namespace:n}){this.id=ue.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=V.getCaipNetworks.bind(V),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=de.state.universalProviderConfigOverride,s=ou.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(n=>n.caipNetworkId);return ya.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:dse})}};const dse=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Pa=Jn({message:"",variant:"info",open:!1}),fse={state:Pa,subscribeKey(e,t){return us(Pa,e,t)},open(e,t){const{debug:n}=de.state,{code:r,displayMessage:s,debugMessage:i}=e;s&&n&&(Pa.message=s,Pa.variant=t,Pa.open=!0),i&&console.error(typeof i=="function"?i():i,r?{code:r}:void 0)},warn(e,t,n){Pa.open=!0,Pa.message=e,Pa.variant="warning",t&&console.warn(t,n)},close(){Pa.open=!1,Pa.message="",Pa.variant="info"}},Es=Ta(fse),hse={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}};class pse extends Error{}function mse(){const{sdkType:e,sdkVersion:t,projectId:n}=de.getSnapshot(),r=new URL("https://rpc.walletconnect.org/v1/json-rpc");return r.searchParams.set("projectId",n),r.searchParams.set("st",e),r.searchParams.set("sv",t),r.searchParams.set("source","fund-wallet"),r.toString()}async function B2(e,t){const n=mse(),{projectId:r}=de.getSnapshot(),s={jsonrpc:"2.0",id:1,method:e,params:{...t||{},projectId:r}},a=await(await fetch(n,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}})).json();if(a.error)throw new pse(a.error.message);return a}async function ERe(e){return(await B2("reown_getExchanges",e)).result}async function vRe(e){return(await B2("reown_getExchangePayUrl",e)).result}async function CRe(e){return(await B2("reown_getExchangeBuyStatus",e)).result}function _Re(e,t){const{chainNamespace:n,chainId:r}=zr.parseCaipNetworkId(e),s=hse[n];if(!s)throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${n}`);let i=s.native.assetNamespace,a=s.native.assetReference;return t!=="native"&&(i=s.defaultTokenNamespace,a=t),`${`${n}:${r}`}/${i}:${a}`}const gse={network:"eip155:1",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},yse={network:"eip155:8453",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},wM={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},bse={asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"},wse={network:"eip155:84532",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},Ese={network:"eip155:1",asset:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},vse={network:"eip155:42161",asset:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},Cse={network:"eip155:137",asset:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},_se={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},Ase={network:"eip155:1",asset:"0xdAC17F958D2ee523a2206206994597C13D831ec7",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},Sse={network:"eip155:10",asset:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},Nse={network:"eip155:42161",asset:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},Tse={network:"eip155:137",asset:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},Ise={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},Ose={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"native",metadata:{name:"Solana",symbol:"SOL",decimals:9}},Rse={ethereumETH:gse,baseETH:yse,baseUSDC:wM,baseSepoliaETH:wse,ethereumUSDC:Ese,arbitrumUSDC:vse,polygonUSDC:Cse,solanaUSDC:_se,ethereumUSDT:Ase,optimismUSDT:Sse,arbitrumUSDT:Nse,polygonUSDT:Tse,solanaUSDT:Ise,solanaSOL:Ose};function ARe(e){return Object.values(Rse).filter(t=>t.network===e)}const za={getConnectorsByType(e,t,n){const{customWallets:r}=de.state,s=ye.getRecentWallets(),i=Ql.filterOutDuplicateWallets(t),a=Ql.filterOutDuplicateWallets(n),c=e.filter(m=>m.type==="MULTI_CHAIN"),u=e.filter(m=>m.type==="ANNOUNCED"),d=e.filter(m=>m.type==="INJECTED"),h=e.filter(m=>m.type==="EXTERNAL");return{custom:r,recent:s,external:h,multiChain:c,announced:u,injected:d,recommended:i,featured:a}},showConnector(e){const t=e.info?.rdns,n=!!t&&Le.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===t),r=!!e.name&&Le.state.excludedWallets.some(s=>E9.isLowerCaseMatch(s.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!Re.isMobile()||Re.isMobile()&&!t&&!Ie.checkInstalled())||n||r)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(V.state.chains.values()).some(n=>ve.getConnectorId(n.namespace)===ue.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:r,announced:s,injected:i,multiChain:a,external:c,overriddenConnectors:u=de.state.features?.connectorTypeOrder??[]}){const h=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...a].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:c.length>0},{type:"recommended",isEnabled:e.length>0}].filter(v=>v.isEnabled),m=new Set(h.map(v=>v.type)),g=u.filter(v=>m.has(v)).map(v=>({type:v,isEnabled:!0})),w=h.filter(({type:v})=>!g.some(({type:A})=>A===v));return Array.from(new Set([...g,...w].map(({type:v})=>v)))},sortConnectorsByExplorerWallet(e){return[...e].sort((t,n)=>t.explorerWallet&&n.explorerWallet?(t.explorerWallet.order??0)-(n.explorerWallet.order??0):t.explorerWallet?-1:n.explorerWallet?1:0)},getAuthName({email:e,socialUsername:t,socialProvider:n}){return t?n&&n==="discord"&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e},async fetchProviderData(e){try{if(e.name==="Browser Wallet"&&!Re.isMobile())return{accounts:[],chainId:void 0};if(e.id===ue.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[t,n]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:t,chainId:n}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(e){const t=ye.getRecentWallets(),n=ve.state.connectors.map(a=>a.info?.rdns).filter(Boolean),r=t.map(a=>a.rdns).filter(Boolean),s=n.concat(r);if(s.includes("io.metamask.mobile")&&Re.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!s.includes(String(a?.rdns)))},hasWalletConnector(e){return ve.state.connectors.some(t=>t.id===e.id||t.name===e.name)},isWalletCompatibleWithCurrentChain(e){const t=V.state.activeChain;return t&&e.chains?e.chains.some(n=>{const r=n.split(":")[0];return t===r}):!0},getFilteredRecentWallets(){return ye.getRecentWallets().filter(n=>!Ql.isExcluded(n)).filter(n=>!this.hasWalletConnector(n)).filter(n=>this.isWalletCompatibleWithCurrentChain(n))},getCappedRecommendedWallets(e){const{connectors:t}=ve.state,{customWallets:n,featuredWalletIds:r}=de.state,s=t.find(k=>k.id==="walletConnect"),i=t.filter(k=>k.type==="INJECTED"||k.type==="ANNOUNCED"||k.type==="MULTI_CHAIN");if(!s&&!i.length&&!n?.length)return[];const a=f6.isEmailEnabled(),c=f6.isSocialsEnabled(),u=i.filter(k=>k.name!=="Browser Wallet"&&k.name!=="WalletConnect"),d=r?.length||0,h=n?.length||0,m=u.length||0,g=a?1:0,w=c?1:0,v=d+h+m+g+w,A=Math.max(0,4-v);return A<=0?[]:Ql.filterOutDuplicateWallets(e).slice(0,A)},processConnectorsByType(e,t=!0){const n=za.sortConnectorsByExplorerWallet([...e]);return t?n.filter(za.showConnector):n},connectorList(){const e=za.getConnectorsByType(ve.state.connectors,Le.state.recommended,Le.state.featured),t=this.processConnectorsByType(e.announced.filter(w=>w.id!=="walletConnect")),n=this.processConnectorsByType(e.injected),r=this.processConnectorsByType(e.multiChain.filter(w=>w.name!=="WalletConnect"),!1),s=e.custom,i=e.recent,a=this.processConnectorsByType(e.external.filter(w=>w.id!==ue.CONNECTOR_ID.COINBASE_SDK&&w.id!==ue.CONNECTOR_ID.BASE_ACCOUNT)),c=e.recommended,u=e.featured,d=za.getConnectorTypeOrder({custom:s,recent:i,announced:t,injected:n,multiChain:r,recommended:c,featured:u,external:a}),h=ve.state.connectors.find(w=>w.id==="walletConnect"),m=Re.isMobile(),g=[];for(const w of d)switch(w){case"walletConnect":{!m&&h&&g.push({kind:"connector",subtype:"walletConnect",connector:h});break}case"recent":{za.getFilteredRecentWallets().forEach(E=>g.push({kind:"wallet",subtype:"recent",wallet:E}));break}case"injected":{r.forEach(v=>g.push({kind:"connector",subtype:"multiChain",connector:v})),t.forEach(v=>g.push({kind:"connector",subtype:"announced",connector:v})),n.forEach(v=>g.push({kind:"connector",subtype:"injected",connector:v}));break}case"featured":{u.forEach(v=>g.push({kind:"wallet",subtype:"featured",wallet:v}));break}case"custom":{za.getFilteredCustomWallets(s??[]).forEach(E=>g.push({kind:"wallet",subtype:"custom",wallet:E}));break}case"external":{a.forEach(v=>g.push({kind:"connector",subtype:"external",connector:v}));break}case"recommended":{za.getCappedRecommendedWallets(c).forEach(E=>g.push({kind:"wallet",subtype:"recommended",wallet:E}));break}default:console.warn(`Unknown connector type: ${w}`)}return g},hasInjectedConnectors(){return ve.state.connectors.filter(e=>(e.type==="INJECTED"||e.type==="ANNOUNCED"||e.type==="MULTI_CHAIN")&&e.name!=="Browser Wallet"&&e.name!=="WalletConnect").length}},Ql={filterOutDuplicatesByRDNS(e){const t=de.state.enableEIP6963?ve.state.connectors:[],n=ye.getRecentWallets(),r=t.map(c=>c.info?.rdns).filter(Boolean),s=n.map(c=>c.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&Re.isMobile()){const c=i.indexOf("io.metamask.mobile");i[c]="io.metamask"}return e.filter(c=>!(c?.rdns&&i.includes(String(c.rdns))||!c?.rdns&&t.some(d=>d.name===c.name)))},filterOutDuplicatesByIds(e){const t=ve.state.connectors.filter(c=>c.type==="ANNOUNCED"||c.type==="INJECTED"||c.type==="MULTI_CHAIN"),n=ye.getRecentWallets(),r=t.map(c=>c.explorerId||c.explorerWallet?.id||c.id),s=n.map(c=>c.id),i=r.concat(s);return e.filter(c=>!i.includes(c?.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=ve.state,{featuredWalletIds:n}=de.state,r=t.filter(a=>a.type==="ANNOUNCED").reduce((a,c)=>(c.info?.rdns&&(a[c.info.rdns]=!0),a),{});return e.map(a=>({...a,installed:!!a.rdns&&!!r[a.rdns??""]})).sort((a,c)=>{const u=Number(c.installed)-Number(a.installed);if(u!==0)return u;if(n?.length){const d=n.indexOf(a.id),h=n.indexOf(c.id);if(d!==-1&&h!==-1)return d-h;if(d!==-1)return-1;if(h!==-1)return 1}return 0})},getConnectOrderMethod(e,t){const n=e?.connectMethodsOrder||de.state.features?.connectMethodsOrder,r=t||ve.state.connectors;if(n)return n;const{injected:s,announced:i}=za.getConnectorsByType(r,Le.state.recommended,Le.state.featured),a=s.filter(za.showConnector),c=i.filter(za.showConnector);return a.length||c.length?["wallet","email","social"]:Vt.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&Le.state.excludedWallets.some(r=>r.rdns===e.rdns),n=!!e.name&&Le.state.excludedWallets.some(r=>E9.isLowerCaseMatch(r.name,e.name));return t||n},markWalletsWithDisplayIndex(e){return e.map((t,n)=>({...t,display_index:n}))},filterWalletsByWcSupport(e){return Ie.state.wcBasic?e.filter(t=>t.supports_wc):Re.isMobile()?e.filter(t=>t.supports_wc||Vt.MANDATORY_WALLET_IDS_ON_MOBILE.includes(t.id)):e},getWalletConnectWallets(e){const t=[...Le.state.featured,...Le.state.recommended];Le.state.filteredWallets?.length>0?t.push(...Le.state.filteredWallets):t.push(...e);const n=Re.uniqueBy(t,"id"),r=Ql.markWalletsAsInstalled(n),s=Ql.filterWalletsByWcSupport(r);return Ql.markWalletsWithDisplayIndex(s)}},Us={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:ue.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH",getSDKVersionWarningMessage(e,t){return`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${e} is outdated. Latest version is ${t}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}},xse={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"}},zm={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([n,r])=>{t[`${Us.EIP155}:${n}`]=r}),t},isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const e=V.state.activeChain;return ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>ve.getConnectorId(t)===ue.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:n}){let r=0;return new Promise(s=>{async function i(){return r+=1,await e()?s(!0):r>=n?s(!1):(setTimeout(i,t),null)}i()})},userChainIdToChainNamespace(e){if(typeof e=="number")return ue.CHAIN.EVM;const[t]=e.split(":");return t},getOtherAuthNamespaces(e){return e?ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(r=>r!==e):[]},getConnectorStorageInfo(e,t){const r=ye.getConnections()[t]??[];return{hasDisconnected:ye.isConnectorDisconnected(e,t),hasConnected:r.some(s=>zm.isLowerCaseMatch(s.connectorId,e))}}},kse=new AbortController,vs={EmbeddedWalletAbortController:kse,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Y0()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${de.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(e,t)=>`An error occurred while connecting an inactive namespace ${e}: "${t}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},EM={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:wM.asset,84532:bse.asset}},getTokenSymbolByAddress(e){if(!e)return;const[t]=Object.entries(EM.TOKEN_ADDRESSES_BY_SYMBOL).find(([n,r])=>Object.values(r).includes(e))??[];return t}};var T0={exports:{}},ak;function Pse(){if(ak)return T0.exports;ak=1;const e=R2();T0.exports=h;const t=Z().console||{},n={mapHttpRequest:P,mapHttpResponse:P,wrapRequestSerializer:L,wrapResponseSerializer:L,wrapErrorSerializer:L,req:P,res:P,err:S,errWithCause:S};function r(y,_){return y==="silent"?1/0:_.levels.values[y]}const s=Symbol("pino.logFuncs"),i=Symbol("pino.hierarchy"),a={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(y,_){const T={logger:_,parent:y[i]};_[i]=T}function u(y,_,T){const $={};_.forEach(U=>{$[U]=T[U]?T[U]:t[U]||t[a[U]||"log"]||j}),y[s]=$}function d(y,_){return Array.isArray(y)?y.filter(function($){return $!=="!stdSerializers.err"}):y===!0?Object.keys(_):!1}function h(y){y=y||{},y.browser=y.browser||{};const _=y.browser.transmit;if(_&&typeof _.send!="function")throw Error("pino: transmit option must have a send function");const T=y.browser.write||t;y.browser.write&&(y.browser.asObject=!0);const $=y.serializers||{},U=d(y.browser.serialize,$);let q=y.browser.serialize;Array.isArray(y.browser.serialize)&&y.browser.serialize.indexOf("!stdSerializers.err")>-1&&(q=!1);const M=Object.keys(y.customLevels||{}),z=["error","fatal","warn","info","debug","trace"].concat(M);typeof T=="function"&&z.forEach(function(we){T[we]=T}),(y.enabled===!1||y.browser.disabled)&&(y.level="silent");const J=y.level||"info",D=Object.create(T);D.log||(D.log=j),u(D,z,T),c({},D),Object.defineProperty(D,"levelVal",{get:le}),Object.defineProperty(D,"level",{get:be,set:$e});const Q={transmit:_,serialize:U,asObject:y.browser.asObject,asObjectBindingsOnly:y.browser.asObjectBindingsOnly,formatters:y.browser.formatters,levels:z,timestamp:x(y),messageKey:y.messageKey||"msg",onChild:y.onChild||j};D.levels=m(y),D.level=J,D.isLevelEnabled=function(we){return this.levels.values[we]?this.levels.values[we]>=this.levels.values[this.level]:!1},D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=j,D.serializers=$,D._serialize=U,D._stdErrSerialize=q,D.child=function(...we){return _e.call(this,Q,...we)},_&&(D._logEvent=N());function le(){return r(this.level,this)}function be(){return this._level}function $e(we){if(we!=="silent"&&!this.levels.values[we])throw Error("unknown level "+we);this._level=we,v(this,Q,D,"error"),v(this,Q,D,"fatal"),v(this,Q,D,"warn"),v(this,Q,D,"info"),v(this,Q,D,"debug"),v(this,Q,D,"trace"),M.forEach(je=>{v(this,Q,D,je)})}function _e(we,je,Et){if(!je)throw new Error("missing bindings for child Pino");Et=Et||{},U&&je.serializers&&(Et.serializers=je.serializers);const mn=Et.serializers;if(U&&mn){var kt=Object.assign({},$,mn),Vn=y.browser.serialize===!0?Object.keys(kt):U;delete je.serializers,k([je],Vn,kt,this._stdErrSerialize)}function vr(Qn){this._childLevel=(Qn._childLevel|0)+1,this.bindings=je,kt&&(this.serializers=kt,this._serialize=Vn),_&&(this._logEvent=N([].concat(Qn._logEvent.bindings,je)))}vr.prototype=this;const Fn=new vr(this);return c(this,Fn),Fn.child=function(...Qn){return _e.call(this,we,...Qn)},Fn.level=Et.level||this.level,we.onChild(Fn),Fn}return D}function m(y){const _=y.customLevels||{},T=Object.assign({},h.levels.values,_),$=Object.assign({},h.levels.labels,g(_));return{values:T,labels:$}}function g(y){const _={};return Object.keys(y).forEach(function(T){_[y[T]]=T}),_}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=n,h.stdTimeFunctions=Object.assign({},{nullTime:W,epochTime:Y,unixTime:G,isoTime:K});function w(y){const _=[];y.bindings&&_.push(y.bindings);let T=y[i];for(;T.parent;)T=T.parent,T.logger.bindings&&_.push(T.logger.bindings);return _.reverse()}function v(y,_,T,$){if(Object.defineProperty(y,$,{value:r(y.level,T)>r($,T)?j:T[s][$],writable:!0,enumerable:!0,configurable:!0}),y[$]===j){if(!_.transmit)return;const q=_.transmit.level||y.level,M=r(q,T);if(r($,T)<M)return}y[$]=A(y,_,T,$);const U=w(y);U.length!==0&&(y[$]=E(U,y[$]))}function E(y,_){return function(){return _.apply(this,[...y,...arguments])}}function A(y,_,T,$){return(function(U){return function(){const M=_.timestamp(),z=new Array(arguments.length),J=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var D=0;D<z.length;D++)z[D]=arguments[D];var Q=!1;if(_.serialize&&(k(z,this._serialize,this.serializers,this._stdErrSerialize),Q=!0),_.asObject||_.formatters?U.call(J,...R(this,$,z,M,_)):U.apply(J,z),_.transmit){const le=_.transmit.level||y._level,be=r(le,T),$e=r($,T);if($e<be)return;I(this,{ts:M,methodLevel:$,methodValue:$e,transmitValue:T.levels.values[_.transmit.level||y._level],send:_.transmit.send,val:r(y._level,T)},z,Q)}}})(y[s][$])}function R(y,_,T,$,U){const{level:q,log:M=le=>le}=U.formatters||{},z=T.slice();let J=z[0];const D={};let Q=(y._childLevel|0)+1;if(Q<1&&(Q=1),$&&(D.time=$),q){const le=q(_,y.levels.values[_]);Object.assign(D,le)}else D.level=y.levels.values[_];if(U.asObjectBindingsOnly){if(J!==null&&typeof J=="object")for(;Q--&&typeof z[0]=="object";)Object.assign(D,z.shift());return[M(D),...z]}else{if(J!==null&&typeof J=="object"){for(;Q--&&typeof z[0]=="object";)Object.assign(D,z.shift());J=z.length?e(z.shift(),z):void 0}else typeof J=="string"&&(J=e(z.shift(),z));return J!==void 0&&(D[U.messageKey]=J),[M(D)]}}function k(y,_,T,$){for(const U in y)if($&&y[U]instanceof Error)y[U]=h.stdSerializers.err(y[U]);else if(typeof y[U]=="object"&&!Array.isArray(y[U])&&_)for(const q in y[U])_.indexOf(q)>-1&&q in T&&(y[U][q]=T[q](y[U][q]))}function I(y,_,T,$=!1){const U=_.send,q=_.ts,M=_.methodLevel,z=_.methodValue,J=_.val,D=y._logEvent.bindings;$||k(T,y._serialize||Object.keys(y.serializers),y.serializers,y._stdErrSerialize===void 0?!0:y._stdErrSerialize),y._logEvent.ts=q,y._logEvent.messages=T.filter(function(Q){return D.indexOf(Q)===-1}),y._logEvent.level.label=M,y._logEvent.level.value=z,U(M,y._logEvent,J),y._logEvent=N(D)}function N(y){return{ts:0,messages:[],bindings:y||[],level:{label:"",value:0}}}function S(y){const _={type:y.constructor.name,msg:y.message,stack:y.stack};for(const T in y)_[T]===void 0&&(_[T]=y[T]);return _}function x(y){return typeof y.timestamp=="function"?y.timestamp:y.timestamp===!1?W:Y}function P(){return{}}function L(y){return y}function j(){}function W(){return!1}function Y(){return Date.now()}function G(){return Math.round(Date.now()/1e3)}function K(){return new Date(Date.now()).toISOString()}function Z(){function y(_){return typeof _<"u"&&_}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return y(self)||y(window)||y(this)||{}}}return T0.exports.default=h,T0.exports.pino=h,T0.exports}var gh=Pse();const vM=Wc(gh),Use={level:"info"},F2=1e3*1024;var $se=Object.defineProperty,Dse=(e,t,n)=>t in e?$se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ql=(e,t,n)=>Dse(e,typeof t!="symbol"?t+"":t,n);let Mse=class{constructor(t){ql(this,"nodeValue"),ql(this,"sizeInBytes"),ql(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},ok=class{constructor(t){ql(this,"lengthInNodes"),ql(this,"sizeInBytes"),ql(this,"head"),ql(this,"tail"),ql(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new Mse(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}};var Lse=Object.defineProperty,Bse=(e,t,n)=>t in e?Lse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kb=(e,t,n)=>Bse(e,typeof t!="symbol"?t+"":t,n);let CM=class{constructor(t,n=F2){Kb(this,"logs"),Kb(this,"level"),Kb(this,"levelValue"),Kb(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=gh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new ok(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===gh.levels.values.error?console.error(t):n===gh.levels.values.warn?console.warn(t):n===gh.levels.values.debug?console.debug(t):n===gh.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Hi({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new ok(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(Hi({extraMetadata:t})),new Blob(n,{type:"application/json"})}};var Fse=Object.defineProperty,jse=(e,t,n)=>t in e?Fse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zse=(e,t,n)=>jse(e,t+"",n);let Hse=class{constructor(t,n=F2){zse(this,"baseChunkLogger"),this.baseChunkLogger=new CM(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var qse=Object.defineProperty,Wse=(e,t,n)=>t in e?qse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vse=(e,t,n)=>Wse(e,t+"",n);let Gse=class{constructor(t,n=F2){Vse(this,"baseChunkLogger"),this.baseChunkLogger=new CM(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var Kse=Object.defineProperty,Yse=Object.defineProperties,Zse=Object.getOwnPropertyDescriptors,ck=Object.getOwnPropertySymbols,Xse=Object.prototype.hasOwnProperty,Jse=Object.prototype.propertyIsEnumerable,lk=(e,t,n)=>t in e?Kse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$w=(e,t)=>{for(var n in t||(t={}))Xse.call(t,n)&&lk(e,n,t[n]);if(ck)for(var n of ck(t))Jse.call(t,n)&&lk(e,n,t[n]);return e},Dw=(e,t)=>Yse(e,Zse(t));function Qse(e){return Dw($w({},e),{level:e?.level||Use.level})}function eie(e){var t,n;const r=new Hse((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:vM(Dw($w({},e.opts),{level:"trace",browser:Dw($w({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function tie(e){var t;const n=new Gse((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:vM(Dw($w({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function nie(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?eie(e):tie(e)}const rie={createLogger(e,t="error"){const n=Qse({level:t}),{logger:r}=nie({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){e(i,...s);return}e(void 0,...s)},r}},sie="rpc.walletconnect.org";function uk(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const LA=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],yh={extendRpcUrlWithProjectId(e,t){let n=!1;try{n=new URL(e).host===sie}catch{n=!1}if(n){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:ue.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${ue.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){const r=e.rpcUrls?.default?.http?.[0];return LA.includes(t)?uk(t,n):r||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){const s=this.getChainNamespace(e),i=this.getCaipNetworkId(e),a=e.rpcUrls?.default?.http?.[0],c=this.getDefaultRpcUrl(e,i,n),u=e?.rpcUrls?.chainDefault?.http?.[0]||a,d=r?.[i]?.map(g=>g.url)||[],h=[...d,...c?[c]:[]],m=[...d];return u&&!m.includes(u)&&m.push(u),{...e,chainNamespace:s,caipNetworkId:i,assets:{imageId:xse.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:h},chainDefault:{http:m}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){return e.map(s=>yh.extendCaipNetwork(s,{customNetworkImageUrls:t,customRpcUrls:r,projectId:n}))},getViemTransport(e,t,n){const r=[];return n?.forEach(s=>{r.push($b(s.url,s.config))}),LA.includes(e.caipNetworkId)&&r.push($b(uk(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(s=>{r.push($b(s))}),O3(r)},extendWagmiTransports(e,t,n){if(LA.includes(e.caipNetworkId)){const r=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return O3([n,$b(r)])}return n},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:ue.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){const t=ye.getActiveCaipNetworkId(),n=V.getAllRequestedCaipNetworks(),r=Array.from(V.state.chains?.keys()||[]),s=t?.split(":")[0],i=s?r.includes(s):!1,a=n?.find(u=>u.caipNetworkId===t);return i&&!a&&t?this.getUnsupportedNetwork(t):a||e||n?.[0]}};let iie=class j1{constructor(){}static getInstance({projectId:t,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:a,getCaipNetworks:c}){const{metadata:u,sdkVersion:d,sdkType:h}=de.getSnapshot();return j1.instance||(j1.instance=new IQ({projectId:t,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:a,getCaipNetworks:c,enableCloudAuthAccount:!!de.state.remoteFeatures?.emailCapture,metadata:u,sdkVersion:d,sdkType:h})),j1.instance}};var I0={exports:{}},dk;function aie(){if(dk)return I0.exports;dk=1;const e=R2();I0.exports=h;const t=Z().console||{},n={mapHttpRequest:P,mapHttpResponse:P,wrapRequestSerializer:L,wrapResponseSerializer:L,wrapErrorSerializer:L,req:P,res:P,err:S,errWithCause:S};function r(y,_){return y==="silent"?1/0:_.levels.values[y]}const s=Symbol("pino.logFuncs"),i=Symbol("pino.hierarchy"),a={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(y,_){const T={logger:_,parent:y[i]};_[i]=T}function u(y,_,T){const $={};_.forEach(U=>{$[U]=T[U]?T[U]:t[U]||t[a[U]||"log"]||j}),y[s]=$}function d(y,_){return Array.isArray(y)?y.filter(function($){return $!=="!stdSerializers.err"}):y===!0?Object.keys(_):!1}function h(y){y=y||{},y.browser=y.browser||{};const _=y.browser.transmit;if(_&&typeof _.send!="function")throw Error("pino: transmit option must have a send function");const T=y.browser.write||t;y.browser.write&&(y.browser.asObject=!0);const $=y.serializers||{},U=d(y.browser.serialize,$);let q=y.browser.serialize;Array.isArray(y.browser.serialize)&&y.browser.serialize.indexOf("!stdSerializers.err")>-1&&(q=!1);const M=Object.keys(y.customLevels||{}),z=["error","fatal","warn","info","debug","trace"].concat(M);typeof T=="function"&&z.forEach(function(we){T[we]=T}),(y.enabled===!1||y.browser.disabled)&&(y.level="silent");const J=y.level||"info",D=Object.create(T);D.log||(D.log=j),u(D,z,T),c({},D),Object.defineProperty(D,"levelVal",{get:le}),Object.defineProperty(D,"level",{get:be,set:$e});const Q={transmit:_,serialize:U,asObject:y.browser.asObject,asObjectBindingsOnly:y.browser.asObjectBindingsOnly,formatters:y.browser.formatters,levels:z,timestamp:x(y),messageKey:y.messageKey||"msg",onChild:y.onChild||j};D.levels=m(y),D.level=J,D.isLevelEnabled=function(we){return this.levels.values[we]?this.levels.values[we]>=this.levels.values[this.level]:!1},D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=j,D.serializers=$,D._serialize=U,D._stdErrSerialize=q,D.child=function(...we){return _e.call(this,Q,...we)},_&&(D._logEvent=N());function le(){return r(this.level,this)}function be(){return this._level}function $e(we){if(we!=="silent"&&!this.levels.values[we])throw Error("unknown level "+we);this._level=we,v(this,Q,D,"error"),v(this,Q,D,"fatal"),v(this,Q,D,"warn"),v(this,Q,D,"info"),v(this,Q,D,"debug"),v(this,Q,D,"trace"),M.forEach(je=>{v(this,Q,D,je)})}function _e(we,je,Et){if(!je)throw new Error("missing bindings for child Pino");Et=Et||{},U&&je.serializers&&(Et.serializers=je.serializers);const mn=Et.serializers;if(U&&mn){var kt=Object.assign({},$,mn),Vn=y.browser.serialize===!0?Object.keys(kt):U;delete je.serializers,k([je],Vn,kt,this._stdErrSerialize)}function vr(Qn){this._childLevel=(Qn._childLevel|0)+1,this.bindings=je,kt&&(this.serializers=kt,this._serialize=Vn),_&&(this._logEvent=N([].concat(Qn._logEvent.bindings,je)))}vr.prototype=this;const Fn=new vr(this);return c(this,Fn),Fn.child=function(...Qn){return _e.call(this,we,...Qn)},Fn.level=Et.level||this.level,we.onChild(Fn),Fn}return D}function m(y){const _=y.customLevels||{},T=Object.assign({},h.levels.values,_),$=Object.assign({},h.levels.labels,g(_));return{values:T,labels:$}}function g(y){const _={};return Object.keys(y).forEach(function(T){_[y[T]]=T}),_}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=n,h.stdTimeFunctions=Object.assign({},{nullTime:W,epochTime:Y,unixTime:G,isoTime:K});function w(y){const _=[];y.bindings&&_.push(y.bindings);let T=y[i];for(;T.parent;)T=T.parent,T.logger.bindings&&_.push(T.logger.bindings);return _.reverse()}function v(y,_,T,$){if(Object.defineProperty(y,$,{value:r(y.level,T)>r($,T)?j:T[s][$],writable:!0,enumerable:!0,configurable:!0}),y[$]===j){if(!_.transmit)return;const q=_.transmit.level||y.level,M=r(q,T);if(r($,T)<M)return}y[$]=A(y,_,T,$);const U=w(y);U.length!==0&&(y[$]=E(U,y[$]))}function E(y,_){return function(){return _.apply(this,[...y,...arguments])}}function A(y,_,T,$){return(function(U){return function(){const M=_.timestamp(),z=new Array(arguments.length),J=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var D=0;D<z.length;D++)z[D]=arguments[D];var Q=!1;if(_.serialize&&(k(z,this._serialize,this.serializers,this._stdErrSerialize),Q=!0),_.asObject||_.formatters?U.call(J,...R(this,$,z,M,_)):U.apply(J,z),_.transmit){const le=_.transmit.level||y._level,be=r(le,T),$e=r($,T);if($e<be)return;I(this,{ts:M,methodLevel:$,methodValue:$e,transmitValue:T.levels.values[_.transmit.level||y._level],send:_.transmit.send,val:r(y._level,T)},z,Q)}}})(y[s][$])}function R(y,_,T,$,U){const{level:q,log:M=le=>le}=U.formatters||{},z=T.slice();let J=z[0];const D={};let Q=(y._childLevel|0)+1;if(Q<1&&(Q=1),$&&(D.time=$),q){const le=q(_,y.levels.values[_]);Object.assign(D,le)}else D.level=y.levels.values[_];if(U.asObjectBindingsOnly){if(J!==null&&typeof J=="object")for(;Q--&&typeof z[0]=="object";)Object.assign(D,z.shift());return[M(D),...z]}else{if(J!==null&&typeof J=="object"){for(;Q--&&typeof z[0]=="object";)Object.assign(D,z.shift());J=z.length?e(z.shift(),z):void 0}else typeof J=="string"&&(J=e(z.shift(),z));return J!==void 0&&(D[U.messageKey]=J),[M(D)]}}function k(y,_,T,$){for(const U in y)if($&&y[U]instanceof Error)y[U]=h.stdSerializers.err(y[U]);else if(typeof y[U]=="object"&&!Array.isArray(y[U])&&_)for(const q in y[U])_.indexOf(q)>-1&&q in T&&(y[U][q]=T[q](y[U][q]))}function I(y,_,T,$=!1){const U=_.send,q=_.ts,M=_.methodLevel,z=_.methodValue,J=_.val,D=y._logEvent.bindings;$||k(T,y._serialize||Object.keys(y.serializers),y.serializers,y._stdErrSerialize===void 0?!0:y._stdErrSerialize),y._logEvent.ts=q,y._logEvent.messages=T.filter(function(Q){return D.indexOf(Q)===-1}),y._logEvent.level.label=M,y._logEvent.level.value=z,U(M,y._logEvent,J),y._logEvent=N(D)}function N(y){return{ts:0,messages:[],bindings:y||[],level:{label:"",value:0}}}function S(y){const _={type:y.constructor.name,msg:y.message,stack:y.stack};for(const T in y)_[T]===void 0&&(_[T]=y[T]);return _}function x(y){return typeof y.timestamp=="function"?y.timestamp:y.timestamp===!1?W:Y}function P(){return{}}function L(y){return y}function j(){}function W(){return!1}function Y(){return Date.now()}function G(){return Math.round(Date.now()/1e3)}function K(){return new Date(Date.now()).toISOString()}function Z(){function y(_){return typeof _<"u"&&_}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return y(self)||y(window)||y(this)||{}}}return I0.exports.default=h,I0.exports.pino=h,I0.exports}var bh=aie();const _M=Wc(bh),oie={level:"info"},VE="custom_context",j2=1e3*1024;var cie=Object.defineProperty,lie=(e,t,n)=>t in e?cie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wl=(e,t,n)=>lie(e,typeof t!="symbol"?t+"":t,n);let uie=class{constructor(t){Wl(this,"nodeValue"),Wl(this,"sizeInBytes"),Wl(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},fk=class{constructor(t){Wl(this,"lengthInNodes"),Wl(this,"sizeInBytes"),Wl(this,"head"),Wl(this,"tail"),Wl(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new uie(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}};var die=Object.defineProperty,fie=(e,t,n)=>t in e?die(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yb=(e,t,n)=>fie(e,typeof t!="symbol"?t+"":t,n);let AM=class{constructor(t,n=j2){Yb(this,"logs"),Yb(this,"level"),Yb(this,"levelValue"),Yb(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=bh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new fk(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===bh.levels.values.error?console.error(t):n===bh.levels.values.warn?console.warn(t):n===bh.levels.values.debug?console.debug(t):n===bh.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Hi({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new fk(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(Hi({extraMetadata:t})),new Blob(n,{type:"application/json"})}};var hie=Object.defineProperty,pie=(e,t,n)=>t in e?hie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mie=(e,t,n)=>pie(e,t+"",n);let gie=class{constructor(t,n=j2){mie(this,"baseChunkLogger"),this.baseChunkLogger=new AM(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var yie=Object.defineProperty,bie=(e,t,n)=>t in e?yie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wie=(e,t,n)=>bie(e,t+"",n);let Eie=class{constructor(t,n=j2){wie(this,"baseChunkLogger"),this.baseChunkLogger=new AM(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var vie=Object.defineProperty,Cie=Object.defineProperties,_ie=Object.getOwnPropertyDescriptors,hk=Object.getOwnPropertySymbols,Aie=Object.prototype.hasOwnProperty,Sie=Object.prototype.propertyIsEnumerable,pk=(e,t,n)=>t in e?vie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mw=(e,t)=>{for(var n in t||(t={}))Aie.call(t,n)&&pk(e,n,t[n]);if(hk)for(var n of hk(t))Sie.call(t,n)&&pk(e,n,t[n]);return e},Lw=(e,t)=>Cie(e,_ie(t));function Nie(e){return Lw(Mw({},e),{level:e?.level||oie.level})}function Tie(e,t,n=VE){return e[n]=t,e}function bi(e,t=VE){return e[t]||""}function Iie(e,t,n=VE){const r=bi(e,n);return r.trim()?`${r}/${t}`:t}function Wi(e,t,n=VE){const r=Iie(e,t,n),s=e.child({context:r});return Tie(s,r,n)}function Oie(e){var t,n;const r=new gie((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:_M(Lw(Mw({},e.opts),{level:"trace",browser:Lw(Mw({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Rie(e){var t;const n=new Eie((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:_M(Lw(Mw({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function SM(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Oie(e):Rie(e)}var xie=Object.defineProperty,kie=(e,t,n)=>t in e?xie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mk=(e,t,n)=>kie(e,typeof t!="symbol"?t+"":t,n);let Pie=class extends tf{constructor(t){super(),this.opts=t,mk(this,"protocol","wc"),mk(this,"version",2)}};var Uie=Object.defineProperty,$ie=(e,t,n)=>t in e?Uie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Die=(e,t,n)=>$ie(e,t+"",n);let Mie=class extends tf{constructor(t,n){super(),this.core=t,this.logger=n,Die(this,"records",new Map)}},Lie=class{constructor(t,n){this.logger=t,this.core=n}},Bie=class extends tf{constructor(t,n){super(),this.relayer=t,this.logger=n}},Fie=class extends tf{constructor(t){super()}},jie=class{constructor(t,n,r,s){this.core=t,this.logger=n,this.name=r}},zie=class extends tf{constructor(t,n){super(),this.relayer=t,this.logger=n}},Hie=class extends tf{constructor(t,n){super(),this.core=t,this.logger=n}},qie=class{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}},Wie=class{constructor(t,n){this.projectId=t,this.logger=n}},Vie=class{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}};var Gie=Object.defineProperty,Kie=(e,t,n)=>t in e?Gie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gk=(e,t,n)=>Kie(e,typeof t!="symbol"?t+"":t,n);let Yie=class{constructor(t){this.opts=t,gk(this,"protocol","wc"),gk(this,"version",2)}},Zie=class{constructor(t){this.client=t}};function Xie(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function NM(e,...t){if(!Xie(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function yk(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Jie(e,t){NM(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const rh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const BA=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Qie(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function TM(e){return typeof e=="string"&&(e=Qie(e)),NM(e),e}let eae=class{clone(){return this._cloneInto()}};function tae(e){const t=r=>e().update(TM(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function IM(e=32){if(rh&&typeof rh.getRandomValues=="function")return rh.getRandomValues(new Uint8Array(e));if(rh&&typeof rh.randomBytes=="function")return rh.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function nae(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i),u=r?4:0,d=r?0:4;e.setUint32(t+u,a,r),e.setUint32(t+d,c,r)}let rae=class extends eae{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=BA(this.buffer)}update(t){yk(this);const{view:n,buffer:r,blockLen:s}=this;t=TM(t);const i=t.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const u=BA(t);for(;s<=i-a;a+=s)this.process(u,a);continue}r.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){yk(this),Jie(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let m=a;m<s;m++)n[m]=0;nae(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=BA(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<d;m++)c.setUint32(4*m,h[m],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:c}=this;return t.length=s,t.pos=c,t.finished=i,t.destroyed=a,s%n&&t.buffer.set(r),t}};const Zb=BigInt(2**32-1),N6=BigInt(32);function OM(e,t=!1){return t?{h:Number(e&Zb),l:Number(e>>N6&Zb)}:{h:Number(e>>N6&Zb)|0,l:Number(e&Zb)|0}}function sae(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:a}=OM(e[s],t);[n[s],r[s]]=[i,a]}return[n,r]}const iae=(e,t)=>BigInt(e>>>0)<<N6|BigInt(t>>>0),aae=(e,t,n)=>e>>>n,oae=(e,t,n)=>e<<32-n|t>>>n,cae=(e,t,n)=>e>>>n|t<<32-n,lae=(e,t,n)=>e<<32-n|t>>>n,uae=(e,t,n)=>e<<64-n|t>>>n-32,dae=(e,t,n)=>e>>>n-32|t<<64-n,fae=(e,t)=>t,hae=(e,t)=>e,pae=(e,t,n)=>e<<n|t>>>32-n,mae=(e,t,n)=>t<<n|e>>>32-n,gae=(e,t,n)=>t<<n-32|e>>>64-n,yae=(e,t,n)=>e<<n-32|t>>>64-n;function bae(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const wae=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Eae=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,vae=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Cae=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,_ae=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Aae=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,Bt={fromBig:OM,split:sae,toBig:iae,shrSH:aae,shrSL:oae,rotrSH:cae,rotrSL:lae,rotrBH:uae,rotrBL:dae,rotr32H:fae,rotr32L:hae,rotlSH:pae,rotlSL:mae,rotlBH:gae,rotlBL:yae,add:bae,add3L:wae,add3H:Eae,add4L:vae,add4H:Cae,add5H:Aae,add5L:_ae},[Sae,Nae]=Bt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Al=new Uint32Array(80),Sl=new Uint32Array(80);let Tae=class extends rae{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:a,Dh:c,Dl:u,Eh:d,El:h,Fh:m,Fl:g,Gh:w,Gl:v,Hh:E,Hl:A}=this;return[t,n,r,s,i,a,c,u,d,h,m,g,w,v,E,A]}set(t,n,r,s,i,a,c,u,d,h,m,g,w,v,E,A){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=d|0,this.El=h|0,this.Fh=m|0,this.Fl=g|0,this.Gh=w|0,this.Gl=v|0,this.Hh=E|0,this.Hl=A|0}process(t,n){for(let I=0;I<16;I++,n+=4)Al[I]=t.getUint32(n),Sl[I]=t.getUint32(n+=4);for(let I=16;I<80;I++){const N=Al[I-15]|0,S=Sl[I-15]|0,x=Bt.rotrSH(N,S,1)^Bt.rotrSH(N,S,8)^Bt.shrSH(N,S,7),P=Bt.rotrSL(N,S,1)^Bt.rotrSL(N,S,8)^Bt.shrSL(N,S,7),L=Al[I-2]|0,j=Sl[I-2]|0,W=Bt.rotrSH(L,j,19)^Bt.rotrBH(L,j,61)^Bt.shrSH(L,j,6),Y=Bt.rotrSL(L,j,19)^Bt.rotrBL(L,j,61)^Bt.shrSL(L,j,6),G=Bt.add4L(P,Y,Sl[I-7],Sl[I-16]),K=Bt.add4H(G,x,W,Al[I-7],Al[I-16]);Al[I]=K|0,Sl[I]=G|0}let{Ah:r,Al:s,Bh:i,Bl:a,Ch:c,Cl:u,Dh:d,Dl:h,Eh:m,El:g,Fh:w,Fl:v,Gh:E,Gl:A,Hh:R,Hl:k}=this;for(let I=0;I<80;I++){const N=Bt.rotrSH(m,g,14)^Bt.rotrSH(m,g,18)^Bt.rotrBH(m,g,41),S=Bt.rotrSL(m,g,14)^Bt.rotrSL(m,g,18)^Bt.rotrBL(m,g,41),x=m&w^~m&E,P=g&v^~g&A,L=Bt.add5L(k,S,P,Nae[I],Sl[I]),j=Bt.add5H(L,R,N,x,Sae[I],Al[I]),W=L|0,Y=Bt.rotrSH(r,s,28)^Bt.rotrBH(r,s,34)^Bt.rotrBH(r,s,39),G=Bt.rotrSL(r,s,28)^Bt.rotrBL(r,s,34)^Bt.rotrBL(r,s,39),K=r&i^r&c^i&c,Z=s&a^s&u^a&u;R=E|0,k=A|0,E=w|0,A=v|0,w=m|0,v=g|0,{h:m,l:g}=Bt.add(d|0,h|0,j|0,W|0),d=c|0,h=u|0,c=i|0,u=a|0,i=r|0,a=s|0;const y=Bt.add3L(W,G,Z);r=Bt.add3H(y,j,Y,K),s=y|0}({h:r,l:s}=Bt.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:a}=Bt.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:c,l:u}=Bt.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:d,l:h}=Bt.add(this.Dh|0,this.Dl|0,d|0,h|0),{h:m,l:g}=Bt.add(this.Eh|0,this.El|0,m|0,g|0),{h:w,l:v}=Bt.add(this.Fh|0,this.Fl|0,w|0,v|0),{h:E,l:A}=Bt.add(this.Gh|0,this.Gl|0,E|0,A|0),{h:R,l:k}=Bt.add(this.Hh|0,this.Hl|0,R|0,k|0),this.set(r,s,i,a,c,u,d,h,m,g,w,v,E,A,R,k)}roundClean(){Al.fill(0),Sl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Iae=tae(()=>new Tae);const z2=BigInt(0),RM=BigInt(1),Oae=BigInt(2);function H2(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function q2(e){if(!H2(e))throw new Error("Uint8Array expected")}function FA(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const Rae=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function W2(e){q2(e);let t="";for(let n=0;n<e.length;n++)t+=Rae[e[n]];return t}function xM(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?z2:BigInt("0x"+e)}const oc={_0:48,_9:57,A:65,F:70,a:97,f:102};function bk(e){if(e>=oc._0&&e<=oc._9)return e-oc._0;if(e>=oc.A&&e<=oc.F)return e-(oc.A-10);if(e>=oc.a&&e<=oc.f)return e-(oc.a-10)}function kM(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=bk(e.charCodeAt(i)),c=bk(e.charCodeAt(i+1));if(a===void 0||c===void 0){const u=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}r[s]=a*16+c}return r}function xae(e){return xM(W2(e))}function z1(e){return q2(e),xM(W2(Uint8Array.from(e).reverse()))}function PM(e,t){return kM(e.toString(16).padStart(t*2,"0"))}function T6(e,t){return PM(e,t).reverse()}function cc(e,t,n){let r;if(typeof t=="string")try{r=kM(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(H2(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function wk(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];q2(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const jA=e=>typeof e=="bigint"&&z2<=e;function kae(e,t,n){return jA(e)&&jA(t)&&jA(n)&&t<=e&&e<n}function O0(e,t,n,r){if(!kae(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Pae(e){let t;for(t=0;e>z2;e>>=RM,t+=1);return t}const Uae=e=>(Oae<<BigInt(e-1))-RM,$ae={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||H2(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function V2(e,t,n={}){const r=(s,i,a)=>{const c=$ae[i];if(typeof c!="function")throw new Error("invalid validator function");const u=e[s];if(!(a&&u===void 0)&&!c(u,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+u)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function Ek(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const Qr=BigInt(0),br=BigInt(1),cd=BigInt(2),Dae=BigInt(3),I6=BigInt(4),vk=BigInt(5),Ck=BigInt(8);function Fr(e,t){const n=e%t;return n>=Qr?n:t+n}function Mae(e,t,n){if(t<Qr)throw new Error("invalid exponent, negatives unsupported");if(n<=Qr)throw new Error("invalid modulus");if(n===br)return Qr;let r=br;for(;t>Qr;)t&br&&(r=r*e%n),e=e*e%n,t>>=br;return r}function uo(e,t,n){let r=e;for(;t-- >Qr;)r*=r,r%=n;return r}function _k(e,t){if(e===Qr)throw new Error("invert: expected non-zero number");if(t<=Qr)throw new Error("invert: expected positive modulus, got "+t);let n=Fr(e,t),r=t,s=Qr,i=br;for(;n!==Qr;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==br)throw new Error("invert: does not exist");return Fr(s,t)}function Lae(e){const t=(e-br)/cd;let n,r,s;for(n=e-br,r=0;n%cd===Qr;n/=cd,r++);for(s=cd;s<e&&Mae(s,t,e)!==e-br;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(e+br)/I6;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const i=(n+br)/cd;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,d=a.pow(a.mul(a.ONE,s),n),h=a.pow(c,i),m=a.pow(c,n);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let g=1;for(let v=a.sqr(m);g<u&&!a.eql(v,a.ONE);g++)v=a.sqr(v);const w=a.pow(d,br<<BigInt(u-g-1));d=a.sqr(w),h=a.mul(h,w),m=a.mul(m,d),u=g}return h}}function Bae(e){if(e%I6===Dae){const t=(e+br)/I6;return function(n,r){const s=n.pow(r,t);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(e%Ck===vk){const t=(e-vk)/Ck;return function(n,r){const s=n.mul(r,cd),i=n.pow(s,t),a=n.mul(r,i),c=n.mul(n.mul(a,cd),i),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return Lae(e)}const Fae=(e,t)=>(Fr(e,t)&br)===br,jae=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zae(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=jae.reduce((r,s)=>(r[s]="function",r),t);return V2(e,n)}function Hae(e,t,n){if(n<Qr)throw new Error("invalid exponent, negatives unsupported");if(n===Qr)return e.ONE;if(n===br)return t;let r=e.ONE,s=t;for(;n>Qr;)n&br&&(r=e.mul(r,s)),s=e.sqr(s),n>>=br;return r}function qae(e,t){const n=new Array(t.length),r=t.reduce((i,a,c)=>e.is0(a)?i:(n[c]=i,e.mul(i,a)),e.ONE),s=e.inv(r);return t.reduceRight((i,a,c)=>e.is0(a)?i:(n[c]=e.mul(i,n[c]),e.mul(i,a)),s),n}function UM(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function $M(e,t,n=!1,r={}){if(e<=Qr)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=UM(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:Uae(s),ZERO:Qr,ONE:br,create:u=>Fr(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Qr<=u&&u<e},is0:u=>u===Qr,isOdd:u=>(u&br)===br,neg:u=>Fr(-u,e),eql:(u,d)=>u===d,sqr:u=>Fr(u*u,e),add:(u,d)=>Fr(u+d,e),sub:(u,d)=>Fr(u-d,e),mul:(u,d)=>Fr(u*d,e),pow:(u,d)=>Hae(c,u,d),div:(u,d)=>Fr(u*_k(d,e),e),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>_k(u,e),sqrt:r.sqrt||(u=>(a||(a=Bae(e)),a(c,u))),invertBatch:u=>qae(c,u),cmov:(u,d,h)=>h?d:u,toBytes:u=>n?T6(u,i):PM(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return n?z1(u):xae(u)}});return Object.freeze(c)}const Ak=BigInt(0),Xb=BigInt(1);function zA(e,t){const n=t.negate();return e?n:t}function DM(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function HA(e,t){DM(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function Wae(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Vae(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const qA=new WeakMap,MM=new WeakMap;function WA(e){return MM.get(e)||1}function Gae(e,t){return{constTimeNegate:zA,hasPrecomputes(n){return WA(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>Ak;)r&Xb&&(s=s.add(i)),i=i.double(),r>>=Xb;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=HA(r,t),a=[];let c=n,u=c;for(let d=0;d<s;d++){u=c,a.push(u);for(let h=1;h<i;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,s){const{windows:i,windowSize:a}=HA(n,t);let c=e.ZERO,u=e.BASE;const d=BigInt(2**n-1),h=2**n,m=BigInt(n);for(let g=0;g<i;g++){const w=g*a;let v=Number(s&d);s>>=m,v>a&&(v-=h,s+=Xb);const E=w,A=w+Math.abs(v)-1,R=g%2!==0,k=v<0;v===0?u=u.add(zA(R,r[E])):c=c.add(zA(k,r[A]))}return{p:c,f:u}},wNAFUnsafe(n,r,s,i=e.ZERO){const{windows:a,windowSize:c}=HA(n,t),u=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let m=0;m<a;m++){const g=m*c;if(s===Ak)break;let w=Number(s&u);if(s>>=h,w>c&&(w-=d,s+=Xb),w===0)continue;let v=r[g+Math.abs(w)-1];w<0&&(v=v.negate()),i=i.add(v)}return i},getPrecomputes(n,r,s){let i=qA.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&qA.set(r,s(i))),i},wNAFCached(n,r,s){const i=WA(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const a=WA(n);return a===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(a,this.getPrecomputes(a,n,s),r,i)},setWindowSize(n,r){DM(r,t),MM.set(n,r),qA.delete(n)}}}function Kae(e,t,n,r){if(Wae(n,e),Vae(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,i=Pae(BigInt(n.length)),a=i>12?i-3:i>4?i-2:i?2:1,c=(1<<a)-1,u=new Array(c+1).fill(s),d=Math.floor((t.BITS-1)/a)*a;let h=s;for(let m=d;m>=0;m-=a){u.fill(s);for(let w=0;w<r.length;w++){const v=r[w],E=Number(v>>BigInt(m)&BigInt(c));u[E]=u[E].add(n[w])}let g=s;for(let w=u.length-1,v=s;w>0;w--)v=v.add(u[w]),g=g.add(v);if(h=h.add(g),m!==0)for(let w=0;w<a;w++)h=h.double()}return h}function Yae(e){return zae(e.Fp),V2(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...UM(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Ua=BigInt(0),Ys=BigInt(1),Jb=BigInt(2),Zae=BigInt(8),Xae={zip215:!0};function Jae(e){const t=Yae(e);return V2(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Qae(e){const t=Jae(e),{Fp:n,n:r,prehash:s,hash:i,randomBytes:a,nByteLength:c,h:u}=t,d=Jb<<BigInt(c*8)-Ys,h=n.create,m=$M(t.n,t.nBitLength),g=t.uvRatio||((y,_)=>{try{return{isValid:!0,value:n.sqrt(y*n.inv(_))}}catch{return{isValid:!1,value:Ua}}}),w=t.adjustScalarBytes||(y=>y),v=t.domain||((y,_,T)=>{if(FA("phflag",T),_.length||T)throw new Error("Contexts/pre-hash are not supported");return y});function E(y,_){O0("coordinate "+y,_,Ua,d)}function A(y){if(!(y instanceof I))throw new Error("ExtendedPoint expected")}const R=Ek((y,_)=>{const{ex:T,ey:$,ez:U}=y,q=y.is0();_==null&&(_=q?Zae:n.inv(U));const M=h(T*_),z=h($*_),J=h(U*_);if(q)return{x:Ua,y:Ys};if(J!==Ys)throw new Error("invZ was invalid");return{x:M,y:z}}),k=Ek(y=>{const{a:_,d:T}=t;if(y.is0())throw new Error("bad point: ZERO");const{ex:$,ey:U,ez:q,et:M}=y,z=h($*$),J=h(U*U),D=h(q*q),Q=h(D*D),le=h(z*_),be=h(D*h(le+J)),$e=h(Q+h(T*h(z*J)));if(be!==$e)throw new Error("bad point: equation left != right (1)");const _e=h($*U),we=h(q*M);if(_e!==we)throw new Error("bad point: equation left != right (2)");return!0});class I{constructor(_,T,$,U){this.ex=_,this.ey=T,this.ez=$,this.et=U,E("x",_),E("y",T),E("z",$),E("t",U),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof I)throw new Error("extended point not allowed");const{x:T,y:$}=_||{};return E("x",T),E("y",$),new I(T,$,Ys,h(T*$))}static normalizeZ(_){const T=n.invertBatch(_.map($=>$.ez));return _.map(($,U)=>$.toAffine(T[U])).map(I.fromAffine)}static msm(_,T){return Kae(I,m,_,T)}_setWindowSize(_){x.setWindowSize(this,_)}assertValidity(){k(this)}equals(_){A(_);const{ex:T,ey:$,ez:U}=this,{ex:q,ey:M,ez:z}=_,J=h(T*z),D=h(q*U),Q=h($*z),le=h(M*U);return J===D&&Q===le}is0(){return this.equals(I.ZERO)}negate(){return new I(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:_}=t,{ex:T,ey:$,ez:U}=this,q=h(T*T),M=h($*$),z=h(Jb*h(U*U)),J=h(_*q),D=T+$,Q=h(h(D*D)-q-M),le=J+M,be=le-z,$e=J-M,_e=h(Q*be),we=h(le*$e),je=h(Q*$e),Et=h(be*le);return new I(_e,we,Et,je)}add(_){A(_);const{a:T,d:$}=t,{ex:U,ey:q,ez:M,et:z}=this,{ex:J,ey:D,ez:Q,et:le}=_;if(T===BigInt(-1)){const df=h((q-U)*(D+J)),ff=h((q+U)*(D-J)),Iu=h(ff-df);if(Iu===Ua)return this.double();const ly=h(M*Jb*le),uy=h(z*Jb*Q),ps=uy+ly,dy=ff+df,Cp=uy-ly,fy=h(ps*Iu),hf=h(dy*Cp),Ov=h(ps*Cp),hy=h(Iu*dy);return new I(fy,hf,hy,Ov)}const be=h(U*J),$e=h(q*D),_e=h(z*$*le),we=h(M*Q),je=h((U+q)*(J+D)-be-$e),Et=we-_e,mn=we+_e,kt=h($e-T*be),Vn=h(je*Et),vr=h(mn*kt),Fn=h(je*kt),Qn=h(Et*mn);return new I(Vn,vr,Qn,Fn)}subtract(_){return this.add(_.negate())}wNAF(_){return x.wNAFCached(this,_,I.normalizeZ)}multiply(_){const T=_;O0("scalar",T,Ys,r);const{p:$,f:U}=this.wNAF(T);return I.normalizeZ([$,U])[0]}multiplyUnsafe(_,T=I.ZERO){const $=_;return O0("scalar",$,Ua,r),$===Ua?S:this.is0()||$===Ys?this:x.wNAFCachedUnsafe(this,$,I.normalizeZ,T)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return x.unsafeLadder(this,r).is0()}toAffine(_){return R(this,_)}clearCofactor(){const{h:_}=t;return _===Ys?this:this.multiplyUnsafe(_)}static fromHex(_,T=!1){const{d:$,a:U}=t,q=n.BYTES;_=cc("pointHex",_,q),FA("zip215",T);const M=_.slice(),z=_[q-1];M[q-1]=z&-129;const J=z1(M),D=T?d:n.ORDER;O0("pointHex.y",J,Ua,D);const Q=h(J*J),le=h(Q-Ys),be=h($*Q-U);let{isValid:$e,value:_e}=g(le,be);if(!$e)throw new Error("Point.fromHex: invalid y coordinate");const we=(_e&Ys)===Ys,je=(z&128)!==0;if(!T&&_e===Ua&&je)throw new Error("Point.fromHex: x=0 and x_0=1");return je!==we&&(_e=h(-_e)),I.fromAffine({x:_e,y:J})}static fromPrivateKey(_){return j(_).point}toRawBytes(){const{x:_,y:T}=this.toAffine(),$=T6(T,n.BYTES);return $[$.length-1]|=_&Ys?128:0,$}toHex(){return W2(this.toRawBytes())}}I.BASE=new I(t.Gx,t.Gy,Ys,h(t.Gx*t.Gy)),I.ZERO=new I(Ua,Ys,Ys,Ua);const{BASE:N,ZERO:S}=I,x=Gae(I,c*8);function P(y){return Fr(y,r)}function L(y){return P(z1(y))}function j(y){const _=n.BYTES;y=cc("private key",y,_);const T=cc("hashed private key",i(y),2*_),$=w(T.slice(0,_)),U=T.slice(_,2*_),q=L($),M=N.multiply(q),z=M.toRawBytes();return{head:$,prefix:U,scalar:q,point:M,pointBytes:z}}function W(y){return j(y).pointBytes}function Y(y=new Uint8Array,..._){const T=wk(..._);return L(i(v(T,cc("context",y),!!s)))}function G(y,_,T={}){y=cc("message",y),s&&(y=s(y));const{prefix:$,scalar:U,pointBytes:q}=j(_),M=Y(T.context,$,y),z=N.multiply(M).toRawBytes(),J=Y(T.context,z,q,y),D=P(M+J*U);O0("signature.s",D,Ua,r);const Q=wk(z,T6(D,n.BYTES));return cc("result",Q,n.BYTES*2)}const K=Xae;function Z(y,_,T,$=K){const{context:U,zip215:q}=$,M=n.BYTES;y=cc("signature",y,2*M),_=cc("message",_),T=cc("publicKey",T,M),q!==void 0&&FA("zip215",q),s&&(_=s(_));const z=z1(y.slice(M,2*M));let J,D,Q;try{J=I.fromHex(T,q),D=I.fromHex(y.slice(0,M),q),Q=N.multiplyUnsafe(z)}catch{return!1}if(!q&&J.isSmallOrder())return!1;const le=Y(U,D.toRawBytes(),J.toRawBytes(),_);return D.add(J.multiplyUnsafe(le)).subtract(Q).clearCofactor().equals(I.ZERO)}return N._setWindowSize(8),{CURVE:t,getPublicKey:W,sign:G,verify:Z,ExtendedPoint:I,utils:{getExtendedPublicKey:j,randomPrivateKey:()=>a(n.BYTES),precompute(y=8,_=I.BASE){return _._setWindowSize(y),_.multiply(BigInt(3)),_}}}}BigInt(0),BigInt(1);const G2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Sk=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const eoe=BigInt(1),Nk=BigInt(2);BigInt(3);const toe=BigInt(5),noe=BigInt(8);function roe(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=G2,a=e*e%i*e%i,c=uo(a,Nk,i)*a%i,u=uo(c,eoe,i)*e%i,d=uo(u,toe,i)*u%i,h=uo(d,t,i)*d%i,m=uo(h,n,i)*h%i,g=uo(m,r,i)*m%i,w=uo(g,s,i)*g%i,v=uo(w,s,i)*g%i,E=uo(v,t,i)*d%i;return{pow_p_5_8:uo(E,Nk,i)*e%i,b2:a}}function soe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function ioe(e,t){const n=G2,r=Fr(t*t*t,n),s=Fr(r*r*t,n),i=roe(e*s).pow_p_5_8;let a=Fr(e*r*i,n);const c=Fr(t*a*a,n),u=a,d=Fr(a*Sk,n),h=c===e,m=c===Fr(-e,n),g=c===Fr(-e*Sk,n);return h&&(a=u),(m||g)&&(a=d),Fae(a,n)&&(a=Fr(-a,n)),{isValid:h||m,value:a}}const aoe=$M(G2,void 0,!0),ooe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:aoe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:noe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Iae,randomBytes:IM,adjustScalarBytes:soe,uvRatio:ioe},LM=Qae(ooe),coe="EdDSA",loe="JWT",Bw=".",GE="base64url",BM="utf8",FM="utf8",uoe=":",doe="did",foe="key",Tk="base58btc",hoe="z",poe="K36",moe=32;function K2(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function jM(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?K2(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function zM(e,t){t||(t=e.reduce((s,i)=>s+i.length,0));const n=jM(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return K2(n)}function goe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),a=i.charCodeAt(0);if(n[a]!==255)throw new TypeError(i+" is ambiguous");n[a]=s}var c=e.length,u=e.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function m(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,R=0,k=v.length;R!==k&&v[R]===0;)R++,E++;for(var I=(k-R)*h+1>>>0,N=new Uint8Array(I);R!==k;){for(var S=v[R],x=0,P=I-1;(S!==0||x<A)&&P!==-1;P--,x++)S+=256*N[P]>>>0,N[P]=S%c>>>0,S=S/c>>>0;if(S!==0)throw new Error("Non-zero carry");A=x,R++}for(var L=I-A;L!==I&&N[L]===0;)L++;for(var j=u.repeat(E);L<I;++L)j+=e.charAt(N[L]);return j}function g(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var A=0,R=0;v[E]===u;)A++,E++;for(var k=(v.length-E)*d+1>>>0,I=new Uint8Array(k);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var S=0,x=k-1;(N!==0||S<R)&&x!==-1;x--,S++)N+=c*I[x]>>>0,I[x]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");R=S,E++}if(v[E]!==" "){for(var P=k-R;P!==k&&I[P]===0;)P++;for(var L=new Uint8Array(A+(k-P)),j=A;P!==k;)L[j++]=I[P++];return L}}}function w(v){var E=g(v);if(E)return E;throw new Error(`Non-${t} character`)}return{encode:m,decodeUnsafe:g,decode:w}}var yoe=goe,boe=yoe;const HM=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},woe=e=>new TextEncoder().encode(e),Eoe=e=>new TextDecoder().decode(e);let voe=class{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Coe=class{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return qM(this,t)}},_oe=class{constructor(t){this.decoders=t}or(t){return qM(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const qM=(e,t)=>new _oe({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let Aoe=class{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new voe(t,n,r),this.decoder=new Coe(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const KE=({name:e,prefix:t,encode:n,decode:r})=>new Aoe(e,t,n,r),Hg=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=boe(n,t);return KE({prefix:e,name:t,encode:r,decode:i=>HM(s(i))})},Soe=(e,t,n,r)=>{const s={};for(let h=0;h<t.length;++h)s[t[h]]=h;let i=e.length;for(;e[i-1]==="=";)--i;const a=new Uint8Array(i*n/8|0);let c=0,u=0,d=0;for(let h=0;h<i;++h){const m=s[e[h]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|m,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},Noe=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",a=0,c=0;for(let u=0;u<e.length;++u)for(c=c<<8|e[u],a+=8;a>n;)a-=n,i+=t[s&c>>a];if(a&&(i+=t[s&c<<n-a]),r)for(;i.length*n&7;)i+="=";return i},fs=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>KE({prefix:t,name:e,encode(s){return Noe(s,r,n)},decode(s){return Soe(s,r,n,e)}}),Toe=KE({prefix:"\0",name:"identity",encode:e=>Eoe(e),decode:e=>woe(e)});var Ioe=Object.freeze({__proto__:null,identity:Toe});const Ooe=fs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Roe=Object.freeze({__proto__:null,base2:Ooe});const xoe=fs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var koe=Object.freeze({__proto__:null,base8:xoe});const Poe=Hg({prefix:"9",name:"base10",alphabet:"0123456789"});var Uoe=Object.freeze({__proto__:null,base10:Poe});const $oe=fs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Doe=fs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Moe=Object.freeze({__proto__:null,base16:$oe,base16upper:Doe});const Loe=fs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Boe=fs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Foe=fs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),joe=fs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zoe=fs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Hoe=fs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),qoe=fs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Woe=fs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Voe=fs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Goe=Object.freeze({__proto__:null,base32:Loe,base32upper:Boe,base32pad:Foe,base32padupper:joe,base32hex:zoe,base32hexupper:Hoe,base32hexpad:qoe,base32hexpadupper:Woe,base32z:Voe});const Koe=Hg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Yoe=Hg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Zoe=Object.freeze({__proto__:null,base36:Koe,base36upper:Yoe});const Xoe=Hg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Joe=Hg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Qoe=Object.freeze({__proto__:null,base58btc:Xoe,base58flickr:Joe});const ece=fs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),tce=fs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),nce=fs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),rce=fs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var sce=Object.freeze({__proto__:null,base64:ece,base64pad:tce,base64url:nce,base64urlpad:rce});const WM=Array.from(""),ice=WM.reduce((e,t,n)=>(e[n]=t,e),[]),ace=WM.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function oce(e){return e.reduce((t,n)=>(t+=ice[n],t),"")}function cce(e){const t=[];for(const n of e){const r=ace[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const lce=KE({prefix:"",name:"base256emoji",encode:oce,decode:cce});var uce=Object.freeze({__proto__:null,base256emoji:lce}),dce=VM,Ik=128,fce=-128,hce=Math.pow(2,31);function VM(e,t,n){t=t||[],n=n||0;for(var r=n;e>=hce;)t[n++]=e&255|Ik,e/=128;for(;e&fce;)t[n++]=e&255|Ik,e>>>=7;return t[n]=e|0,VM.bytes=n-r+1,t}var pce=O6,mce=128,Ok=127;function O6(e,r){var n=0,r=r||0,s=0,i=r,a,c=e.length;do{if(i>=c)throw O6.bytes=0,new RangeError("Could not decode varint");a=e[i++],n+=s<28?(a&Ok)<<s:(a&Ok)*Math.pow(2,s),s+=7}while(a>=mce);return O6.bytes=i-r,n}var gce=Math.pow(2,7),yce=Math.pow(2,14),bce=Math.pow(2,21),wce=Math.pow(2,28),Ece=Math.pow(2,35),vce=Math.pow(2,42),Cce=Math.pow(2,49),_ce=Math.pow(2,56),Ace=Math.pow(2,63),Sce=function(e){return e<gce?1:e<yce?2:e<bce?3:e<wce?4:e<Ece?5:e<vce?6:e<Cce?7:e<_ce?8:e<Ace?9:10},Nce={encode:dce,decode:pce,encodingLength:Sce},GM=Nce;const Rk=(e,t,n=0)=>(GM.encode(e,t,n),t),xk=e=>GM.encodingLength(e),R6=(e,t)=>{const n=t.byteLength,r=xk(e),s=r+xk(n),i=new Uint8Array(s+n);return Rk(e,i,0),Rk(n,i,r),i.set(t,s),new Tce(e,n,t,i)};let Tce=class{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}};const KM=({name:e,code:t,encode:n})=>new Ice(e,t,n);let Ice=class{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?R6(this.code,n):n.then(r=>R6(this.code,r))}else throw Error("Unknown type, must be binary type")}};const YM=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Oce=KM({name:"sha2-256",code:18,encode:YM("SHA-256")}),Rce=KM({name:"sha2-512",code:19,encode:YM("SHA-512")});var xce=Object.freeze({__proto__:null,sha256:Oce,sha512:Rce});const ZM=0,kce="identity",XM=HM,Pce=e=>R6(ZM,XM(e)),Uce={code:ZM,name:kce,encode:XM,digest:Pce};var $ce=Object.freeze({__proto__:null,identity:Uce});new TextEncoder,new TextDecoder;const kk={...Ioe,...Roe,...koe,...Uoe,...Moe,...Goe,...Zoe,...Qoe,...sce,...uce};({...xce,...$ce});function JM(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Pk=JM("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),VA=JM("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=jM(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),QM={utf8:Pk,"utf-8":Pk,hex:kk.base16,latin1:VA,ascii:VA,binary:VA,...kk};function YE(e,t="utf8"){const n=QM[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function mp(e,t="utf8"){const n=QM[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?K2(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function Uk(e){return Bd(YE(mp(e,GE),BM))}function Fw(e){return YE(mp(Hi(e),BM),GE)}function eL(e){const t=mp(poe,Tk),n=hoe+YE(zM([t,e]),Tk);return[doe,foe,n].join(uoe)}function Dce(e){return YE(e,GE)}function Mce(e){return mp(e,GE)}function Lce(e){return mp([Fw(e.header),Fw(e.payload)].join(Bw),FM)}function Bce(e){return[Fw(e.header),Fw(e.payload),Dce(e.signature)].join(Bw)}function x6(e){const t=e.split(Bw),n=Uk(t[0]),r=Uk(t[1]),s=Mce(t[2]),i=mp(t.slice(0,2).join(Bw),FM);return{header:n,payload:r,signature:s,data:i}}function $k(e=IM(moe)){const t=LM.getPublicKey(e);return{secretKey:zM([e,t]),publicKey:t}}async function Fce(e,t,n,r,s=Te.fromMiliseconds(Date.now())){const i={alg:coe,typ:loe},a=eL(r.publicKey),c=s+n,u={iss:a,sub:e,aud:t,iat:s,exp:c},d=Lce({header:i,payload:u}),h=LM.sign(d,r.secretKey.slice(0,32));return Bce({header:i,payload:u,signature:h})}const jce="0.1.1";function zce(){return jce}let Er=class k6 extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof k6){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof k6&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${s??""}`,c=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${a}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${zce()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=s,this.shortMessage=t}walk(t){return tL(this,t)}};function tL(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?tL(e.cause,t):t?null:e}const Y2=BigInt(0),P6=BigInt(1);function qg(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Z2(e){if(!qg(e))throw new Error("Uint8Array expected")}function Hm(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Qb(e){const t=e.toString(16);return t.length&1?"0"+t:t}function nL(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Y2:BigInt("0x"+e)}const rL=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Hce=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qm(e){if(Z2(e),rL)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Hce[e[n]];return t}const lc={_0:48,_9:57,A:65,F:70,a:97,f:102};function Dk(e){if(e>=lc._0&&e<=lc._9)return e-lc._0;if(e>=lc.A&&e<=lc.F)return e-(lc.A-10);if(e>=lc.a&&e<=lc.f)return e-(lc.a-10)}function jw(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(rL)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=Dk(e.charCodeAt(i)),c=Dk(e.charCodeAt(i+1));if(a===void 0||c===void 0){const u=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}r[s]=a*16+c}return r}function Td(e){return nL(qm(e))}function sL(e){return Z2(e),nL(qm(Uint8Array.from(e).reverse()))}function Wg(e,t){return jw(e.toString(16).padStart(t*2,"0"))}function iL(e,t){return Wg(e,t).reverse()}function fa(e,t,n){let r;if(typeof t=="string")try{r=jw(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(qg(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function zw(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Z2(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const GA=e=>typeof e=="bigint"&&Y2<=e;function X2(e,t,n){return GA(e)&&GA(t)&&GA(n)&&t<=e&&e<n}function Ih(e,t,n,r){if(!X2(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function qce(e){let t;for(t=0;e>Y2;e>>=P6,t+=1);return t}const ZE=e=>(P6<<BigInt(e))-P6,KA=e=>new Uint8Array(e),Mk=e=>Uint8Array.from(e);function Wce(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=KA(e),s=KA(e),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},c=(...m)=>n(s,r,...m),u=(m=KA(0))=>{s=c(Mk([0]),m),r=c(),m.length!==0&&(s=c(Mk([1]),m),r=c())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const g=[];for(;m<t;){r=c();const w=r.slice();g.push(w),m+=r.length}return zw(...g)};return(m,g)=>{a(),u(m);let w;for(;!(w=g(d()));)u();return a(),w}}const Vce={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||qg(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function XE(e,t,n={}){const r=(s,i,a)=>{const c=Vce[i];if(typeof c!="function")throw new Error("invalid validator function");const u=e[s];if(!(a&&u===void 0)&&!c(u,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+u)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function Lk(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}function Gce(e,t){if(zk(e)>t)throw new ple({givenSize:zk(e),maxSize:t})}const uc={zero:48,nine:57,A:65,F:70,a:97,f:102};function Bk(e){if(e>=uc.zero&&e<=uc.nine)return e-uc.zero;if(e>=uc.A&&e<=uc.F)return e-(uc.A-10);if(e>=uc.a&&e<=uc.f)return e-(uc.a-10)}function Kce(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new mle({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const a=n==="right";s[a?i:r-i-1]=e[a?i:e.length-i-1]}return s}function aL(e,t){if(mu(e)>t)throw new sle({givenSize:mu(e),maxSize:t})}function Yce(e,t){if(typeof t=="number"&&t>0&&t>mu(e)-1)throw new lL({offset:t,position:"start",size:mu(e)})}function Zce(e,t,n){if(typeof t=="number"&&typeof n=="number"&&mu(e)!==n-t)throw new lL({offset:n,position:"end",size:mu(e)})}function oL(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new ile({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Xce="#__bigint";function J2(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+Xce:s,n)}const Jce=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qce(e,t={}){const{strict:n=!1}=t;if(!e)throw new Fk(e);if(typeof e!="string")throw new Fk(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new jk(e);if(!e.startsWith("0x"))throw new jk(e)}function ele(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Q2(e){return e instanceof Uint8Array?Hw(e):Array.isArray(e)?Hw(new Uint8Array(e)):e}function Hw(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Jce[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(aL(r,t.size),cL(r,t.size)):r}function YA(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const d=typeof e=="bigint"?"n":"";throw new rle({max:i?`${i}${d}`:void 0,min:`${a}${d}`,signed:n,size:r,value:`${e}${d}`})}const u=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?tle(u,r):u}function tle(e,t){return oL(e,{dir:"left",size:t})}function cL(e,t){return oL(e,{dir:"right",size:t})}function Cc(e,t,n,r={}){const{strict:s}=r;Yce(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Zce(i,t,n),i}function mu(e){return Math.ceil((e.length-2)/2)}function nle(e,t={}){const{strict:n=!1}=t;try{return Qce(e,{strict:n}),!0}catch{return!1}}let rle=class extends Er{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},Fk=class extends Er{constructor(t){super(`Value \`${typeof t=="object"?J2(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},jk=class extends Er{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},sle=class extends Er{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},lL=class extends Er{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},ile=class extends Er{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const ale=new TextEncoder;function ole(e){if(!(e instanceof Uint8Array)){if(!e)throw new e1(e);if(typeof e!="object")throw new e1(e);if(!("BYTES_PER_ELEMENT"in e))throw new e1(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new e1(e)}}function cle(e){return e instanceof Uint8Array?e:typeof e=="string"?ule(e):lle(e)}function lle(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function ule(e,t={}){const{size:n}=t;let r=e;n&&(aL(e,n),r=cL(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,a=new Uint8Array(i);for(let c=0,u=0;c<i;c++){const d=Bk(s.charCodeAt(u++)),h=Bk(s.charCodeAt(u++));if(d===void 0||h===void 0)throw new Er(`Invalid byte sequence ("${s[u-2]}${s[u-1]}" in "${s}").`);a[c]=d*16+h}return a}function dle(e,t={}){const{size:n}=t,r=ale.encode(e);return typeof n=="number"?(Gce(r,n),fle(r,n)):r}function fle(e,t){return Kce(e,{dir:"right",size:t})}function zk(e){return e.length}function hle(e){try{return ole(e),!0}catch{return!1}}class e1 extends Er{constructor(t){super(`Value \`${typeof t=="object"?J2(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let ple=class extends Er{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},mle=class extends Er{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};function uL(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=I$(cle(e));return n==="Bytes"?r:Hw(r)}let gle=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const yle={checksum:new gle(8192)},ZA=yle.checksum;function dL(e,t={}){const{compressed:n}=t,{prefix:r,x:s,y:i}=e;if(n===!1||typeof s=="bigint"&&typeof i=="bigint"){if(r!==4)throw new Hk({prefix:r,cause:new _le});return}if(n===!0||typeof s=="bigint"&&typeof i>"u"){if(r!==3&&r!==2)throw new Hk({prefix:r,cause:new Cle});return}throw new vle({publicKey:e})}function ble(e){const t=(()=>{if(nle(e))return fL(e);if(hle(e))return wle(e);const{prefix:n,x:r,y:s}=e;return typeof r=="bigint"&&typeof s=="bigint"?{prefix:n??4,x:r,y:s}:{prefix:n,x:r}})();return dL(t),t}function wle(e){return fL(Hw(e))}function fL(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new Ale({publicKey:e});if(e.length===130){const r=BigInt(Cc(e,0,32)),s=BigInt(Cc(e,32,64));return{prefix:4,x:r,y:s}}if(e.length===132){const r=Number(Cc(e,0,1)),s=BigInt(Cc(e,1,33)),i=BigInt(Cc(e,33,65));return{prefix:r,x:s,y:i}}const t=Number(Cc(e,0,1)),n=BigInt(Cc(e,1,33));return{prefix:t,x:n}}function Ele(e,t={}){dL(e);const{prefix:n,x:r,y:s}=e,{includePrefix:i=!0}=t;return ele(i?YA(n,{size:1}):"0x",YA(r,{size:32}),typeof s=="bigint"?YA(s,{size:32}):"0x")}class vle extends Er{constructor({publicKey:t}){super(`Value \`${J2(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class Hk extends Er{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Cle extends Er{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class _le extends Er{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let Ale=class extends Er{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${mu(Q2(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const Sle=/^0x[a-fA-F0-9]{40}$/;function hL(e,t={}){const{strict:n=!0}=t;if(!Sle.test(e))throw new qk({address:e,cause:new Ile});if(n){if(e.toLowerCase()===e)return;if(pL(e)!==e)throw new qk({address:e,cause:new Ole})}}function pL(e){if(ZA.has(e))return ZA.get(e);hL(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=uL(dle(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return ZA.set(e,s),s}function Nle(e,t={}){const{checksum:n=!1}=t;return hL(e),n?pL(e):e}function Tle(e,t={}){const n=uL(`0x${Ele(e).slice(4)}`).substring(26);return Nle(`0x${n}`,t)}let qk=class extends Er{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}};class Ile extends Er{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Ole extends Er{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const ci=BigInt(0),$s=BigInt(1),pd=BigInt(2),Rle=BigInt(3),mL=BigInt(4),gL=BigInt(5),yL=BigInt(8);function ii(e,t){const n=e%t;return n>=ci?n:t+n}function sa(e,t,n){let r=e;for(;t-- >ci;)r*=r,r%=n;return r}function U6(e,t){if(e===ci)throw new Error("invert: expected non-zero number");if(t<=ci)throw new Error("invert: expected positive modulus, got "+t);let n=ii(e,t),r=t,s=ci,i=$s;for(;n!==ci;){const c=r/n,u=r%n,d=s-i*c;r=n,n=u,s=i,i=d}if(r!==$s)throw new Error("invert: does not exist");return ii(s,t)}function bL(e,t){const n=(e.ORDER+$s)/mL,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function xle(e,t){const n=(e.ORDER-gL)/yL,r=e.mul(t,pd),s=e.pow(r,n),i=e.mul(t,s),a=e.mul(e.mul(i,pd),s),c=e.mul(i,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function kle(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-$s,n=0;for(;t%pd===ci;)t/=pd,n++;let r=pd;const s=eT(e);for(;Wk(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return bL;let i=s.pow(r,t);const a=(t+$s)/pd;return function(u,d){if(u.is0(d))return d;if(Wk(u,d)!==1)throw new Error("Cannot find square root");let h=n,m=u.mul(u.ONE,i),g=u.pow(d,t),w=u.pow(d,a);for(;!u.eql(g,u.ONE);){if(u.is0(g))return u.ZERO;let v=1,E=u.sqr(g);for(;!u.eql(E,u.ONE);)if(v++,E=u.sqr(E),v===h)throw new Error("Cannot find square root");const A=$s<<BigInt(h-v-1),R=u.pow(m,A);h=v,m=u.sqr(R),g=u.mul(g,m),w=u.mul(w,R)}return w}}function Ple(e){return e%mL===Rle?bL:e%yL===gL?xle:kle(e)}const Ule=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $le(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Ule.reduce((r,s)=>(r[s]="function",r),t);return XE(e,n)}function Dle(e,t,n){if(n<ci)throw new Error("invalid exponent, negatives unsupported");if(n===ci)return e.ONE;if(n===$s)return t;let r=e.ONE,s=t;for(;n>ci;)n&$s&&(r=e.mul(r,s)),s=e.sqr(s),n>>=$s;return r}function wL(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((a,c,u)=>e.is0(c)?a:(r[u]=a,e.mul(a,c)),e.ONE),i=e.inv(s);return t.reduceRight((a,c,u)=>e.is0(c)?a:(r[u]=e.mul(a,r[u]),e.mul(a,c)),i),r}function Wk(e,t){const n=(e.ORDER-$s)/pd,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),a=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function EL(e,t){t!==void 0&&ym(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function eT(e,t,n=!1,r={}){if(e<=ci)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=EL(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:ZE(s),ZERO:ci,ONE:$s,create:u=>ii(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return ci<=u&&u<e},is0:u=>u===ci,isOdd:u=>(u&$s)===$s,neg:u=>ii(-u,e),eql:(u,d)=>u===d,sqr:u=>ii(u*u,e),add:(u,d)=>ii(u+d,e),sub:(u,d)=>ii(u-d,e),mul:(u,d)=>ii(u*d,e),pow:(u,d)=>Dle(c,u,d),div:(u,d)=>ii(u*U6(d,e),e),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>U6(u,e),sqrt:r.sqrt||(u=>(a||(a=Ple(e)),a(c,u))),toBytes:u=>n?iL(u,i):Wg(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return n?sL(u):Td(u)},invertBatch:u=>wL(c,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(c)}function vL(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function CL(e){const t=vL(e);return t+Math.ceil(t/2)}function Mle(e,t,n=!1){const r=e.length,s=vL(t),i=CL(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=n?sL(e):Td(e),c=ii(a,t-$s)+$s;return n?iL(c,s):Wg(c,s)}const Vk=BigInt(0),$6=BigInt(1);function XA(e,t){const n=t.negate();return e?n:t}function _L(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function JA(e,t){_L(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=ZE(e),a=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:a}}function Gk(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:a}=n;let c=Number(e&s),u=e>>a;c>r&&(c-=i,u+=$6);const d=t*r,h=d+Math.abs(c)-1,m=c===0,g=c<0,w=t%2!==0;return{nextN:u,offset:h,isZero:m,isNeg:g,isNegF:w,offsetF:d}}function Lle(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Ble(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const QA=new WeakMap,AL=new WeakMap;function eS(e){return AL.get(e)||1}function Fle(e,t){return{constTimeNegate:XA,hasPrecomputes(n){return eS(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>Vk;)r&$6&&(s=s.add(i)),i=i.double(),r>>=$6;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=JA(r,t),a=[];let c=n,u=c;for(let d=0;d<s;d++){u=c,a.push(u);for(let h=1;h<i;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,s){let i=e.ZERO,a=e.BASE;const c=JA(n,t);for(let u=0;u<c.windows;u++){const{nextN:d,offset:h,isZero:m,isNeg:g,isNegF:w,offsetF:v}=Gk(s,u,c);s=d,m?a=a.add(XA(w,r[v])):i=i.add(XA(g,r[h]))}return{p:i,f:a}},wNAFUnsafe(n,r,s,i=e.ZERO){const a=JA(n,t);for(let c=0;c<a.windows&&s!==Vk;c++){const{nextN:u,offset:d,isZero:h,isNeg:m}=Gk(s,c,a);if(s=u,!h){const g=r[d];i=i.add(m?g.negate():g)}}return i},getPrecomputes(n,r,s){let i=QA.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&QA.set(r,s(i))),i},wNAFCached(n,r,s){const i=eS(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const a=eS(n);return a===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(a,this.getPrecomputes(a,n,s),r,i)},setWindowSize(n,r){_L(r,t),AL.set(n,r),QA.delete(n)}}}function jle(e,t,n,r){Lle(n,e),Ble(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,c=qce(BigInt(s));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=ZE(u),h=new Array(Number(d)+1).fill(a),m=Math.floor((t.BITS-1)/u)*u;let g=a;for(let w=m;w>=0;w-=u){h.fill(a);for(let E=0;E<i;E++){const A=r[E],R=Number(A>>BigInt(w)&d);h[R]=h[R].add(n[E])}let v=a;for(let E=h.length-1,A=a;E>0;E--)A=A.add(h[E]),v=v.add(A);if(g=g.add(v),w!==0)for(let E=0;E<u;E++)g=g.double()}return g}function SL(e){return $le(e.Fp),XE(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...EL(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function Kk(e){e.lowS!==void 0&&Hm("lowS",e.lowS),e.prehash!==void 0&&Hm("prehash",e.prehash)}function zle(e){const t=SL(e);XE(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Hle extends Error{constructor(t=""){super(t)}}const Nc={Err:Hle,_tlv:{encode:(e,t)=>{const{Err:n}=Nc;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Qb(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Qb(s.length/2|128):"";return Qb(e)+i+s+t},decode(e,t){const{Err:n}=Nc;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let a=0;if(!i)a=s;else{const u=s&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=t.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=Nc;if(e<Rc)throw new t("integer: negative integers are not allowed");let n=Qb(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Nc;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Td(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Nc,s=fa("signature",e),{v:i,l:a}=r.decode(48,s);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,i),{v:d,l:h}=r.decode(2,u);if(h.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(e){const{_tlv:t,_int:n}=Nc,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function tS(e,t){return qm(Wg(e,t))}const Rc=BigInt(0),Yr=BigInt(1);BigInt(2);const nS=BigInt(3),qle=BigInt(4);function Wle(e){const t=zle(e),{Fp:n}=t,r=eT(t.n,t.nBitLength),s=t.toBytes||((I,N,S)=>{const x=N.toAffine();return zw(Uint8Array.from([4]),n.toBytes(x.x),n.toBytes(x.y))}),i=t.fromBytes||(I=>{const N=I.subarray(1),S=n.fromBytes(N.subarray(0,n.BYTES)),x=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:S,y:x}});function a(I){const{a:N,b:S}=t,x=n.sqr(I),P=n.mul(x,I);return n.add(n.add(P,n.mul(I,N)),S)}function c(I,N){const S=n.sqr(N),x=a(I);return n.eql(S,x)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const u=n.mul(n.pow(t.a,nS),qle),d=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(u,d)))throw new Error("bad curve params: a or b");function h(I){return X2(I,Yr,t.n)}function m(I){const{allowedPrivateKeyLengths:N,nByteLength:S,wrapPrivateKey:x,n:P}=t;if(N&&typeof I!="bigint"){if(qg(I)&&(I=qm(I)),typeof I!="string"||!N.includes(I.length))throw new Error("invalid private key");I=I.padStart(S*2,"0")}let L;try{L=typeof I=="bigint"?I:Td(fa("private key",I,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof I)}return x&&(L=ii(L,P)),Ih("private key",L,Yr,P),L}function g(I){if(!(I instanceof E))throw new Error("ProjectivePoint expected")}const w=Lk((I,N)=>{const{px:S,py:x,pz:P}=I;if(n.eql(P,n.ONE))return{x:S,y:x};const L=I.is0();N==null&&(N=L?n.ONE:n.inv(P));const j=n.mul(S,N),W=n.mul(x,N),Y=n.mul(P,N);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Y,n.ONE))throw new Error("invZ was invalid");return{x:j,y:W}}),v=Lk(I=>{if(I.is0()){if(t.allowInfinityPoint&&!n.is0(I.py))return;throw new Error("bad point: ZERO")}const{x:N,y:S}=I.toAffine();if(!n.isValid(N)||!n.isValid(S))throw new Error("bad point: x or y not FE");if(!c(N,S))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class E{constructor(N,S,x){if(N==null||!n.isValid(N))throw new Error("x required");if(S==null||!n.isValid(S)||n.is0(S))throw new Error("y required");if(x==null||!n.isValid(x))throw new Error("z required");this.px=N,this.py=S,this.pz=x,Object.freeze(this)}static fromAffine(N){const{x:S,y:x}=N||{};if(!N||!n.isValid(S)||!n.isValid(x))throw new Error("invalid affine point");if(N instanceof E)throw new Error("projective point not allowed");const P=L=>n.eql(L,n.ZERO);return P(S)&&P(x)?E.ZERO:new E(S,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const S=wL(n,N.map(x=>x.pz));return N.map((x,P)=>x.toAffine(S[P])).map(E.fromAffine)}static fromHex(N){const S=E.fromAffine(i(fa("pointHex",N)));return S.assertValidity(),S}static fromPrivateKey(N){return E.BASE.multiply(m(N))}static msm(N,S){return jle(E,r,N,S)}_setWindowSize(N){k.setWindowSize(this,N)}assertValidity(){v(this)}hasEvenY(){const{y:N}=this.toAffine();if(n.isOdd)return!n.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){g(N);const{px:S,py:x,pz:P}=this,{px:L,py:j,pz:W}=N,Y=n.eql(n.mul(S,W),n.mul(L,P)),G=n.eql(n.mul(x,W),n.mul(j,P));return Y&&G}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){const{a:N,b:S}=t,x=n.mul(S,nS),{px:P,py:L,pz:j}=this;let W=n.ZERO,Y=n.ZERO,G=n.ZERO,K=n.mul(P,P),Z=n.mul(L,L),y=n.mul(j,j),_=n.mul(P,L);return _=n.add(_,_),G=n.mul(P,j),G=n.add(G,G),W=n.mul(N,G),Y=n.mul(x,y),Y=n.add(W,Y),W=n.sub(Z,Y),Y=n.add(Z,Y),Y=n.mul(W,Y),W=n.mul(_,W),G=n.mul(x,G),y=n.mul(N,y),_=n.sub(K,y),_=n.mul(N,_),_=n.add(_,G),G=n.add(K,K),K=n.add(G,K),K=n.add(K,y),K=n.mul(K,_),Y=n.add(Y,K),y=n.mul(L,j),y=n.add(y,y),K=n.mul(y,_),W=n.sub(W,K),G=n.mul(y,Z),G=n.add(G,G),G=n.add(G,G),new E(W,Y,G)}add(N){g(N);const{px:S,py:x,pz:P}=this,{px:L,py:j,pz:W}=N;let Y=n.ZERO,G=n.ZERO,K=n.ZERO;const Z=t.a,y=n.mul(t.b,nS);let _=n.mul(S,L),T=n.mul(x,j),$=n.mul(P,W),U=n.add(S,x),q=n.add(L,j);U=n.mul(U,q),q=n.add(_,T),U=n.sub(U,q),q=n.add(S,P);let M=n.add(L,W);return q=n.mul(q,M),M=n.add(_,$),q=n.sub(q,M),M=n.add(x,P),Y=n.add(j,W),M=n.mul(M,Y),Y=n.add(T,$),M=n.sub(M,Y),K=n.mul(Z,q),Y=n.mul(y,$),K=n.add(Y,K),Y=n.sub(T,K),K=n.add(T,K),G=n.mul(Y,K),T=n.add(_,_),T=n.add(T,_),$=n.mul(Z,$),q=n.mul(y,q),T=n.add(T,$),$=n.sub(_,$),$=n.mul(Z,$),q=n.add(q,$),_=n.mul(T,q),G=n.add(G,_),_=n.mul(M,q),Y=n.mul(U,Y),Y=n.sub(Y,_),_=n.mul(U,T),K=n.mul(M,K),K=n.add(K,_),new E(Y,G,K)}subtract(N){return this.add(N.negate())}is0(){return this.equals(E.ZERO)}wNAF(N){return k.wNAFCached(this,N,E.normalizeZ)}multiplyUnsafe(N){const{endo:S,n:x}=t;Ih("scalar",N,Rc,x);const P=E.ZERO;if(N===Rc)return P;if(this.is0()||N===Yr)return this;if(!S||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,N,E.normalizeZ);let{k1neg:L,k1:j,k2neg:W,k2:Y}=S.splitScalar(N),G=P,K=P,Z=this;for(;j>Rc||Y>Rc;)j&Yr&&(G=G.add(Z)),Y&Yr&&(K=K.add(Z)),Z=Z.double(),j>>=Yr,Y>>=Yr;return L&&(G=G.negate()),W&&(K=K.negate()),K=new E(n.mul(K.px,S.beta),K.py,K.pz),G.add(K)}multiply(N){const{endo:S,n:x}=t;Ih("scalar",N,Yr,x);let P,L;if(S){const{k1neg:j,k1:W,k2neg:Y,k2:G}=S.splitScalar(N);let{p:K,f:Z}=this.wNAF(W),{p:y,f:_}=this.wNAF(G);K=k.constTimeNegate(j,K),y=k.constTimeNegate(Y,y),y=new E(n.mul(y.px,S.beta),y.py,y.pz),P=K.add(y),L=Z.add(_)}else{const{p:j,f:W}=this.wNAF(N);P=j,L=W}return E.normalizeZ([P,L])[0]}multiplyAndAddUnsafe(N,S,x){const P=E.BASE,L=(W,Y)=>Y===Rc||Y===Yr||!W.equals(P)?W.multiplyUnsafe(Y):W.multiply(Y),j=L(this,S).add(L(N,x));return j.is0()?void 0:j}toAffine(N){return w(this,N)}isTorsionFree(){const{h:N,isTorsionFree:S}=t;if(N===Yr)return!0;if(S)return S(E,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:S}=t;return N===Yr?this:S?S(E,this):this.multiplyUnsafe(t.h)}toRawBytes(N=!0){return Hm("isCompressed",N),this.assertValidity(),s(E,this,N)}toHex(N=!0){return Hm("isCompressed",N),qm(this.toRawBytes(N))}}E.BASE=new E(t.Gx,t.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO);const{endo:A,nBitLength:R}=t,k=Fle(E,A?Math.ceil(R/2):R);return{CURVE:t,ProjectivePoint:E,normPrivateKeyToScalar:m,weierstrassEquation:a,isWithinCurveOrder:h}}function Vle(e){const t=SL(e);return XE(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Gle(e){const t=Vle(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,a=n.BYTES+1,c=2*n.BYTES+1;function u(y){return ii(y,r)}function d(y){return U6(y,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:m,weierstrassEquation:g,isWithinCurveOrder:w}=Wle({...t,toBytes(y,_,T){const $=_.toAffine(),U=n.toBytes($.x),q=zw;return Hm("isCompressed",T),T?q(Uint8Array.from([_.hasEvenY()?2:3]),U):q(Uint8Array.from([4]),U,n.toBytes($.y))},fromBytes(y){const _=y.length,T=y[0],$=y.subarray(1);if(_===a&&(T===2||T===3)){const U=Td($);if(!X2(U,Yr,n.ORDER))throw new Error("Point is not on curve");const q=g(U);let M;try{M=n.sqrt(q)}catch(D){const Q=D instanceof Error?": "+D.message:"";throw new Error("Point is not on curve"+Q)}const z=(M&Yr)===Yr;return(T&1)===1!==z&&(M=n.neg(M)),{x:U,y:M}}else if(_===c&&T===4){const U=n.fromBytes($.subarray(0,n.BYTES)),q=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:U,y:q}}else{const U=a,q=c;throw new Error("invalid Point, expected length of "+U+", or uncompressed "+q+", got "+_)}}});function v(y){const _=r>>Yr;return y>_}function E(y){return v(y)?u(-y):y}const A=(y,_,T)=>Td(y.slice(_,T));class R{constructor(_,T,$){Ih("r",_,Yr,r),Ih("s",T,Yr,r),this.r=_,this.s=T,$!=null&&(this.recovery=$),Object.freeze(this)}static fromCompact(_){const T=s;return _=fa("compactSignature",_,T*2),new R(A(_,0,T),A(_,T,2*T))}static fromDER(_){const{r:T,s:$}=Nc.toSig(fa("DER",_));return new R(T,$)}assertValidity(){}addRecoveryBit(_){return new R(this.r,this.s,_)}recoverPublicKey(_){const{r:T,s:$,recovery:U}=this,q=P(fa("msgHash",_));if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");const M=U===2||U===3?T+t.n:T;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const z=(U&1)===0?"02":"03",J=h.fromHex(z+tS(M,n.BYTES)),D=d(M),Q=u(-q*D),le=u($*D),be=h.BASE.multiplyAndAddUnsafe(J,Q,le);if(!be)throw new Error("point at infinify");return be.assertValidity(),be}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return jw(this.toDERHex())}toDERHex(){return Nc.hexFromSig(this)}toCompactRawBytes(){return jw(this.toCompactHex())}toCompactHex(){const _=s;return tS(this.r,_)+tS(this.s,_)}}const k={isValidPrivateKey(y){try{return m(y),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const y=CL(t.n);return Mle(t.randomBytes(y),t.n)},precompute(y=8,_=h.BASE){return _._setWindowSize(y),_.multiply(BigInt(3)),_}};function I(y,_=!0){return h.fromPrivateKey(y).toRawBytes(_)}function N(y){if(typeof y=="bigint")return!1;if(y instanceof h)return!0;const T=fa("key",y).length,$=n.BYTES,U=$+1,q=2*$+1;if(!(t.allowedPrivateKeyLengths||s===U))return T===U||T===q}function S(y,_,T=!0){if(N(y)===!0)throw new Error("first arg must be private key");if(N(_)===!1)throw new Error("second arg must be public key");return h.fromHex(_).multiply(m(y)).toRawBytes(T)}const x=t.bits2int||function(y){if(y.length>8192)throw new Error("input is too large");const _=Td(y),T=y.length*8-i;return T>0?_>>BigInt(T):_},P=t.bits2int_modN||function(y){return u(x(y))},L=ZE(i);function j(y){return Ih("num < 2^"+i,y,Rc,L),Wg(y,s)}function W(y,_,T=Y){if(["recovered","canonical"].some(_e=>_e in T))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:U}=t;let{lowS:q,prehash:M,extraEntropy:z}=T;q==null&&(q=!0),y=fa("msgHash",y),Kk(T),M&&(y=fa("prehashed msgHash",$(y)));const J=P(y),D=m(_),Q=[j(D),j(J)];if(z!=null&&z!==!1){const _e=z===!0?U(n.BYTES):z;Q.push(fa("extraEntropy",_e))}const le=zw(...Q),be=J;function $e(_e){const we=x(_e);if(!w(we))return;const je=d(we),Et=h.BASE.multiply(we).toAffine(),mn=u(Et.x);if(mn===Rc)return;const kt=u(je*u(be+mn*D));if(kt===Rc)return;let Vn=(Et.x===mn?0:2)|Number(Et.y&Yr),vr=kt;return q&&v(kt)&&(vr=E(kt),Vn^=1),new R(mn,vr,Vn)}return{seed:le,k2sig:$e}}const Y={lowS:t.lowS,prehash:!1},G={lowS:t.lowS,prehash:!1};function K(y,_,T=Y){const{seed:$,k2sig:U}=W(y,_,T),q=t;return Wce(q.hash.outputLen,q.nByteLength,q.hmac)($,U)}h.BASE._setWindowSize(8);function Z(y,_,T,$=G){const U=y;_=fa("msgHash",_),T=fa("publicKey",T);const{lowS:q,prehash:M,format:z}=$;if(Kk($),"strict"in $)throw new Error("options.strict was renamed to lowS");if(z!==void 0&&z!=="compact"&&z!=="der")throw new Error("format must be compact or der");const J=typeof U=="string"||qg(U),D=!J&&!z&&typeof U=="object"&&U!==null&&typeof U.r=="bigint"&&typeof U.s=="bigint";if(!J&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,le;try{if(D&&(Q=new R(U.r,U.s)),J){try{z!=="compact"&&(Q=R.fromDER(U))}catch(Vn){if(!(Vn instanceof Nc.Err))throw Vn}!Q&&z!=="der"&&(Q=R.fromCompact(U))}le=h.fromHex(T)}catch{return!1}if(!Q||q&&Q.hasHighS())return!1;M&&(_=t.hash(_));const{r:be,s:$e}=Q,_e=P(_),we=d($e),je=u(_e*we),Et=u(be*we),mn=h.BASE.multiplyAndAddUnsafe(le,je,Et)?.toAffine();return mn?u(mn.x)===be:!1}return{CURVE:t,getPublicKey:I,getSharedSecret:S,sign:K,verify:Z,ProjectivePoint:h,Signature:R,utils:k}}function Kle(e){return{hash:e,hmac:(t,...n)=>QD(e,t,Fq(...n)),randomBytes:jq}}function Yle(e,t){const n=r=>Gle({...e,...Kle(r)});return{...n(t),create:n}}const NL=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yk=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zle=BigInt(0),Xle=BigInt(1),D6=BigInt(2),Zk=(e,t)=>(e+t/D6)/t;function Jle(e){const t=NL,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),d=e*e*e%t,h=d*d*e%t,m=sa(h,n,t)*h%t,g=sa(m,n,t)*h%t,w=sa(g,D6,t)*d%t,v=sa(w,s,t)*w%t,E=sa(v,i,t)*v%t,A=sa(E,c,t)*E%t,R=sa(A,u,t)*A%t,k=sa(R,c,t)*E%t,I=sa(k,n,t)*h%t,N=sa(I,a,t)*v%t,S=sa(N,r,t)*d%t,x=sa(S,D6,t);if(!M6.eql(M6.sqr(x),e))throw new Error("Cannot find square root");return x}const M6=eT(NL,void 0,void 0,{sqrt:Jle}),Qle=Yle({a:Zle,b:BigInt(7),Fp:M6,n:Yk,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Yk,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Xle*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),c=Zk(i*e,t),u=Zk(-r*e,t);let d=ii(e-c*n-u*s,t),h=ii(-c*r-u*i,t);const m=d>a,g=h>a;if(m&&(d=t-d),g&&(h=t-h),d>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:d,k2neg:g,k2:h}}}},WD);function eue(e){if(e.length!==130&&e.length!==132)throw new nue({signature:e});const t=BigInt(Cc(e,0,32)),n=BigInt(Cc(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return tue(s)}catch{throw new rue({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function tue(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new sue({value:e})}class nue extends Er{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${mu(Q2(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class rue extends Er{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class sue extends Er{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function iue(e){return Tle(aue(e))}function aue(e){const{payload:t,signature:n}=e,{r,s,yParity:i}=n,c=new Qle.Signature(BigInt(r),BigInt(s)).addRecoveryBit(i).recoverPublicKey(Q2(t).substring(2));return ble(c)}function oue(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let d=0;d<t.length;d++)t[d]=255;for(let d=0;d<e.length;d++){const h=e.charAt(d),m=h.charCodeAt(0);if(t[m]!==255)throw new TypeError(h+" is ambiguous");t[m]=d}const n=e.length,r=e.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let h=0,m=0,g=0;const w=d.length;for(;g!==w&&d[g]===0;)g++,h++;const v=(w-g)*i+1>>>0,E=new Uint8Array(v);for(;g!==w;){let k=d[g],I=0;for(let N=v-1;(k!==0||I<m)&&N!==-1;N--,I++)k+=256*E[N]>>>0,E[N]=k%n>>>0,k=k/n>>>0;if(k!==0)throw new Error("Non-zero carry");m=I,g++}let A=v-m;for(;A!==v&&E[A]===0;)A++;let R=r.repeat(h);for(;A<v;++A)R+=e.charAt(E[A]);return R}function c(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let h=0,m=0,g=0;for(;d[h]===r;)m++,h++;const w=(d.length-h)*s+1>>>0,v=new Uint8Array(w);for(;h<d.length;){const k=d.charCodeAt(h);if(k>255)return;let I=t[k];if(I===255)return;let N=0;for(let S=w-1;(I!==0||N<g)&&S!==-1;S--,N++)I+=n*v[S]>>>0,v[S]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");g=N,h++}let E=w-g;for(;E!==w&&v[E]===0;)E++;const A=new Uint8Array(m+(w-E));let R=m;for(;E!==w;)A[R++]=v[E++];return A}function u(d){const h=c(d);if(h)return h;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:c,decode:u}}var cue="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const gp=oue(cue);function tT(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function TL(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?tT(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function cm(e,t){t||(t=e.reduce((s,i)=>s+i.length,0));const n=TL(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return tT(n)}function IL(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Xk=IL("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),rS=IL("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=TL(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),OL={utf8:Xk,"utf-8":Xk,hex:L8.base16,latin1:rS,ascii:rS,binary:rS,...L8};function Ea(e,t="utf8"){const n=OL[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?tT(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function di(e,t="utf8"){const n=OL[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}var lue={};const uue=":";function Dc(e){const[t,n]=e.split(uue);return{namespace:t,reference:n}}function RL(e,t){return e.includes(":")?[e]:t.chains||[]}var due=Object.defineProperty,fue=Object.defineProperties,hue=Object.getOwnPropertyDescriptors,Jk=Object.getOwnPropertySymbols,pue=Object.prototype.hasOwnProperty,mue=Object.prototype.propertyIsEnumerable,L6=(e,t,n)=>t in e?due(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qk=(e,t)=>{for(var n in t||(t={}))pue.call(t,n)&&L6(e,n,t[n]);if(Jk)for(var n of Jk(t))mue.call(t,n)&&L6(e,n,t[n]);return e},gue=(e,t)=>fue(e,hue(t)),eP=(e,t,n)=>L6(e,typeof t!="symbol"?t+"":t,n);const yue="ReactNative",zi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},bue="js";function qw(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Nu(){return!zc.getDocument()&&!!zc.getNavigator()&&navigator.product===yue}function wue(){return Nu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Eue(){return Nu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function yp(){return!qw()&&!!zc.getNavigator()&&!!zc.getDocument()}function Vg(){return Nu()?zi.reactNative:qw()?zi.node:yp()?zi.browser:zi.unknown}function tP(){var e;try{return Nu()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function vue(e,t){const n=new URLSearchParams(e);return Object.entries(t).sort(([r],[s])=>r.localeCompare(s)).forEach(([r,s])=>{s!=null&&n.set(r,String(s))}),n.toString()}function Cue(e){var t,n;const r=xL();try{return e!=null&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),(t=e?.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(s=>s!=="")),gue(Qk(Qk({},r),e),{url:e?.url||r.url,name:e?.name||r.name,description:e?.description||r.description,icons:(n=e?.icons)!=null&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),e||r}}function xL(){return xte.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function _ue(){if(Vg()===zi.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=Ate();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function Aue(){var e;const t=Vg();return t===zi.browser?[t,((e=zc.getLocation())==null?void 0:e.host)||"unknown"].join(":"):t}function kL(e,t,n){const r=_ue(),s=Aue();return[[e,t].join("-"),[bue,n].join("-"),r,s].join("/")}function Sue({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:a,bundleId:c,packageName:u}){const d=n.split("?"),h=kL(e,t,r),m={auth:s,ua:h,projectId:i,useOnCloseEvent:a,packageName:u||void 0,bundleId:c||void 0},g=vue(d[1]||"",m);return d[0]+"?"+g}function md(e,t){return e.filter(n=>t.includes(n)).length===e.length}function B6(e){return Object.fromEntries(e.entries())}function F6(e){return new Map(Object.entries(e))}function id(e=Te.FIVE_MINUTES,t){const n=Te.toMiliseconds(e||Te.FIVE_MINUTES);let r,s,i,a;return{resolve:c=>{i&&r&&(clearTimeout(i),r(c),a=Promise.resolve(c))},reject:c=>{i&&s&&(clearTimeout(i),s(c))},done:()=>new Promise((c,u)=>{if(a)return c(a);i=setTimeout(()=>{const d=new Error(t);a=Promise.reject(d),u(d)},n),r=c,s=u})}}function Co(e,t,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),t);try{const a=await e;r(a)}catch(a){s(a)}clearTimeout(i)})}function PL(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Nue(e){return PL("topic",e)}function Tue(e){return PL("id",e)}function UL(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function Ir(e,t){return Te.fromMiliseconds(Date.now()+Te.toMiliseconds(e))}function wo(e){return Date.now()>=Te.toMiliseconds(e)}function kn(e,t){return`${e}${t?`:${t}`:""}`}function So(e=[],t=[]){return[...new Set([...e,...t])]}async function Iue({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s?.href;if(typeof i!="string")return;const a=Oue(i,e,t),c=Vg();if(c===zi.browser){if(!((r=zc.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Rue(a)}else c===zi.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(s){console.error(s)}}function Oue(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let s=`${e}`;if(e.startsWith("https://t.me")){const i=e.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${Uue(r,!0)}`}else s=`${s}/wc?${r}`;return s}function Rue(e){let t="_self";Pue()?t="_top":(kue()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function xue(e,t){let n="";try{if(yp()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function nP(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function rP(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function nT(){return typeof process<"u"&&lue.IS_VITEST==="true"}function kue(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Pue(){try{return window.self!==window.top}catch{return!1}}function Uue(e,t=!1){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function $L(e){return Buffer.from(e,"base64").toString("utf-8")}function $ue(e){return new Promise(t=>setTimeout(t,e))}let Due=class{constructor({limit:t}){eP(this,"limit"),eP(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}};const t1=BigInt(2**32-1),sP=BigInt(32);function DL(e,t=!1){return t?{h:Number(e&t1),l:Number(e>>sP&t1)}:{h:Number(e>>sP&t1)|0,l:Number(e&t1)|0}}function ML(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:c}=DL(e[i],t);[r[i],s[i]]=[a,c]}return[r,s]}const iP=(e,t,n)=>e>>>n,aP=(e,t,n)=>e<<32-n|t>>>n,Ll=(e,t,n)=>e>>>n|t<<32-n,Bl=(e,t,n)=>e<<32-n|t>>>n,J0=(e,t,n)=>e<<64-n|t>>>n-32,Q0=(e,t,n)=>e>>>n-32|t<<64-n,Mue=(e,t)=>t,Lue=(e,t)=>e,Bue=(e,t,n)=>e<<n|t>>>32-n,Fue=(e,t,n)=>t<<n|e>>>32-n,jue=(e,t,n)=>t<<n-32|e>>>64-n,zue=(e,t,n)=>e<<n-32|t>>>64-n;function Fa(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const rT=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),sT=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Hue=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),que=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,Wue=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Vue=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,sh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function JE(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Hc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function to(e,...t){if(!JE(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function QE(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Hc(e.outputLen),Hc(e.blockLen)}function gu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function iT(e,t){to(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Wm(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Aa(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function sS(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function fo(e,t){return e<<32-t|e>>>t}const LL=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function BL(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const bc=LL?e=>e:e=>BL(e);function Gue(e){for(let t=0;t<e.length;t++)e[t]=BL(e[t]);return e}const Fl=LL?e=>e:Gue,FL=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Kue=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Oh(e){if(to(e),FL)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Kue[e[n]];return t}const dc={_0:48,_9:57,A:65,F:70,a:97,f:102};function oP(e){if(e>=dc._0&&e<=dc._9)return e-dc._0;if(e>=dc.A&&e<=dc.F)return e-(dc.A-10);if(e>=dc.a&&e<=dc.f)return e-(dc.a-10)}function Ww(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(FL)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=oP(e.charCodeAt(i)),c=oP(e.charCodeAt(i+1));if(a===void 0||c===void 0){const u=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}r[s]=a*16+c}return r}function jL(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Za(e){return typeof e=="string"&&(e=jL(e)),to(e),e}function Vl(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];to(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}let ev=class{};function Gg(e){const t=r=>e().update(Za(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Yue(e){const t=(r,s)=>e(s).update(Za(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function sf(e=32){if(sh&&typeof sh.getRandomValues=="function")return sh.getRandomValues(new Uint8Array(e));if(sh&&typeof sh.randomBytes=="function")return Uint8Array.from(sh.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Zue=BigInt(0),R0=BigInt(1),Xue=BigInt(2),Jue=BigInt(7),Que=BigInt(256),ede=BigInt(113),zL=[],HL=[],qL=[];for(let e=0,t=R0,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],zL.push(2*(5*r+n)),HL.push((e+1)*(e+2)/2%64);let s=Zue;for(let i=0;i<7;i++)t=(t<<R0^(t>>Jue)*ede)%Que,t&Xue&&(s^=R0<<(R0<<BigInt(i))-R0);qL.push(s)}const WL=ML(qL,!0),tde=WL[0],nde=WL[1],cP=(e,t,n)=>n>32?jue(e,t,n):Bue(e,t,n),lP=(e,t,n)=>n>32?zue(e,t,n):Fue(e,t,n);function rde(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],m=cP(d,h,1)^n[c],g=lP(d,h,1)^n[c+1];for(let w=0;w<50;w+=10)e[a+w]^=m,e[a+w+1]^=g}let s=e[2],i=e[3];for(let a=0;a<24;a++){const c=HL[a],u=cP(s,i,c),d=lP(s,i,c),h=zL[a];s=e[h],i=e[h+1],e[h]=u,e[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=e[a+c];for(let c=0;c<10;c++)e[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=tde[r],e[1]^=nde[r]}Aa(n)}let sde=class VL extends ev{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Hc(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Wm(this.state)}clone(){return this._cloneInto()}keccak(){Fl(this.state32),rde(this.state32,this.rounds),Fl(this.state32),this.posOut=0,this.pos=0}update(t){gu(this),t=Za(t),to(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let c=0;c<a;c++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){gu(this,!1),to(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Hc(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(iT(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Aa(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return t||(t=new VL(n,r,s,a,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=a,t.destroyed=this.destroyed,t}};const ide=(e,t,n)=>Gg(()=>new sde(t,e,n)),ade=ide(1,136,256/8);function ode(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i),u=r?4:0,d=r?0:4;e.setUint32(t+u,a,r),e.setUint32(t+d,c,r)}function cde(e,t,n){return e&t^~e&n}function lde(e,t,n){return e&t^e&n^t&n}let GL=class extends ev{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=sS(this.buffer)}update(t){gu(this),t=Za(t),to(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const u=sS(t);for(;s<=i-a;a+=s)this.process(u,a);continue}r.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){gu(this),iT(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,Aa(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(r,0),a=0);for(let m=a;m<s;m++)n[m]=0;ode(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=sS(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<d;m++)c.setUint32(4*m,h[m],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:c}=this;return t.destroyed=a,t.finished=i,t.length=s,t.pos=c,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const Nl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gs=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ys=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ude=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tl=new Uint32Array(64);class dde extends GL{constructor(t=32){super(64,t,8,!1),this.A=Nl[0]|0,this.B=Nl[1]|0,this.C=Nl[2]|0,this.D=Nl[3]|0,this.E=Nl[4]|0,this.F=Nl[5]|0,this.G=Nl[6]|0,this.H=Nl[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:a,G:c,H:u}=this;return[t,n,r,s,i,a,c,u]}set(t,n,r,s,i,a,c,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=u|0}process(t,n){for(let m=0;m<16;m++,n+=4)Tl[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const g=Tl[m-15],w=Tl[m-2],v=fo(g,7)^fo(g,18)^g>>>3,E=fo(w,17)^fo(w,19)^w>>>10;Tl[m]=E+Tl[m-7]+v+Tl[m-16]|0}let{A:r,B:s,C:i,D:a,E:c,F:u,G:d,H:h}=this;for(let m=0;m<64;m++){const g=fo(c,6)^fo(c,11)^fo(c,25),w=h+g+cde(c,u,d)+ude[m]+Tl[m]|0,v=(fo(r,2)^fo(r,13)^fo(r,22))+lde(r,s,i)|0;h=d,d=u,u=c,c=a+w|0,a=i,i=s,s=r,r=w+v|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,s,i,a,c,u,d,h)}roundClean(){Aa(Tl)}destroy(){this.set(0,0,0,0,0,0,0,0),Aa(this.buffer)}}const KL=ML(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),fde=KL[0],hde=KL[1],Il=new Uint32Array(80),Ol=new Uint32Array(80);let aT=class extends GL{constructor(t=64){super(128,t,16,!1),this.Ah=ys[0]|0,this.Al=ys[1]|0,this.Bh=ys[2]|0,this.Bl=ys[3]|0,this.Ch=ys[4]|0,this.Cl=ys[5]|0,this.Dh=ys[6]|0,this.Dl=ys[7]|0,this.Eh=ys[8]|0,this.El=ys[9]|0,this.Fh=ys[10]|0,this.Fl=ys[11]|0,this.Gh=ys[12]|0,this.Gl=ys[13]|0,this.Hh=ys[14]|0,this.Hl=ys[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:a,Dh:c,Dl:u,Eh:d,El:h,Fh:m,Fl:g,Gh:w,Gl:v,Hh:E,Hl:A}=this;return[t,n,r,s,i,a,c,u,d,h,m,g,w,v,E,A]}set(t,n,r,s,i,a,c,u,d,h,m,g,w,v,E,A){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=d|0,this.El=h|0,this.Fh=m|0,this.Fl=g|0,this.Gh=w|0,this.Gl=v|0,this.Hh=E|0,this.Hl=A|0}process(t,n){for(let I=0;I<16;I++,n+=4)Il[I]=t.getUint32(n),Ol[I]=t.getUint32(n+=4);for(let I=16;I<80;I++){const N=Il[I-15]|0,S=Ol[I-15]|0,x=Ll(N,S,1)^Ll(N,S,8)^iP(N,S,7),P=Bl(N,S,1)^Bl(N,S,8)^aP(N,S,7),L=Il[I-2]|0,j=Ol[I-2]|0,W=Ll(L,j,19)^J0(L,j,61)^iP(L,j,6),Y=Bl(L,j,19)^Q0(L,j,61)^aP(L,j,6),G=Hue(P,Y,Ol[I-7],Ol[I-16]),K=que(G,x,W,Il[I-7],Il[I-16]);Il[I]=K|0,Ol[I]=G|0}let{Ah:r,Al:s,Bh:i,Bl:a,Ch:c,Cl:u,Dh:d,Dl:h,Eh:m,El:g,Fh:w,Fl:v,Gh:E,Gl:A,Hh:R,Hl:k}=this;for(let I=0;I<80;I++){const N=Ll(m,g,14)^Ll(m,g,18)^J0(m,g,41),S=Bl(m,g,14)^Bl(m,g,18)^Q0(m,g,41),x=m&w^~m&E,P=g&v^~g&A,L=Wue(k,S,P,hde[I],Ol[I]),j=Vue(L,R,N,x,fde[I],Il[I]),W=L|0,Y=Ll(r,s,28)^J0(r,s,34)^J0(r,s,39),G=Bl(r,s,28)^Q0(r,s,34)^Q0(r,s,39),K=r&i^r&c^i&c,Z=s&a^s&u^a&u;R=E|0,k=A|0,E=w|0,A=v|0,w=m|0,v=g|0,{h:m,l:g}=Fa(d|0,h|0,j|0,W|0),d=c|0,h=u|0,c=i|0,u=a|0,i=r|0,a=s|0;const y=rT(W,G,Z);r=sT(y,j,Y,K),s=y|0}({h:r,l:s}=Fa(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:a}=Fa(this.Bh|0,this.Bl|0,i|0,a|0),{h:c,l:u}=Fa(this.Ch|0,this.Cl|0,c|0,u|0),{h:d,l:h}=Fa(this.Dh|0,this.Dl|0,d|0,h|0),{h:m,l:g}=Fa(this.Eh|0,this.El|0,m|0,g|0),{h:w,l:v}=Fa(this.Fh|0,this.Fl|0,w|0,v|0),{h:E,l:A}=Fa(this.Gh|0,this.Gl|0,E|0,A|0),{h:R,l:k}=Fa(this.Hh|0,this.Hl|0,R|0,k|0),this.set(r,s,i,a,c,u,d,h,m,g,w,v,E,A,R,k)}roundClean(){Aa(Il,Ol)}destroy(){Aa(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class pde extends aT{constructor(){super(48),this.Ah=gs[0]|0,this.Al=gs[1]|0,this.Bh=gs[2]|0,this.Bl=gs[3]|0,this.Ch=gs[4]|0,this.Cl=gs[5]|0,this.Dh=gs[6]|0,this.Dl=gs[7]|0,this.Eh=gs[8]|0,this.El=gs[9]|0,this.Fh=gs[10]|0,this.Fl=gs[11]|0,this.Gh=gs[12]|0,this.Gl=gs[13]|0,this.Hh=gs[14]|0,this.Hl=gs[15]|0}}const bs=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class mde extends aT{constructor(){super(32),this.Ah=bs[0]|0,this.Al=bs[1]|0,this.Bh=bs[2]|0,this.Bl=bs[3]|0,this.Ch=bs[4]|0,this.Cl=bs[5]|0,this.Dh=bs[6]|0,this.Dl=bs[7]|0,this.Eh=bs[8]|0,this.El=bs[9]|0,this.Fh=bs[10]|0,this.Fl=bs[11]|0,this.Gh=bs[12]|0,this.Gl=bs[13]|0,this.Hh=bs[14]|0,this.Hl=bs[15]|0}}const tv=Gg(()=>new dde),gde=Gg(()=>new aT),yde=Gg(()=>new pde),bde=Gg(()=>new mde),wde=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),$r=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),De=new Uint32Array(32);function Rl(e,t,n,r,s,i){const a=s[i],c=s[i+1];let u=De[2*e],d=De[2*e+1],h=De[2*t],m=De[2*t+1],g=De[2*n],w=De[2*n+1],v=De[2*r],E=De[2*r+1],A=rT(u,h,a);d=sT(A,d,m,c),u=A|0,{Dh:E,Dl:v}={Dh:E^d,Dl:v^u},{Dh:E,Dl:v}={Dh:Mue(E,v),Dl:Lue(E)},{h:w,l:g}=Fa(w,g,E,v),{Bh:m,Bl:h}={Bh:m^w,Bl:h^g},{Bh:m,Bl:h}={Bh:Ll(m,h,24),Bl:Bl(m,h,24)},De[2*e]=u,De[2*e+1]=d,De[2*t]=h,De[2*t+1]=m,De[2*n]=g,De[2*n+1]=w,De[2*r]=v,De[2*r+1]=E}function xl(e,t,n,r,s,i){const a=s[i],c=s[i+1];let u=De[2*e],d=De[2*e+1],h=De[2*t],m=De[2*t+1],g=De[2*n],w=De[2*n+1],v=De[2*r],E=De[2*r+1],A=rT(u,h,a);d=sT(A,d,m,c),u=A|0,{Dh:E,Dl:v}={Dh:E^d,Dl:v^u},{Dh:E,Dl:v}={Dh:Ll(E,v,16),Dl:Bl(E,v,16)},{h:w,l:g}=Fa(w,g,E,v),{Bh:m,Bl:h}={Bh:m^w,Bl:h^g},{Bh:m,Bl:h}={Bh:J0(m,h,63),Bl:Q0(m,h,63)},De[2*e]=u,De[2*e+1]=d,De[2*t]=h,De[2*t+1]=m,De[2*n]=g,De[2*n+1]=w,De[2*r]=v,De[2*r+1]=E}function Ede(e,t={},n,r,s){if(Hc(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:a,personalization:c}=t;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(a!==void 0&&a.length!==r)throw new Error("salt must be undefined or "+r);if(c!==void 0&&c.length!==s)throw new Error("personalization must be undefined or "+s)}class vde extends ev{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Hc(t),Hc(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=Wm(this.buffer)}update(t){gu(this),t=Za(t),to(t);const{blockLen:n,buffer:r,buffer32:s}=this,i=t.length,a=t.byteOffset,c=t.buffer;for(let u=0;u<i;){this.pos===n&&(Fl(s),this.compress(s,0,!1),Fl(s),this.pos=0);const d=Math.min(n-this.pos,i-u),h=a+u;if(d===n&&!(h%4)&&u+d<i){const m=new Uint32Array(c,h,Math.floor((i-u)/4));Fl(m);for(let g=0;u+n<i;g+=s.length,u+=n)this.length+=n,this.compress(m,g,!1);Fl(m);continue}r.set(t.subarray(u,u+d),this.pos),this.pos+=d,this.length+=d,u+=d}return this}digestInto(t){gu(this),iT(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,Aa(this.buffer.subarray(n)),Fl(r),this.compress(r,0,!0),Fl(r);const s=Wm(t);this.get().forEach((i,a)=>s[a]=bc(i))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:a,pos:c}=this;return t||(t=new this.constructor({dkLen:a})),t.set(...this.get()),t.buffer.set(n),t.destroyed=i,t.finished=s,t.length=r,t.pos=c,t.outputLen=a,t}clone(){return this._cloneInto()}}class Cde extends vde{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=$r[0]|0,this.v0h=$r[1]|0,this.v1l=$r[2]|0,this.v1h=$r[3]|0,this.v2l=$r[4]|0,this.v2h=$r[5]|0,this.v3l=$r[6]|0,this.v3h=$r[7]|0,this.v4l=$r[8]|0,this.v4h=$r[9]|0,this.v5l=$r[10]|0,this.v5h=$r[11]|0,this.v6l=$r[12]|0,this.v6h=$r[13]|0,this.v7l=$r[14]|0,this.v7h=$r[15]|0,Ede(n,t,64,16,16);let{key:r,personalization:s,salt:i}=t,a=0;if(r!==void 0&&(r=Za(r),a=r.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,i!==void 0){i=Za(i);const c=Wm(i);this.v4l^=bc(c[0]),this.v4h^=bc(c[1]),this.v5l^=bc(c[2]),this.v5h^=bc(c[3])}if(s!==void 0){s=Za(s);const c=Wm(s);this.v6l^=bc(c[0]),this.v6h^=bc(c[1]),this.v7l^=bc(c[2]),this.v7h^=bc(c[3])}if(r!==void 0){const c=new Uint8Array(this.blockLen);c.set(r),this.update(c)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:s,v2l:i,v2h:a,v3l:c,v3h:u,v4l:d,v4h:h,v5l:m,v5h:g,v6l:w,v6h:v,v7l:E,v7h:A}=this;return[t,n,r,s,i,a,c,u,d,h,m,g,w,v,E,A]}set(t,n,r,s,i,a,c,u,d,h,m,g,w,v,E,A){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=a|0,this.v3l=c|0,this.v3h=u|0,this.v4l=d|0,this.v4h=h|0,this.v5l=m|0,this.v5h=g|0,this.v6l=w|0,this.v6h=v|0,this.v7l=E|0,this.v7h=A|0}compress(t,n,r){this.get().forEach((u,d)=>De[d]=u),De.set($r,16);let{h:s,l:i}=DL(BigInt(this.length));De[24]=$r[8]^i,De[25]=$r[9]^s,r&&(De[28]=~De[28],De[29]=~De[29]);let a=0;const c=wde;for(let u=0;u<12;u++)Rl(0,4,8,12,t,n+2*c[a++]),xl(0,4,8,12,t,n+2*c[a++]),Rl(1,5,9,13,t,n+2*c[a++]),xl(1,5,9,13,t,n+2*c[a++]),Rl(2,6,10,14,t,n+2*c[a++]),xl(2,6,10,14,t,n+2*c[a++]),Rl(3,7,11,15,t,n+2*c[a++]),xl(3,7,11,15,t,n+2*c[a++]),Rl(0,5,10,15,t,n+2*c[a++]),xl(0,5,10,15,t,n+2*c[a++]),Rl(1,6,11,12,t,n+2*c[a++]),xl(1,6,11,12,t,n+2*c[a++]),Rl(2,7,8,13,t,n+2*c[a++]),xl(2,7,8,13,t,n+2*c[a++]),Rl(3,4,9,14,t,n+2*c[a++]),xl(3,4,9,14,t,n+2*c[a++]);this.v0l^=De[0]^De[16],this.v0h^=De[1]^De[17],this.v1l^=De[2]^De[18],this.v1h^=De[3]^De[19],this.v2l^=De[4]^De[20],this.v2h^=De[5]^De[21],this.v3l^=De[6]^De[22],this.v3h^=De[7]^De[23],this.v4l^=De[8]^De[24],this.v4h^=De[9]^De[25],this.v5l^=De[10]^De[26],this.v5h^=De[11]^De[27],this.v6l^=De[12]^De[28],this.v6h^=De[13]^De[29],this.v7l^=De[14]^De[30],this.v7h^=De[15]^De[31],Aa(De)}destroy(){this.destroyed=!0,Aa(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const _de=Yue(e=>new Cde(e)),Ade="https://rpc.walletconnect.org/v1";function YL(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return"0x"+Buffer.from(ade(n)).toString("hex")}async function Sde(e,t,n,r,s,i){switch(n.t){case"eip191":return await Nde(e,t,n.s);case"eip1271":return await Tde(e,t,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function Nde(e,t,n){const r=eue(n);return iue({payload:YL(t),signature:r}).toLowerCase()===e.toLowerCase()}async function Tde(e,t,n,r,s,i){const a=Dc(r);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",d=n.substring(2),h=(d.length/2).toString(16).padStart(64,"0"),m=(t.startsWith("0x")?t:YL(t)).substring(2),g=c+m+u+h+d,w=await fetch(`${i||Ade}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Ide(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:g},"latest"]})}),{result:v}=await w.json();return v?v.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),!1}}function Ide(){return Date.now()+Math.floor(Math.random()*1e3)}function Ode(e){const t=atob(e),n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(e,"base64").slice(1,65);return gp.encode(i)}function Rde(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const s=_de(r,{dkLen:32});return gp.encode(s)}function uP(e){const t=new Uint8Array(tv(xde(e)));return gp.encode(t)}function xde(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function dP(e){const t=Buffer.from(e,"base64"),n=vne(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=fne(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),a=bde(i);return Bte.encode(a).replace(/=+$/,"")}function iS(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function kde(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(iS(t.length)),s.push(t),s.push(Buffer.from([18])),s.push(iS(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(iS(r.length)),s.push(r);const i=Buffer.concat(s),a=tv(i);return Buffer.from(a).toString("hex").toUpperCase()}function Pde(e){var t,n;const r=[];try{if(typeof e=="string")return r.push(e),r;if(typeof e!="object")return r;e!=null&&e.id&&r.push(e.id);const s=(n=(t=e?.capabilities)==null?void 0:t.caip345)==null?void 0:n.transactionHashes;s&&r.push(...s)}catch(s){console.warn("getWalletSendCallsHashes failed: ",s)}return r}var Ude=Object.defineProperty,$de=Object.defineProperties,Dde=Object.getOwnPropertyDescriptors,fP=Object.getOwnPropertySymbols,Mde=Object.prototype.hasOwnProperty,Lde=Object.prototype.propertyIsEnumerable,hP=(e,t,n)=>t in e?Ude(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bde=(e,t)=>{for(var n in t||(t={}))Mde.call(t,n)&&hP(e,n,t[n]);if(fP)for(var n of fP(t))Lde.call(t,n)&&hP(e,n,t[n]);return e},Fde=(e,t)=>$de(e,Dde(t));const ZL="did:pkh:",jde={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},zde=e=>e?jde[e]||e:"",nv=e=>e?.split(":"),Hde=e=>{const t=e&&nv(e);if(t)return e.includes(ZL)?t[3]:t[1]},qde=e=>{const t=e&&nv(e);if(t)return e.includes(ZL)?t[2]:t[0]},j6=e=>{const t=e&&nv(e);if(t)return t[2]+":"+t[3]},Vw=e=>{const t=e&&nv(e);if(t)return t.pop()};async function pP(e){const{cacao:t,projectId:n}=e,{s:r,p:s}=t,i=XL(s,s.iss),a=Vw(s.iss);return await Sde(a,i,r,j6(s.iss),n)}const XL=(e,t)=>{const n=qde(t);if(!n)throw new Error("Invalid issuer: "+t);const r=`${e.domain} wants you to sign in with your ${zde(n)} account:`,s=Vw(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const a=`URI: ${e.aud||e.uri}`,c=`Version: ${e.version}`,u=`Chain ID: ${Hde(t)}`,d=`Nonce: ${e.nonce}`,h=`Issued At: ${e.iat}`,m=e.exp?`Expiration Time: ${e.exp}`:void 0,g=e.nbf?`Not Before: ${e.nbf}`:void 0,w=e.requestId?`Request ID: ${e.requestId}`:void 0,v=e.resources?`Resources:${e.resources.map(A=>`
- ${A}`).join("")}`:void 0,E=H1(e.resources);if(E){const A=Vm(E);i=Qde(i,A)}return[r,s,"",i,"",a,c,u,d,h,m,g,w,v].filter(A=>A!=null).join(`
`)};function Wde(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function Vde(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Fd(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${a}`)})})})}function Gde(e,t,n,r={}){return n?.sort((s,i)=>s.localeCompare(i)),{att:{[e]:Kde(t,n,r)}}}function Kde(e,t,n={}){t=t?.sort((s,i)=>s.localeCompare(i));const r=t.map(s=>({[`${e}/${s}`]:[n]}));return Object.assign({},...r)}function JL(e){return Fd(e),`urn:recap:${Wde(e).replace(/=/g,"")}`}function Vm(e){const t=Vde(e.replace("urn:recap:",""));return Fd(t),t}function Yde(e,t,n){const r=Gde(e,t,n);return JL(r)}function Zde(e){return e&&e.includes("urn:recap:")}function Xde(e,t){const n=Vm(e),r=Vm(t),s=Jde(n,r);return JL(s)}function Jde(e,t){Fd(e),Fd(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,a;Object.keys(((i=e.att)==null?void 0:i[s])||{}).concat(Object.keys(((a=t.att)==null?void 0:a[s])||{})).sort((c,u)=>c.localeCompare(u)).forEach(c=>{var u,d;r.att[s]=Fde(Bde({},r.att[s]),{[c]:((u=e.att[s])==null?void 0:u[c])||((d=t.att[s])==null?void 0:d[c])})})}),r}function Qde(e="",t){Fd(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let s=0;Object.keys(t.att).forEach(c=>{const u=Object.keys(t.att[c]).map(m=>({ability:m.split("/")[0],action:m.split("/")[1]}));u.sort((m,g)=>m.action.localeCompare(g.action));const d={};u.forEach(m=>{d[m.ability]||(d[m.ability]=[]),d[m.ability].push(m.action)});const h=Object.keys(d).map(m=>(s++,`(${s}) '${m}': '${d[m].join("', '")}' for '${c}'.`));r.push(h.join(", ").replace(".,","."))});const i=r.join(" "),a=`${n}${i}`;return`${e?e+" ":""}${a}`}function mP(e){var t;const n=Vm(e);Fd(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function gP(e){const t=Vm(e);Fd(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s?.[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function H1(e){if(!e)return;const t=e?.[e.length-1];return Zde(t)?t:void 0}function QL(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function z6(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function aS(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ai(e,...t){if(!QL(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function yP(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function efe(e,t){ai(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function cu(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Zh(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function tfe(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const nfe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function rfe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function H6(e){if(typeof e=="string")e=rfe(e);else if(QL(e))e=q6(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function sfe(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function ife(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const afe=(e,t)=>{function n(r,...s){if(ai(r),!nfe)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const d=s[0];if(!d)throw new Error("nonce / iv required");e.varSizeNonce?ai(d):ai(d,e.nonceLength)}const i=e.tagLength;i&&s[1]!==void 0&&ai(s[1]);const a=t(r,...s),c=(d,h)=>{if(h!==void 0){if(d!==2)throw new Error("cipher output not supported");ai(h)}};let u=!1;return{encrypt(d,h){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,ai(d),c(a.encrypt.length,h),a.encrypt(d,h)},decrypt(d,h){if(ai(d),i&&d.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return c(a.decrypt.length,h),a.decrypt(d,h)}}}return Object.assign(n,e),n};function bP(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!cfe(t))throw new Error("invalid output, must be aligned");return t}function wP(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i);e.setUint32(t+4,a,r),e.setUint32(t+0,c,r)}function ofe(e,t,n){z6(n);const r=new Uint8Array(16),s=tfe(r);return wP(s,0,BigInt(t),n),wP(s,8,BigInt(e),n),r}function cfe(e){return e.byteOffset%4===0}function q6(e){return Uint8Array.from(e)}const eB=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),lfe=eB("expand 16-byte k"),ufe=eB("expand 32-byte k"),dfe=cu(lfe),ffe=cu(ufe);function wn(e,t){return e<<t|e>>>32-t}function W6(e){return e.byteOffset%4===0}const n1=64,hfe=16,tB=2**32-1,EP=new Uint32Array;function pfe(e,t,n,r,s,i,a,c){const u=s.length,d=new Uint8Array(n1),h=cu(d),m=W6(s)&&W6(i),g=m?cu(s):EP,w=m?cu(i):EP;for(let v=0;v<u;a++){if(e(t,n,r,h,a,c),a>=tB)throw new Error("arx: counter overflow");const E=Math.min(n1,u-v);if(m&&E===n1){const A=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let R=0,k;R<hfe;R++)k=A+R,w[k]=g[k]^h[R];v+=n1;continue}for(let A=0,R;A<E;A++)R=v+A,i[R]=s[R]^d[A];v+=E}}function mfe(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:a}=sfe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return aS(s),aS(a),z6(i),z6(n),(c,u,d,h,m=0)=>{ai(c),ai(u),ai(d);const g=d.length;if(h===void 0&&(h=new Uint8Array(g)),ai(h),aS(m),m<0||m>=tB)throw new Error("arx: counter overflow");if(h.length<g)throw new Error(`arx: output (${h.length}) is shorter than data (${g})`);const w=[];let v=c.length,E,A;if(v===32)w.push(E=q6(c)),A=ffe;else if(v===16&&n)E=new Uint8Array(32),E.set(c),E.set(c,16),A=dfe,w.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);W6(u)||w.push(u=q6(u));const R=cu(E);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(A,R,cu(u.subarray(0,16)),R),u=u.subarray(16)}const k=16-s;if(k!==u.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const N=new Uint8Array(12);N.set(u,i?0:12-u.length),u=N,w.push(u)}const I=cu(u);return pfe(e,A,R,I,d,h,m,a),Zh(...w),h}}const is=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class gfe{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=H6(t),ai(t,32);const n=is(t,0),r=is(t,2),s=is(t,4),i=is(t,6),a=is(t,8),c=is(t,10),u=is(t,12),d=is(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let h=0;h<8;h++)this.pad[h]=is(t,16+2*h)}process(t,n,r=!1){const s=r?0:2048,{h:i,r:a}=this,c=a[0],u=a[1],d=a[2],h=a[3],m=a[4],g=a[5],w=a[6],v=a[7],E=a[8],A=a[9],R=is(t,n+0),k=is(t,n+2),I=is(t,n+4),N=is(t,n+6),S=is(t,n+8),x=is(t,n+10),P=is(t,n+12),L=is(t,n+14);let j=i[0]+(R&8191),W=i[1]+((R>>>13|k<<3)&8191),Y=i[2]+((k>>>10|I<<6)&8191),G=i[3]+((I>>>7|N<<9)&8191),K=i[4]+((N>>>4|S<<12)&8191),Z=i[5]+(S>>>1&8191),y=i[6]+((S>>>14|x<<2)&8191),_=i[7]+((x>>>11|P<<5)&8191),T=i[8]+((P>>>8|L<<8)&8191),$=i[9]+(L>>>5|s),U=0,q=U+j*c+W*(5*A)+Y*(5*E)+G*(5*v)+K*(5*w);U=q>>>13,q&=8191,q+=Z*(5*g)+y*(5*m)+_*(5*h)+T*(5*d)+$*(5*u),U+=q>>>13,q&=8191;let M=U+j*u+W*c+Y*(5*A)+G*(5*E)+K*(5*v);U=M>>>13,M&=8191,M+=Z*(5*w)+y*(5*g)+_*(5*m)+T*(5*h)+$*(5*d),U+=M>>>13,M&=8191;let z=U+j*d+W*u+Y*c+G*(5*A)+K*(5*E);U=z>>>13,z&=8191,z+=Z*(5*v)+y*(5*w)+_*(5*g)+T*(5*m)+$*(5*h),U+=z>>>13,z&=8191;let J=U+j*h+W*d+Y*u+G*c+K*(5*A);U=J>>>13,J&=8191,J+=Z*(5*E)+y*(5*v)+_*(5*w)+T*(5*g)+$*(5*m),U+=J>>>13,J&=8191;let D=U+j*m+W*h+Y*d+G*u+K*c;U=D>>>13,D&=8191,D+=Z*(5*A)+y*(5*E)+_*(5*v)+T*(5*w)+$*(5*g),U+=D>>>13,D&=8191;let Q=U+j*g+W*m+Y*h+G*d+K*u;U=Q>>>13,Q&=8191,Q+=Z*c+y*(5*A)+_*(5*E)+T*(5*v)+$*(5*w),U+=Q>>>13,Q&=8191;let le=U+j*w+W*g+Y*m+G*h+K*d;U=le>>>13,le&=8191,le+=Z*u+y*c+_*(5*A)+T*(5*E)+$*(5*v),U+=le>>>13,le&=8191;let be=U+j*v+W*w+Y*g+G*m+K*h;U=be>>>13,be&=8191,be+=Z*d+y*u+_*c+T*(5*A)+$*(5*E),U+=be>>>13,be&=8191;let $e=U+j*E+W*v+Y*w+G*g+K*m;U=$e>>>13,$e&=8191,$e+=Z*h+y*d+_*u+T*c+$*(5*A),U+=$e>>>13,$e&=8191;let _e=U+j*A+W*E+Y*v+G*w+K*g;U=_e>>>13,_e&=8191,_e+=Z*m+y*h+_*d+T*u+$*c,U+=_e>>>13,_e&=8191,U=(U<<2)+U|0,U=U+q|0,q=U&8191,U=U>>>13,M+=U,i[0]=q,i[1]=M,i[2]=z,i[3]=J,i[4]=D,i[5]=Q,i[6]=le,i[7]=be,i[8]=$e,i[9]=_e}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let s=t[1]>>>13;t[1]&=8191;for(let c=2;c<10;c++)t[c]+=s,s=t[c]>>>13,t[c]&=8191;t[0]+=s*5,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,r[0]=t[0]+5,s=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=t[c]+s,s=r[c]>>>13,r[c]&=8191;r[9]-=8192;let i=(s^1)-1;for(let c=0;c<10;c++)r[c]&=i;i=~i;for(let c=0;c<10;c++)t[c]=t[c]&i|r[c];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let a=t[0]+n[0];t[0]=a&65535;for(let c=1;c<8;c++)a=(t[c]+n[c]|0)+(a>>>16)|0,t[c]=a&65535;Zh(r)}update(t){yP(this),t=H6(t),ai(t);const{buffer:n,blockLen:r}=this,s=t.length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);if(a===r){for(;r<=s-i;i+=r)this.process(t,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Zh(this.h,this.r,this.buffer,this.pad)}digestInto(t){yP(this),efe(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let a=0;a<8;a++)t[i++]=r[a]>>>0,t[i++]=r[a]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function yfe(e){const t=(r,s)=>e(s).update(H6(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const bfe=yfe(e=>new gfe(e));function wfe(e,t,n,r,s,i=20){let a=e[0],c=e[1],u=e[2],d=e[3],h=t[0],m=t[1],g=t[2],w=t[3],v=t[4],E=t[5],A=t[6],R=t[7],k=s,I=n[0],N=n[1],S=n[2],x=a,P=c,L=u,j=d,W=h,Y=m,G=g,K=w,Z=v,y=E,_=A,T=R,$=k,U=I,q=N,M=S;for(let J=0;J<i;J+=2)x=x+W|0,$=wn($^x,16),Z=Z+$|0,W=wn(W^Z,12),x=x+W|0,$=wn($^x,8),Z=Z+$|0,W=wn(W^Z,7),P=P+Y|0,U=wn(U^P,16),y=y+U|0,Y=wn(Y^y,12),P=P+Y|0,U=wn(U^P,8),y=y+U|0,Y=wn(Y^y,7),L=L+G|0,q=wn(q^L,16),_=_+q|0,G=wn(G^_,12),L=L+G|0,q=wn(q^L,8),_=_+q|0,G=wn(G^_,7),j=j+K|0,M=wn(M^j,16),T=T+M|0,K=wn(K^T,12),j=j+K|0,M=wn(M^j,8),T=T+M|0,K=wn(K^T,7),x=x+Y|0,M=wn(M^x,16),_=_+M|0,Y=wn(Y^_,12),x=x+Y|0,M=wn(M^x,8),_=_+M|0,Y=wn(Y^_,7),P=P+G|0,$=wn($^P,16),T=T+$|0,G=wn(G^T,12),P=P+G|0,$=wn($^P,8),T=T+$|0,G=wn(G^T,7),L=L+K|0,U=wn(U^L,16),Z=Z+U|0,K=wn(K^Z,12),L=L+K|0,U=wn(U^L,8),Z=Z+U|0,K=wn(K^Z,7),j=j+W|0,q=wn(q^j,16),y=y+q|0,W=wn(W^y,12),j=j+W|0,q=wn(q^j,8),y=y+q|0,W=wn(W^y,7);let z=0;r[z++]=a+x|0,r[z++]=c+P|0,r[z++]=u+L|0,r[z++]=d+j|0,r[z++]=h+W|0,r[z++]=m+Y|0,r[z++]=g+G|0,r[z++]=w+K|0,r[z++]=v+Z|0,r[z++]=E+y|0,r[z++]=A+_|0,r[z++]=R+T|0,r[z++]=k+$|0,r[z++]=I+U|0,r[z++]=N+q|0,r[z++]=S+M|0}const Efe=mfe(wfe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),vfe=new Uint8Array(16),vP=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(vfe.subarray(n))},Cfe=new Uint8Array(32);function CP(e,t,n,r,s){const i=e(t,n,Cfe),a=bfe.create(i);s&&vP(a,s),vP(a,r);const c=ofe(r.length,s?s.length:0,!0);a.update(c);const u=a.digest();return Zh(i,c),u}const _fe=e=>(t,n,r)=>({encrypt(s,i){const a=s.length;i=bP(a+16,i,!1),i.set(s);const c=i.subarray(0,-16);e(t,n,c,c,1);const u=CP(e,t,n,c,r);return i.set(u,a),Zh(u),i},decrypt(s,i){i=bP(s.length-16,i,!1);const a=s.subarray(0,-16),c=s.subarray(-16),u=CP(e,t,n,a,r);if(!ife(c,u))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),e(t,n,i,i,1),Zh(u),i}}),nB=afe({blockSize:64,nonceLength:12,tagLength:16},_fe(Efe));let rB=class extends ev{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,QE(t);const r=Za(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=t.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),Aa(i)}update(t){return gu(this),this.iHash.update(t),this}digestInto(t){gu(this),to(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=a,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const rv=(e,t,n)=>new rB(e,t).update(n).digest();rv.create=(e,t)=>new rB(e,t);function Afe(e,t,n){return QE(e),n===void 0&&(n=new Uint8Array(e.outputLen)),rv(e,Za(n),Za(t))}const oS=Uint8Array.from([0]),_P=Uint8Array.of();function Sfe(e,t,n,r=32){QE(e),Hc(r);const s=e.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=_P);const a=new Uint8Array(i*s),c=rv.create(e,t),u=c._cloneInto(),d=new Uint8Array(c.outputLen);for(let h=0;h<i;h++)oS[0]=h+1,u.update(h===0?_P:d).update(n).update(oS).digestInto(d),a.set(d,s*h),c._cloneInto(u);return c.destroy(),u.destroy(),Aa(d,oS),a.slice(0,r)}const Nfe=(e,t,n,r,s)=>Sfe(e,Afe(e,t,n),r,s),sv=tv,oT=BigInt(0),V6=BigInt(1);function Gw(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function gd(e,t,n=""){const r=JE(e),s=e?.length,i=t!==void 0;if(!r||i&&s!==t){const a=n&&`"${n}" `,c=i?` of length ${t}`:"",u=r?`length=${s}`:`type=${typeof e}`;throw new Error(a+"expected Uint8Array"+c+", got "+u)}return e}function r1(e){const t=e.toString(16);return t.length&1?"0"+t:t}function sB(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?oT:BigInt("0x"+e)}function iv(e){return sB(Oh(e))}function Kw(e){return to(e),sB(Oh(Uint8Array.from(e).reverse()))}function cT(e,t){return Ww(e.toString(16).padStart(t*2,"0"))}function lT(e,t){return cT(e,t).reverse()}function Cs(e,t,n){let r;if(typeof t=="string")try{r=Ww(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(JE(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const cS=e=>typeof e=="bigint"&&oT<=e;function Tfe(e,t,n){return cS(e)&&cS(t)&&cS(n)&&t<=e&&e<n}function G6(e,t,n,r){if(!Tfe(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function iB(e){let t;for(t=0;e>oT;e>>=V6,t+=1);return t}const Kg=e=>(V6<<BigInt(e))-V6;function Ife(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=g=>new Uint8Array(g),s=g=>Uint8Array.of(g);let i=r(e),a=r(e),c=0;const u=()=>{i.fill(1),a.fill(0),c=0},d=(...g)=>n(a,i,...g),h=(g=r(0))=>{a=d(s(0),g),i=d(),g.length!==0&&(a=d(s(1),g),i=d())},m=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const w=[];for(;g<t;){i=d();const v=i.slice();w.push(v),g+=i.length}return Vl(...w)};return(g,w)=>{u(),h(g);let v;for(;!(v=w(m()));)h();return u(),v}}function av(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,a){const c=e[s];if(a&&c===void 0)return;const u=typeof c;if(u!==i||c===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${u}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function AP(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const li=BigInt(0),Ds=BigInt(1),yd=BigInt(2),aB=BigInt(3),oB=BigInt(4),cB=BigInt(5),Ofe=BigInt(7),lB=BigInt(8),Rfe=BigInt(9),uB=BigInt(16);function Mi(e,t){const n=e%t;return n>=li?n:t+n}function Ba(e,t,n){let r=e;for(;t-- >li;)r*=r,r%=n;return r}function SP(e,t){if(e===li)throw new Error("invert: expected non-zero number");if(t<=li)throw new Error("invert: expected positive modulus, got "+t);let n=Mi(e,t),r=t,s=li,i=Ds;for(;n!==li;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==Ds)throw new Error("invert: does not exist");return Mi(s,t)}function uT(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function dB(e,t){const n=(e.ORDER+Ds)/oB,r=e.pow(t,n);return uT(e,r,t),r}function xfe(e,t){const n=(e.ORDER-cB)/lB,r=e.mul(t,yd),s=e.pow(r,n),i=e.mul(t,s),a=e.mul(e.mul(i,yd),s),c=e.mul(i,e.sub(a,e.ONE));return uT(e,c,t),c}function kfe(e){const t=Tu(e),n=fB(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),a=(e+Ofe)/uB;return(c,u)=>{let d=c.pow(u,a),h=c.mul(d,r);const m=c.mul(d,s),g=c.mul(d,i),w=c.eql(c.sqr(h),u),v=c.eql(c.sqr(m),u);d=c.cmov(d,h,w),h=c.cmov(g,m,v);const E=c.eql(c.sqr(h),u),A=c.cmov(d,h,E);return uT(c,A,u),A}}function fB(e){if(e<aB)throw new Error("sqrt is not defined for small field");let t=e-Ds,n=0;for(;t%yd===li;)t/=yd,n++;let r=yd;const s=Tu(e);for(;NP(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return dB;let i=s.pow(r,t);const a=(t+Ds)/yd;return function(c,u){if(c.is0(u))return u;if(NP(c,u)!==1)throw new Error("Cannot find square root");let d=n,h=c.mul(c.ONE,i),m=c.pow(u,t),g=c.pow(u,a);for(;!c.eql(m,c.ONE);){if(c.is0(m))return c.ZERO;let w=1,v=c.sqr(m);for(;!c.eql(v,c.ONE);)if(w++,v=c.sqr(v),w===d)throw new Error("Cannot find square root");const E=Ds<<BigInt(d-w-1),A=c.pow(h,E);d=w,h=c.sqr(A),m=c.mul(m,h),g=c.mul(g,A)}return g}}function Pfe(e){return e%oB===aB?dB:e%lB===cB?xfe:e%uB===Rfe?kfe(e):fB(e)}const Ufe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $fe(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Ufe.reduce((r,s)=>(r[s]="function",r),t);return av(e,n),e}function Dfe(e,t,n){if(n<li)throw new Error("invalid exponent, negatives unsupported");if(n===li)return e.ONE;if(n===Ds)return t;let r=e.ONE,s=t;for(;n>li;)n&Ds&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Ds;return r}function hB(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((a,c,u)=>e.is0(c)?a:(r[u]=a,e.mul(a,c)),e.ONE),i=e.inv(s);return t.reduceRight((a,c,u)=>e.is0(c)?a:(r[u]=e.mul(a,r[u]),e.mul(a,c)),i),r}function NP(e,t){const n=(e.ORDER-Ds)/yd,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),a=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function pB(e,t){t!==void 0&&Hc(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Tu(e,t,n=!1,r={}){if(e<=li)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,a=!1,c;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const g=t;g.BITS&&(s=g.BITS),g.sqrt&&(i=g.sqrt),typeof g.isLE=="boolean"&&(n=g.isLE),typeof g.modFromBytes=="boolean"&&(a=g.modFromBytes),c=g.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:u,nByteLength:d}=pB(e,s);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const m=Object.freeze({ORDER:e,isLE:n,BITS:u,BYTES:d,MASK:Kg(u),ZERO:li,ONE:Ds,allowedLengths:c,create:g=>Mi(g,e),isValid:g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return li<=g&&g<e},is0:g=>g===li,isValidNot0:g=>!m.is0(g)&&m.isValid(g),isOdd:g=>(g&Ds)===Ds,neg:g=>Mi(-g,e),eql:(g,w)=>g===w,sqr:g=>Mi(g*g,e),add:(g,w)=>Mi(g+w,e),sub:(g,w)=>Mi(g-w,e),mul:(g,w)=>Mi(g*w,e),pow:(g,w)=>Dfe(m,g,w),div:(g,w)=>Mi(g*SP(w,e),e),sqrN:g=>g*g,addN:(g,w)=>g+w,subN:(g,w)=>g-w,mulN:(g,w)=>g*w,inv:g=>SP(g,e),sqrt:i||(g=>(h||(h=Pfe(e)),h(m,g))),toBytes:g=>n?lT(g,d):cT(g,d),fromBytes:(g,w=!0)=>{if(c){if(!c.includes(g.length)||g.length>d)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+g.length);const E=new Uint8Array(d);E.set(g,n?0:E.length-g.length),g=E}if(g.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+g.length);let v=n?Kw(g):iv(g);if(a&&(v=Mi(v,e)),!w&&!m.isValid(v))throw new Error("invalid field element: outside of range 0..ORDER");return v},invertBatch:g=>hB(m,g),cmov:(g,w,v)=>v?w:g});return Object.freeze(m)}function mB(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function gB(e){const t=mB(e);return t+Math.ceil(t/2)}function Mfe(e,t,n=!1){const r=e.length,s=mB(t),i=gB(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=n?Kw(e):iv(e),c=Mi(a,t-Ds)+Ds;return n?lT(c,s):cT(c,s)}const Xh=BigInt(0),bd=BigInt(1);function Yw(e,t){const n=t.negate();return e?n:t}function lS(e,t){const n=hB(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function yB(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function uS(e,t){yB(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Kg(e),a=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:a}}function TP(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:a}=n;let c=Number(e&s),u=e>>a;c>r&&(c-=i,u+=bd);const d=t*r,h=d+Math.abs(c)-1,m=c===0,g=c<0,w=t%2!==0;return{nextN:u,offset:h,isZero:m,isNeg:g,isNegF:w,offsetF:d}}function Lfe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Bfe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const dS=new WeakMap,bB=new WeakMap;function fS(e){return bB.get(e)||1}function IP(e){if(e!==Xh)throw new Error("invalid wNAF")}class Ffe{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>Xh;)n&bd&&(r=r.add(s)),s=s.double(),n>>=bd;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=uS(n,this.bits),i=[];let a=t,c=a;for(let u=0;u<r;u++){c=a,i.push(c);for(let d=1;d<s;d++)c=c.add(a),i.push(c);a=c.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const a=uS(t,this.bits);for(let c=0;c<a.windows;c++){const{nextN:u,offset:d,isZero:h,isNeg:m,isNegF:g,offsetF:w}=TP(r,c,a);r=u,h?i=i.add(Yw(g,n[w])):s=s.add(Yw(m,n[d]))}return IP(r),{p:s,f:i}}wNAFUnsafe(t,n,r,s=this.ZERO){const i=uS(t,this.bits);for(let a=0;a<i.windows&&r!==Xh;a++){const{nextN:c,offset:u,isZero:d,isNeg:h}=TP(r,a,i);if(r=c,!d){const m=n[u];s=s.add(h?m.negate():m)}}return IP(r),s}getPrecomputes(t,n,r){let s=dS.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),dS.set(n,s))),s}cached(t,n,r){const s=fS(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const i=fS(t);return i===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,s)}createCache(t,n){yB(n,this.bits),bB.set(t,n),dS.delete(t)}hasCache(t){return fS(t)!==1}}function jfe(e,t,n,r){let s=t,i=e.ZERO,a=e.ZERO;for(;n>Xh||r>Xh;)n&bd&&(i=i.add(s)),r&bd&&(a=a.add(s)),s=s.double(),n>>=bd,r>>=bd;return{p1:i,p2:a}}function zfe(e,t,n,r){Lfe(n,e),Bfe(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,c=iB(BigInt(s));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=Kg(u),h=new Array(Number(d)+1).fill(a),m=Math.floor((t.BITS-1)/u)*u;let g=a;for(let w=m;w>=0;w-=u){h.fill(a);for(let E=0;E<i;E++){const A=r[E],R=Number(A>>BigInt(w)&d);h[R]=h[R].add(n[E])}let v=a;for(let E=h.length-1,A=a;E>0;E--)A=A.add(h[E]),v=v.add(A);if(g=g.add(v),w!==0)for(let E=0;E<u;E++)g=g.double()}return g}function OP(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return $fe(t),t}else return Tu(e,{isLE:n})}function Hfe(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const u=t[c];if(!(typeof u=="bigint"&&u>Xh))throw new Error(`CURVE.${c} must be positive bigint`)}const s=OP(t.p,n.Fp,r),i=OP(t.n,n.Fn,r),a=["Gx","Gy","a","b"];for(const c of a)if(!s.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),jL("HashToScalar-");const x0=BigInt(0),ih=BigInt(1),s1=BigInt(2);function qfe(e){return av(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function Wfe(e){const t=qfe(e),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:a}=t,c=r==="x25519";if(!c&&r!=="x448")throw new Error("invalid type");const u=a||sf,d=c?255:448,h=c?32:56,m=BigInt(c?9:5),g=BigInt(c?121665:39081),w=c?s1**BigInt(254):s1**BigInt(447),v=c?BigInt(8)*s1**BigInt(251)-ih:BigInt(4)*s1**BigInt(445)-ih,E=w+v+ih,A=G=>Mi(G,n),R=k(m);function k(G){return lT(A(G),h)}function I(G){const K=Cs("u coordinate",G,h);return c&&(K[31]&=127),A(Kw(K))}function N(G){return Kw(s(Cs("scalar",G,h)))}function S(G,K){const Z=L(I(K),N(G));if(Z===x0)throw new Error("invalid private or public key received");return k(Z)}function x(G){return S(G,R)}function P(G,K,Z){const y=A(G*(K-Z));return K=A(K-y),Z=A(Z+y),{x_2:K,x_3:Z}}function L(G,K){G6("u",G,x0,n),G6("scalar",K,w,E);const Z=K,y=G;let _=ih,T=x0,$=G,U=ih,q=x0;for(let z=BigInt(d-1);z>=x0;z--){const J=Z>>z&ih;q^=J,{x_2:_,x_3:$}=P(q,_,$),{x_2:T,x_3:U}=P(q,T,U),q=J;const D=_+T,Q=A(D*D),le=_-T,be=A(le*le),$e=Q-be,_e=$+U,we=$-U,je=A(we*D),Et=A(_e*le),mn=je+Et,kt=je-Et;$=A(mn*mn),U=A(y*A(kt*kt)),_=A(Q*be),T=A($e*(Q+A(g*$e)))}({x_2:_,x_3:$}=P(q,_,$)),{x_2:T,x_3:U}=P(q,T,U);const M=i(T);return A(_*M)}const j={secretKey:h,publicKey:h,seed:h},W=(G=u(h))=>(to(G,j.seed),G);function Y(G){const K=W(G);return{secretKey:K,publicKey:x(K)}}return{keygen:Y,getSharedSecret:(G,K)=>S(G,K),getPublicKey:G=>x(G),scalarMult:S,scalarMultBase:x,utils:{randomSecretKey:W,randomPrivateKey:W},GuBytes:R.slice(),lengths:j}}const Vfe=BigInt(1),RP=BigInt(2),Gfe=BigInt(3),Kfe=BigInt(5);BigInt(8);const wB=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Yfe={p:wB,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Zfe(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=wB,a=e*e%i*e%i,c=Ba(a,RP,i)*a%i,u=Ba(c,Vfe,i)*e%i,d=Ba(u,Kfe,i)*u%i,h=Ba(d,t,i)*d%i,m=Ba(h,n,i)*h%i,g=Ba(m,r,i)*m%i,w=Ba(g,s,i)*g%i,v=Ba(w,s,i)*g%i,E=Ba(v,t,i)*d%i;return{pow_p_5_8:Ba(E,RP,i)*e%i,b2:a}}function Xfe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Jfe=Tu(Yfe.p,{isLE:!0}),K6=(()=>{const e=Jfe.ORDER;return Wfe({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=Zfe(t);return Mi(Ba(n,Gfe,e)*r,e)},adjustScalarBytes:Xfe})})(),xP=(e,t)=>(e+(e>=0?t:-t)/EB)/t;function Qfe(e,t,n){const[[r,s],[i,a]]=t,c=xP(a*e,n),u=xP(-s*e,n);let d=e-c*r-u*i,h=-c*s-u*a;const m=d<xc,g=h<xc;m&&(d=-d),g&&(h=-h);const w=Kg(Math.ceil(iB(n)/2))+Rh;if(d<xc||d>=w||h<xc||h>=w)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:m,k1:d,k2neg:g,k2:h}}function Y6(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function hS(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return Gw(n.lowS,"lowS"),Gw(n.prehash,"prehash"),n.format!==void 0&&Y6(n.format),n}class ehe extends Error{constructor(t=""){super(t)}}const Tc={Err:ehe,_tlv:{encode:(e,t)=>{const{Err:n}=Tc;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=r1(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?r1(s.length/2|128):"";return r1(e)+i+s+t},decode(e,t){const{Err:n}=Tc;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let a=0;if(!i)a=s;else{const u=s&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=t.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=Tc;if(e<xc)throw new t("integer: negative integers are not allowed");let n=r1(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Tc;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return iv(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Tc,s=Cs("signature",e),{v:i,l:a}=r.decode(48,s);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,i),{v:d,l:h}=r.decode(2,u);if(h.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(e){const{_tlv:t,_int:n}=Tc,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},xc=BigInt(0),Rh=BigInt(1),EB=BigInt(2),i1=BigInt(3),the=BigInt(4);function Ch(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=Cs("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function nhe(e,t={}){const n=Hfe("weierstrass",e,t),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:a,n:c}=i;av(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:u}=t;if(u&&(!r.is0(i.a)||typeof u.beta!="bigint"||!Array.isArray(u.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const d=CB(r,s);function h(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function m(G,K,Z){const{x:y,y:_}=K.toAffine(),T=r.toBytes(y);if(Gw(Z,"isCompressed"),Z){h();const $=!r.isOdd(_);return Vl(vB($),T)}else return Vl(Uint8Array.of(4),T,r.toBytes(_))}function g(G){gd(G,void 0,"Point");const{publicKey:K,publicKeyUncompressed:Z}=d,y=G.length,_=G[0],T=G.subarray(1);if(y===K&&(_===2||_===3)){const $=r.fromBytes(T);if(!r.isValid($))throw new Error("bad point: is not on curve, wrong x");const U=E($);let q;try{q=r.sqrt(U)}catch(z){const J=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+J)}h();const M=r.isOdd(q);return(_&1)===1!==M&&(q=r.neg(q)),{x:$,y:q}}else if(y===Z&&_===4){const $=r.BYTES,U=r.fromBytes(T.subarray(0,$)),q=r.fromBytes(T.subarray($,$*2));if(!A(U,q))throw new Error("bad point: is not on curve");return{x:U,y:q}}else throw new Error(`bad point: got length ${y}, expected compressed=${K} or uncompressed=${Z}`)}const w=t.toBytes||m,v=t.fromBytes||g;function E(G){const K=r.sqr(G),Z=r.mul(K,G);return r.add(r.add(Z,r.mul(G,i.a)),i.b)}function A(G,K){const Z=r.sqr(K),y=E(G);return r.eql(Z,y)}if(!A(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const R=r.mul(r.pow(i.a,i1),the),k=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(R,k)))throw new Error("bad curve params: a or b");function I(G,K,Z=!1){if(!r.isValid(K)||Z&&r.is0(K))throw new Error(`bad point coordinate ${G}`);return K}function N(G){if(!(G instanceof j))throw new Error("ProjectivePoint expected")}function S(G){if(!u||!u.basises)throw new Error("no endo");return Qfe(G,u.basises,s.ORDER)}const x=AP((G,K)=>{const{X:Z,Y:y,Z:_}=G;if(r.eql(_,r.ONE))return{x:Z,y};const T=G.is0();K==null&&(K=T?r.ONE:r.inv(_));const $=r.mul(Z,K),U=r.mul(y,K),q=r.mul(_,K);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(q,r.ONE))throw new Error("invZ was invalid");return{x:$,y:U}}),P=AP(G=>{if(G.is0()){if(t.allowInfinityPoint&&!r.is0(G.Y))return;throw new Error("bad point: ZERO")}const{x:K,y:Z}=G.toAffine();if(!r.isValid(K)||!r.isValid(Z))throw new Error("bad point: x or y not field elements");if(!A(K,Z))throw new Error("bad point: equation left != right");if(!G.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function L(G,K,Z,y,_){return Z=new j(r.mul(Z.X,G),Z.Y,Z.Z),K=Yw(y,K),Z=Yw(_,Z),K.add(Z)}class j{constructor(K,Z,y){this.X=I("x",K),this.Y=I("y",Z,!0),this.Z=I("z",y),Object.freeze(this)}static CURVE(){return i}static fromAffine(K){const{x:Z,y}=K||{};if(!K||!r.isValid(Z)||!r.isValid(y))throw new Error("invalid affine point");if(K instanceof j)throw new Error("projective point not allowed");return r.is0(Z)&&r.is0(y)?j.ZERO:new j(Z,y,r.ONE)}static fromBytes(K){const Z=j.fromAffine(v(gd(K,void 0,"point")));return Z.assertValidity(),Z}static fromHex(K){return j.fromBytes(Cs("pointHex",K))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(K=8,Z=!0){return Y.createCache(this,K),Z||this.multiply(i1),this}assertValidity(){P(this)}hasEvenY(){const{y:K}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(K)}equals(K){N(K);const{X:Z,Y:y,Z:_}=this,{X:T,Y:$,Z:U}=K,q=r.eql(r.mul(Z,U),r.mul(T,_)),M=r.eql(r.mul(y,U),r.mul($,_));return q&&M}negate(){return new j(this.X,r.neg(this.Y),this.Z)}double(){const{a:K,b:Z}=i,y=r.mul(Z,i1),{X:_,Y:T,Z:$}=this;let U=r.ZERO,q=r.ZERO,M=r.ZERO,z=r.mul(_,_),J=r.mul(T,T),D=r.mul($,$),Q=r.mul(_,T);return Q=r.add(Q,Q),M=r.mul(_,$),M=r.add(M,M),U=r.mul(K,M),q=r.mul(y,D),q=r.add(U,q),U=r.sub(J,q),q=r.add(J,q),q=r.mul(U,q),U=r.mul(Q,U),M=r.mul(y,M),D=r.mul(K,D),Q=r.sub(z,D),Q=r.mul(K,Q),Q=r.add(Q,M),M=r.add(z,z),z=r.add(M,z),z=r.add(z,D),z=r.mul(z,Q),q=r.add(q,z),D=r.mul(T,$),D=r.add(D,D),z=r.mul(D,Q),U=r.sub(U,z),M=r.mul(D,J),M=r.add(M,M),M=r.add(M,M),new j(U,q,M)}add(K){N(K);const{X:Z,Y:y,Z:_}=this,{X:T,Y:$,Z:U}=K;let q=r.ZERO,M=r.ZERO,z=r.ZERO;const J=i.a,D=r.mul(i.b,i1);let Q=r.mul(Z,T),le=r.mul(y,$),be=r.mul(_,U),$e=r.add(Z,y),_e=r.add(T,$);$e=r.mul($e,_e),_e=r.add(Q,le),$e=r.sub($e,_e),_e=r.add(Z,_);let we=r.add(T,U);return _e=r.mul(_e,we),we=r.add(Q,be),_e=r.sub(_e,we),we=r.add(y,_),q=r.add($,U),we=r.mul(we,q),q=r.add(le,be),we=r.sub(we,q),z=r.mul(J,_e),q=r.mul(D,be),z=r.add(q,z),q=r.sub(le,z),z=r.add(le,z),M=r.mul(q,z),le=r.add(Q,Q),le=r.add(le,Q),be=r.mul(J,be),_e=r.mul(D,_e),le=r.add(le,be),be=r.sub(Q,be),be=r.mul(J,be),_e=r.add(_e,be),Q=r.mul(le,_e),M=r.add(M,Q),Q=r.mul(we,_e),q=r.mul($e,q),q=r.sub(q,Q),Q=r.mul($e,le),z=r.mul(we,z),z=r.add(z,Q),new j(q,M,z)}subtract(K){return this.add(K.negate())}is0(){return this.equals(j.ZERO)}multiply(K){const{endo:Z}=t;if(!s.isValidNot0(K))throw new Error("invalid scalar: out of range");let y,_;const T=$=>Y.cached(this,$,U=>lS(j,U));if(Z){const{k1neg:$,k1:U,k2neg:q,k2:M}=S(K),{p:z,f:J}=T(U),{p:D,f:Q}=T(M);_=J.add(Q),y=L(Z.beta,z,D,$,q)}else{const{p:$,f:U}=T(K);y=$,_=U}return lS(j,[y,_])[0]}multiplyUnsafe(K){const{endo:Z}=t,y=this;if(!s.isValid(K))throw new Error("invalid scalar: out of range");if(K===xc||y.is0())return j.ZERO;if(K===Rh)return y;if(Y.hasCache(this))return this.multiply(K);if(Z){const{k1neg:_,k1:T,k2neg:$,k2:U}=S(K),{p1:q,p2:M}=jfe(j,y,T,U);return L(Z.beta,q,M,_,$)}else return Y.unsafe(y,K)}multiplyAndAddUnsafe(K,Z,y){const _=this.multiplyUnsafe(Z).add(K.multiplyUnsafe(y));return _.is0()?void 0:_}toAffine(K){return x(this,K)}isTorsionFree(){const{isTorsionFree:K}=t;return a===Rh?!0:K?K(j,this):Y.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:K}=t;return a===Rh?this:K?K(j,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(K=!0){return Gw(K,"isCompressed"),this.assertValidity(),w(j,this,K)}toHex(K=!0){return Oh(this.toBytes(K))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(K=!0){return this.toBytes(K)}_setWindowSize(K){this.precompute(K)}static normalizeZ(K){return lS(j,K)}static msm(K,Z){return zfe(j,s,K,Z)}static fromPrivateKey(K){return j.BASE.multiply(Ch(s,K))}}j.BASE=new j(i.Gx,i.Gy,r.ONE),j.ZERO=new j(r.ZERO,r.ONE,r.ZERO),j.Fp=r,j.Fn=s;const W=s.BITS,Y=new Ffe(j,t.endo?Math.ceil(W/2):W);return j.BASE.precompute(8),j}function vB(e){return Uint8Array.of(e?2:3)}function CB(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function rhe(e,t={}){const{Fn:n}=e,r=t.randomBytes||sf,s=Object.assign(CB(e.Fp,n),{seed:gB(n.ORDER)});function i(g){try{return!!Ch(n,g)}catch{return!1}}function a(g,w){const{publicKey:v,publicKeyUncompressed:E}=s;try{const A=g.length;return w===!0&&A!==v||w===!1&&A!==E?!1:!!e.fromBytes(g)}catch{return!1}}function c(g=r(s.seed)){return Mfe(gd(g,s.seed,"seed"),n.ORDER)}function u(g,w=!0){return e.BASE.multiply(Ch(n,g)).toBytes(w)}function d(g){const w=c(g);return{secretKey:w,publicKey:u(w)}}function h(g){if(typeof g=="bigint")return!1;if(g instanceof e)return!0;const{secretKey:w,publicKey:v,publicKeyUncompressed:E}=s;if(n.allowedLengths||w===v)return;const A=Cs("key",g).length;return A===v||A===E}function m(g,w,v=!0){if(h(g)===!0)throw new Error("first arg must be private key");if(h(w)===!1)throw new Error("second arg must be public key");const E=Ch(n,g);return e.fromHex(w).multiply(E).toBytes(v)}return Object.freeze({getPublicKey:u,getSharedSecret:m,keygen:d,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:a,randomSecretKey:c,isValidPrivateKey:i,randomPrivateKey:c,normPrivateKeyToScalar:g=>Ch(n,g),precompute(g=8,w=e.BASE){return w.precompute(g,!1)}},lengths:s})}function she(e,t,n={}){QE(t),av(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||sf,s=n.hmac||((Z,...y)=>rv(t,Z,Vl(...y))),{Fp:i,Fn:a}=e,{ORDER:c,BITS:u}=a,{keygen:d,getPublicKey:h,getSharedSecret:m,utils:g,lengths:w}=rhe(e,n),v={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},E="compact";function A(Z){const y=c>>Rh;return Z>y}function R(Z,y){if(!a.isValidNot0(y))throw new Error(`invalid signature ${Z}: out of range 1..Point.Fn.ORDER`);return y}function k(Z,y){Y6(y);const _=w.signature,T=y==="compact"?_:y==="recovered"?_+1:void 0;return gd(Z,T,`${y} signature`)}class I{constructor(y,_,T){this.r=R("r",y),this.s=R("s",_),T!=null&&(this.recovery=T),Object.freeze(this)}static fromBytes(y,_=E){k(y,_);let T;if(_==="der"){const{r:M,s:z}=Tc.toSig(gd(y));return new I(M,z)}_==="recovered"&&(T=y[0],_="compact",y=y.subarray(1));const $=a.BYTES,U=y.subarray(0,$),q=y.subarray($,$*2);return new I(a.fromBytes(U),a.fromBytes(q),T)}static fromHex(y,_){return this.fromBytes(Ww(y),_)}addRecoveryBit(y){return new I(this.r,this.s,y)}recoverPublicKey(y){const _=i.ORDER,{r:T,s:$,recovery:U}=this;if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");if(c*EB<_&&U>1)throw new Error("recovery id is ambiguous for h>1 curve");const q=U===2||U===3?T+c:T;if(!i.isValid(q))throw new Error("recovery id 2 or 3 invalid");const M=i.toBytes(q),z=e.fromBytes(Vl(vB((U&1)===0),M)),J=a.inv(q),D=S(Cs("msgHash",y)),Q=a.create(-D*J),le=a.create($*J),be=e.BASE.multiplyUnsafe(Q).add(z.multiplyUnsafe(le));if(be.is0())throw new Error("point at infinify");return be.assertValidity(),be}hasHighS(){return A(this.s)}toBytes(y=E){if(Y6(y),y==="der")return Ww(Tc.hexFromSig(this));const _=a.toBytes(this.r),T=a.toBytes(this.s);if(y==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Vl(Uint8Array.of(this.recovery),_,T)}return Vl(_,T)}toHex(y){return Oh(this.toBytes(y))}assertValidity(){}static fromCompact(y){return I.fromBytes(Cs("sig",y),"compact")}static fromDER(y){return I.fromBytes(Cs("sig",y),"der")}normalizeS(){return this.hasHighS()?new I(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Oh(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Oh(this.toBytes("compact"))}}const N=n.bits2int||function(Z){if(Z.length>8192)throw new Error("input is too large");const y=iv(Z),_=Z.length*8-u;return _>0?y>>BigInt(_):y},S=n.bits2int_modN||function(Z){return a.create(N(Z))},x=Kg(u);function P(Z){return G6("num < 2^"+u,Z,xc,x),a.toBytes(Z)}function L(Z,y){return gd(Z,void 0,"message"),y?gd(t(Z),void 0,"prehashed message"):Z}function j(Z,y,_){if(["recovered","canonical"].some(le=>le in _))throw new Error("sign() legacy options not supported");const{lowS:T,prehash:$,extraEntropy:U}=hS(_,v);Z=L(Z,$);const q=S(Z),M=Ch(a,y),z=[P(M),P(q)];if(U!=null&&U!==!1){const le=U===!0?r(w.secretKey):U;z.push(Cs("extraEntropy",le))}const J=Vl(...z),D=q;function Q(le){const be=N(le);if(!a.isValidNot0(be))return;const $e=a.inv(be),_e=e.BASE.multiply(be).toAffine(),we=a.create(_e.x);if(we===xc)return;const je=a.create($e*a.create(D+we*M));if(je===xc)return;let Et=(_e.x===we?0:2)|Number(_e.y&Rh),mn=je;return T&&A(je)&&(mn=a.neg(je),Et^=1),new I(we,mn,Et)}return{seed:J,k2sig:Q}}function W(Z,y,_={}){Z=Cs("message",Z);const{seed:T,k2sig:$}=j(Z,y,_);return Ife(t.outputLen,a.BYTES,s)(T,$)}function Y(Z){let y;const _=typeof Z=="string"||JE(Z),T=!_&&Z!==null&&typeof Z=="object"&&typeof Z.r=="bigint"&&typeof Z.s=="bigint";if(!_&&!T)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(T)y=new I(Z.r,Z.s);else if(_){try{y=I.fromBytes(Cs("sig",Z),"der")}catch($){if(!($ instanceof Tc.Err))throw $}if(!y)try{y=I.fromBytes(Cs("sig",Z),"compact")}catch{return!1}}return y||!1}function G(Z,y,_,T={}){const{lowS:$,prehash:U,format:q}=hS(T,v);if(_=Cs("publicKey",_),y=L(Cs("message",y),U),"strict"in T)throw new Error("options.strict was renamed to lowS");const M=q===void 0?Y(Z):I.fromBytes(Cs("sig",Z),q);if(M===!1)return!1;try{const z=e.fromBytes(_);if($&&M.hasHighS())return!1;const{r:J,s:D}=M,Q=S(y),le=a.inv(D),be=a.create(Q*le),$e=a.create(J*le),_e=e.BASE.multiplyUnsafe(be).add(z.multiplyUnsafe($e));return _e.is0()?!1:a.create(_e.x)===J}catch{return!1}}function K(Z,y,_={}){const{prehash:T}=hS(_,v);return y=L(y,T),I.fromBytes(Z,"recovered").recoverPublicKey(y).toBytes()}return Object.freeze({keygen:d,getPublicKey:h,getSharedSecret:m,utils:g,lengths:w,Point:e,sign:W,verify:G,recoverPublicKey:K,Signature:I,hash:t})}function ihe(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const s=Tu(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function ahe(e){const{CURVE:t,curveOpts:n}=ihe(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function ohe(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,pB(n.Fn.ORDER,n.Fn.BITS))})}function che(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=ahe(e),i=nhe(t,n),a=she(i,r,s);return ohe(e,a)}function Z6(e,t){const n=r=>che({...e,hash:r});return{...n(t),create:n}}const _B={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},AB={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},SB={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},lhe=Tu(_B.p),uhe=Tu(AB.p),dhe=Tu(SB.p),fhe=Z6({..._B,Fp:lhe,lowS:!1},tv);Z6({...AB,Fp:uhe,lowS:!1},yde),Z6({...SB,Fp:dhe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},gde);const hhe=fhe,NB="base10",Ms="base16",oi="base64pad",Gl="base64url",Yg="utf8",TB=0,Mc=1,Zg=2,phe=0,kP=1,lm=12,dT=32;function mhe(){const e=K6.utils.randomPrivateKey(),t=K6.getPublicKey(e);return{privateKey:di(e,Ms),publicKey:di(t,Ms)}}function X6(){const e=sf(dT);return di(e,Ms)}function ghe(e,t){const n=K6.getSharedSecret(Ea(e,Ms),Ea(t,Ms)),r=Nfe(sv,n,void 0,void 0,dT);return di(r,Ms)}function q1(e){const t=sv(Ea(e,Ms));return di(t,Ms)}function pa(e){const t=sv(Ea(e,Yg));return di(t,Ms)}function IB(e){return Ea(`${e}`,NB)}function jd(e){return Number(di(e,NB))}function OB(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function RB(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function yhe(e){const t=IB(typeof e.type<"u"?e.type:TB);if(jd(t)===Mc&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?Ea(e.senderPublicKey,Ms):void 0,r=typeof e.iv<"u"?Ea(e.iv,Ms):sf(lm),s=Ea(e.symKey,Ms),i=nB(s,r).encrypt(Ea(e.message,Yg)),a=xB({type:t,sealed:i,iv:r,senderPublicKey:n});return e.encoding===Gl?OB(a):a}function bhe(e){const t=Ea(e.symKey,Ms),{sealed:n,iv:r}=Gm({encoded:e.encoded,encoding:e.encoding}),s=nB(t,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return di(s,Yg)}function whe(e,t){const n=IB(Zg),r=sf(lm),s=Ea(e,Yg),i=xB({type:n,sealed:s,iv:r});return t===Gl?OB(i):i}function Ehe(e,t){const{sealed:n}=Gm({encoded:e,encoding:t});return di(n,Yg)}function xB(e){if(jd(e.type)===Zg)return di(cm([e.type,e.sealed]),oi);if(jd(e.type)===Mc){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return di(cm([e.type,e.senderPublicKey,e.iv,e.sealed]),oi)}return di(cm([e.type,e.iv,e.sealed]),oi)}function Gm(e){const t=(e.encoding||oi)===Gl?RB(e.encoded):e.encoded,n=Ea(t,oi),r=n.slice(phe,kP),s=kP;if(jd(r)===Mc){const u=s+dT,d=u+lm,h=n.slice(s,u),m=n.slice(u,d),g=n.slice(d);return{type:r,sealed:g,iv:m,senderPublicKey:h}}if(jd(r)===Zg){const u=n.slice(s),d=sf(lm);return{type:r,sealed:u,iv:d}}const i=s+lm,a=n.slice(s,i),c=n.slice(i);return{type:r,sealed:c,iv:a}}function vhe(e,t){const n=Gm({encoded:e,encoding:t?.encoding});return kB({type:jd(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?di(n.senderPublicKey,Ms):void 0,receiverPublicKey:t?.receiverPublicKey})}function kB(e){const t=e?.type||TB;if(t===Mc){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function PP(e){return e.type===Mc&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function UP(e){return e.type===Zg}function Che(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return cm([new Uint8Array([4]),t,n])}function _he(e,t){const[n,r,s]=e.split("."),i=Buffer.from(RB(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const a=i.slice(0,32),c=i.slice(32,64),u=`${n}.${r}`,d=sv(u),h=Che(t);if(!hhe.verify(cm([a,c]),d,h))throw new Error("Invalid signature");return x6(e).payload}const Ahe="irn";function Zw(e){return e?.relay||{protocol:Ahe}}function _h(e){const t=bre[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var She=Object.defineProperty,Nhe=Object.defineProperties,The=Object.getOwnPropertyDescriptors,$P=Object.getOwnPropertySymbols,Ihe=Object.prototype.hasOwnProperty,Ohe=Object.prototype.propertyIsEnumerable,DP=(e,t,n)=>t in e?She(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pS=(e,t)=>{for(var n in t||(t={}))Ihe.call(t,n)&&DP(e,n,t[n]);if($P)for(var n of $P(t))Ohe.call(t,n)&&DP(e,n,t[n]);return e},Rhe=(e,t)=>Nhe(e,The(t));function xhe(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),a=e[s];n[i]=a}}),n}function MP(e){if(!e.includes("wc:")){const d=$L(e);d!=null&&d.includes("wc:")&&(e=d)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),s=e.substring(t+1,n).split("@"),i=typeof n<"u"?e.substring(n):"",a=new URLSearchParams(i),c=Object.fromEntries(a.entries()),u=typeof c.methods=="string"?c.methods.split(","):void 0;return{protocol:r,topic:khe(s[0]),version:parseInt(s[1],10),symKey:c.symKey,relay:xhe(c),methods:u,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function khe(e){return e.startsWith("//")?e.substring(2):e}function Phe(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(s=>{const i=s,a=n+t+i;e[i]&&(r[a]=e[i])}),r}function LP(e){const t=new URLSearchParams,n=pS(pS(Rhe(pS({},Phe(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(n).sort(([r],[s])=>r.localeCompare(s)).forEach(([r,s])=>{s!==void 0&&t.append(r,String(s))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function a1(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var Uhe=Object.defineProperty,$he=Object.defineProperties,Dhe=Object.getOwnPropertyDescriptors,BP=Object.getOwnPropertySymbols,Mhe=Object.prototype.hasOwnProperty,Lhe=Object.prototype.propertyIsEnumerable,FP=(e,t,n)=>t in e?Uhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bhe=(e,t)=>{for(var n in t||(t={}))Mhe.call(t,n)&&FP(e,n,t[n]);if(BP)for(var n of BP(t))Lhe.call(t,n)&&FP(e,n,t[n]);return e},Fhe=(e,t)=>$he(e,Dhe(t));function bp(e){const t=[];return e.forEach(n=>{const[r,s]=n.split(":");t.push(`${r}:${s}`)}),t}function PB(e){const t=[];return Object.values(e).forEach(n=>{t.push(...bp(n.accounts))}),[...new Set(t)]}function jhe(e){const t=[];return Object.values(e).forEach(n=>{t.push(...n.methods)}),[...new Set(t)]}function zhe(e){const t=[];return Object.values(e).forEach(n=>{t.push(...n.events)}),[...new Set(t)]}function Hhe(e,t){const n=[];return Object.values(e).forEach(r=>{bp(r.accounts).includes(t)&&n.push(...r.methods)}),n}function qhe(e,t){const n=[];return Object.values(e).forEach(r=>{bp(r.accounts).includes(t)&&n.push(...r.events)}),n}function ov(e){return e.includes(":")}function Ah(e){return ov(e)?e.split(":")[0]:e}function jP(e){var t,n,r;const s={};if(!No(e))return s;for(const[i,a]of Object.entries(e)){const c=ov(i)?[i]:a.chains,u=a.methods||[],d=a.events||[],h=Ah(i);s[h]=Fhe(Bhe({},s[h]),{chains:So(c,(t=s[h])==null?void 0:t.chains),methods:So(u,(n=s[h])==null?void 0:n.methods),events:So(d,(r=s[h])==null?void 0:r.events)})}return s}function Whe(e){const t={};return e?.forEach(n=>{var r;const[s,i]=n.split(":");t[s]||(t[s]={accounts:[],chains:[],events:[],methods:[]}),t[s].accounts.push(n),(r=t[s].chains)==null||r.push(`${s}:${i}`)}),t}function zP(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=Whe(t);for(const[r,s]of Object.entries(n))s.methods?s.methods=So(s.methods,e):s.methods=e,s.events=["chainChanged","accountsChanged"];return n}function Vhe(e,t){var n,r,s,i,a,c;const u=jP(e),d=jP(t),h={},m=Object.keys(u).concat(Object.keys(d));for(const g of m)h[g]={chains:So((n=u[g])==null?void 0:n.chains,(r=d[g])==null?void 0:r.chains),methods:So((s=u[g])==null?void 0:s.methods,(i=d[g])==null?void 0:i.methods),events:So((a=u[g])==null?void 0:a.events,(c=d[g])==null?void 0:c.events)};return h}const Ghe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Khe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Oe(e,t){const{message:n,code:r}=Khe[e];return{message:t?`${n} ${t}`:n,code:r}}function sr(e,t){const{message:n,code:r}=Ghe[e];return{message:t?`${n} ${t}`:n,code:r}}function Lc(e,t){return!!Array.isArray(e)}function No(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Zr(e){return typeof e>"u"}function Rr(e,t){return t&&Zr(e)?!0:typeof e=="string"&&!!e.trim().length}function fT(e,t){return typeof e=="number"&&!isNaN(e)}function Yhe(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),s=Object.keys(n);let i=!0;return md(s,r)?(r.forEach(a=>{const{accounts:c,methods:u,events:d}=e.namespaces[a],h=bp(c),m=n[a];(!md(RL(a,m),h)||!md(m.methods,u)||!md(m.events,d))&&(i=!1)}),i):!1}function Xw(e){return Rr(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function Zhe(e){if(Rr(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&Xw(n)}}return!1}function Xhe(e){function t(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Rr(e,!1)){if(t(e))return!0;const n=$L(e);return t(n)}}catch{}return!1}function Jhe(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function Qhe(e){return e?.topic}function epe(e,t){let n=null;return Rr(e?.publicKey,!1)||(n=Oe("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function HP(e){let t=!0;return Lc(e)?e.length&&(t=e.every(n=>Rr(n,!1))):t=!1,t}function tpe(e,t,n){let r=null;return Lc(t)&&t.length?t.forEach(s=>{r||Xw(s)||(r=sr("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):Xw(e)||(r=sr("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function npe(e,t,n){let r=null;return Object.entries(e).forEach(([s,i])=>{if(r)return;const a=tpe(s,RL(s,i),`${t} ${n}`);a&&(r=a)}),r}function rpe(e,t){let n=null;return Lc(e)?e.forEach(r=>{n||Zhe(r)||(n=sr("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=sr("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function spe(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=rpe(r?.accounts,`${t} namespace`);s&&(n=s)}),n}function ipe(e,t){let n=null;return HP(e?.methods)?HP(e?.events)||(n=sr("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=sr("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function UB(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=ipe(r,`${t}, namespace`);s&&(n=s)}),n}function ape(e,t,n){let r=null;if(e&&No(e)){const s=UB(e,t);s&&(r=s);const i=npe(e,t,n);i&&(r=i)}else r=Oe("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function mS(e,t){let n=null;if(e&&No(e)){const r=UB(e,t);r&&(n=r);const s=spe(e,t);s&&(n=s)}else n=Oe("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function $B(e){return Rr(e.protocol,!0)}function ope(e,t){let n=!1;return e?e&&Lc(e)&&e.length&&e.forEach(r=>{n=$B(r)}):n=!0,n}function cpe(e){return typeof e=="number"}function ni(e){return typeof e<"u"&&typeof e!==null}function lpe(e){return!(!e||typeof e!="object"||!e.code||!fT(e.code)||!e.message||!Rr(e.message,!1))}function upe(e){return!(Zr(e)||!Rr(e.method,!1))}function dpe(e){return!(Zr(e)||Zr(e.result)&&Zr(e.error)||!fT(e.id)||!Rr(e.jsonrpc,!1))}function fpe(e){return!(Zr(e)||!Rr(e.name,!1))}function qP(e,t){return!(!Xw(t)||!PB(e).includes(t))}function hpe(e,t,n){return Rr(n,!1)?Hhe(e,t).includes(n):!1}function ppe(e,t,n){return Rr(n,!1)?qhe(e,t).includes(n):!1}function WP(e,t,n){let r=null;const s=mpe(e),i=gpe(t),a=Object.keys(s),c=Object.keys(i),u=VP(Object.keys(e)),d=VP(Object.keys(t)),h=u.filter(m=>!d.includes(m));return h.length&&(r=Oe("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(t).toString()}`)),md(a,c)||(r=Oe("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${c.toString()}`)),Object.keys(t).forEach(m=>{if(!m.includes(":")||r)return;const g=bp(t[m].accounts);g.includes(m)||(r=Oe("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${m}
        Required: ${m}
        Approved: ${g.toString()}`))}),a.forEach(m=>{r||(md(s[m].methods,i[m].methods)?md(s[m].events,i[m].events)||(r=Oe("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${m}`)):r=Oe("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${m}`))}),r}function mpe(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(s=>{t[s]={methods:e[n].methods,events:e[n].events}})}),t}function VP(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function gpe(e){const t={};return Object.keys(e).forEach(n=>{n.includes(":")?t[n]=e[n]:bp(e[n].accounts)?.forEach(s=>{t[s]={accounts:e[n].accounts.filter(i=>i.includes(`${s}:`)),methods:e[n].methods,events:e[n].events}})}),t}function ype(e,t){return fT(e)&&e<=t.max&&e>=t.min}function GP(){const e=Vg();return new Promise(t=>{switch(e){case zi.browser:t(bpe());break;case zi.reactNative:t(wpe());break;case zi.node:t(Epe());break;default:t(!0)}})}function bpe(){return yp()&&navigator?.onLine}async function wpe(){return Nu()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function Epe(){return!0}function vpe(e){switch(Vg()){case zi.browser:Cpe(e);break;case zi.reactNative:_pe(e);break}}function Cpe(e){!Nu()&&yp()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function _pe(e){Nu()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}function Ape(){var e;return yp()&&zc.getDocument()?((e=zc.getDocument())==null?void 0:e.visibilityState)==="visible":!0}const gS={};class k0{static get(t){return gS[t]}static set(t,n){gS[t]=n}static delete(t){delete gS[t]}}function Spe(e){const t=gp.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function Npe({publicKey:e,signature:t,payload:n}){var r;const s=J6(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),a=Ope(n.address),c=n.era==="00"?new Uint8Array([0]):J6(n.era);if(c.length!==1&&c.length!==2)throw new Error("Invalid era length");const u=parseInt(n.nonce,16),d=new Uint8Array([u&255,u>>8&255]),h=BigInt(`0x${Ipe(n.tip)}`),m=xpe(h),g=new Uint8Array([0,...e,a,...t,...c,...d,...m,...s]),w=Rpe(g.length+1);return new Uint8Array([...w,i,...g])}function Tpe(e){const t=J6(e),n=Cre.blake2b(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function J6(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function Ipe(e){return e.startsWith("0x")?e.slice(2):e}function Ope(e){const t=gp.decode(e)[0];return t===42?0:t===60?2:1}function Rpe(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){const t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function xpe(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function kpe(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=Spe(e.transaction.address),r=Npe({publicKey:n,signature:t,payload:e.transaction}),s=Buffer.from(r).toString("hex");return Tpe(s)}function hT({logger:e,name:t}){const n=typeof e=="string"?SM({opts:{level:e,name:t}}).logger:e;return n.level=typeof e=="string"?e:e.level,n}var Ppe={};const DB="wc",MB=2,Q6="core",xo=`${DB}@2:${Q6}:`,Upe={logger:"error"},$pe={database:":memory:"},Dpe="crypto",KP="client_ed25519_seed",Mpe=Te.ONE_DAY,Lpe="keychain",Bpe="0.3",Fpe="messages",jpe="0.3",zpe=Te.SIX_HOURS,Hpe="publisher",LB="irn",qpe="error",BB="wss://relay.walletconnect.org",Wpe="relayer",Or={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Vpe="_subscription",ia={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Gpe=.1,eN="2.23.0",Xn={link_mode:"link_mode",relay:"relay"},W1={inbound:"inbound",outbound:"outbound"},Kpe="0.3",Ype="WALLETCONNECT_CLIENT_ID",YP="WALLETCONNECT_LINK_MODE_APPS",$i={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Zpe="subscription",Xpe="0.3",Jpe="pairing",Qpe="0.3",P0={wc_pairingDelete:{req:{ttl:Te.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Te.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Te.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Te.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Te.ONE_DAY,prompt:!1,tag:0},res:{ttl:Te.ONE_DAY,prompt:!1,tag:0}}},ld={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},$a={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},e0e="history",t0e="0.3",n0e="expirer",la={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},r0e="0.3",s0e="verify-api",i0e="https://verify.walletconnect.com",FB="https://verify.walletconnect.org",um=FB,a0e=`${um}/v3`,o0e=[i0e,FB],c0e="echo",l0e="https://echo.walletconnect.com",go={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},wc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Da={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},Xu={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},Ju={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},U0={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},u0e=.1,d0e="event-client",f0e=86400,h0e="https://pulse.walletconnect.org/batch";function p0e(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),a=i.charCodeAt(0);if(n[a]!==255)throw new TypeError(i+" is ambiguous");n[a]=s}var c=e.length,u=e.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function m(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,R=0,k=v.length;R!==k&&v[R]===0;)R++,E++;for(var I=(k-R)*h+1>>>0,N=new Uint8Array(I);R!==k;){for(var S=v[R],x=0,P=I-1;(S!==0||x<A)&&P!==-1;P--,x++)S+=256*N[P]>>>0,N[P]=S%c>>>0,S=S/c>>>0;if(S!==0)throw new Error("Non-zero carry");A=x,R++}for(var L=I-A;L!==I&&N[L]===0;)L++;for(var j=u.repeat(E);L<I;++L)j+=e.charAt(N[L]);return j}function g(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var A=0,R=0;v[E]===u;)A++,E++;for(var k=(v.length-E)*d+1>>>0,I=new Uint8Array(k);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var S=0,x=k-1;(N!==0||S<R)&&x!==-1;x--,S++)N+=c*I[x]>>>0,I[x]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");R=S,E++}if(v[E]!==" "){for(var P=k-R;P!==k&&I[P]===0;)P++;for(var L=new Uint8Array(A+(k-P)),j=A;P!==k;)L[j++]=I[P++];return L}}}function w(v){var E=g(v);if(E)return E;throw new Error(`Non-${t} character`)}return{encode:m,decodeUnsafe:g,decode:w}}var m0e=p0e,g0e=m0e;const jB=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},y0e=e=>new TextEncoder().encode(e),b0e=e=>new TextDecoder().decode(e);class w0e{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class E0e{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return zB(this,t)}}class v0e{constructor(t){this.decoders=t}or(t){return zB(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const zB=(e,t)=>new v0e({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class C0e{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new w0e(t,n,r),this.decoder=new E0e(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const cv=({name:e,prefix:t,encode:n,decode:r})=>new C0e(e,t,n,r),Xg=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=g0e(n,t);return cv({prefix:e,name:t,encode:r,decode:i=>jB(s(i))})},_0e=(e,t,n,r)=>{const s={};for(let h=0;h<t.length;++h)s[t[h]]=h;let i=e.length;for(;e[i-1]==="=";)--i;const a=new Uint8Array(i*n/8|0);let c=0,u=0,d=0;for(let h=0;h<i;++h){const m=s[e[h]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|m,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},A0e=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",a=0,c=0;for(let u=0;u<e.length;++u)for(c=c<<8|e[u],a+=8;a>n;)a-=n,i+=t[s&c>>a];if(a&&(i+=t[s&c<<n-a]),r)for(;i.length*n&7;)i+="=";return i},hs=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>cv({prefix:t,name:e,encode(s){return A0e(s,r,n)},decode(s){return _0e(s,r,n,e)}}),S0e=cv({prefix:"\0",name:"identity",encode:e=>b0e(e),decode:e=>y0e(e)});var N0e=Object.freeze({__proto__:null,identity:S0e});const T0e=hs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var I0e=Object.freeze({__proto__:null,base2:T0e});const O0e=hs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var R0e=Object.freeze({__proto__:null,base8:O0e});const x0e=Xg({prefix:"9",name:"base10",alphabet:"0123456789"});var k0e=Object.freeze({__proto__:null,base10:x0e});const P0e=hs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),U0e=hs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var $0e=Object.freeze({__proto__:null,base16:P0e,base16upper:U0e});const D0e=hs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),M0e=hs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),L0e=hs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),B0e=hs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F0e=hs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),j0e=hs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),z0e=hs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),H0e=hs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),q0e=hs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var W0e=Object.freeze({__proto__:null,base32:D0e,base32upper:M0e,base32pad:L0e,base32padupper:B0e,base32hex:F0e,base32hexupper:j0e,base32hexpad:z0e,base32hexpadupper:H0e,base32z:q0e});const V0e=Xg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),G0e=Xg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var K0e=Object.freeze({__proto__:null,base36:V0e,base36upper:G0e});const Y0e=Xg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Z0e=Xg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var X0e=Object.freeze({__proto__:null,base58btc:Y0e,base58flickr:Z0e});const J0e=hs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Q0e=hs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),eme=hs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),tme=hs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var nme=Object.freeze({__proto__:null,base64:J0e,base64pad:Q0e,base64url:eme,base64urlpad:tme});const HB=Array.from(""),rme=HB.reduce((e,t,n)=>(e[n]=t,e),[]),sme=HB.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function ime(e){return e.reduce((t,n)=>(t+=rme[n],t),"")}function ame(e){const t=[];for(const n of e){const r=sme[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const ome=cv({prefix:"",name:"base256emoji",encode:ime,decode:ame});var cme=Object.freeze({__proto__:null,base256emoji:ome}),lme=qB,ZP=128,ume=-128,dme=Math.pow(2,31);function qB(e,t,n){t=t||[],n=n||0;for(var r=n;e>=dme;)t[n++]=e&255|ZP,e/=128;for(;e&ume;)t[n++]=e&255|ZP,e>>>=7;return t[n]=e|0,qB.bytes=n-r+1,t}var fme=tN,hme=128,XP=127;function tN(e,r){var n=0,r=r||0,s=0,i=r,a,c=e.length;do{if(i>=c)throw tN.bytes=0,new RangeError("Could not decode varint");a=e[i++],n+=s<28?(a&XP)<<s:(a&XP)*Math.pow(2,s),s+=7}while(a>=hme);return tN.bytes=i-r,n}var pme=Math.pow(2,7),mme=Math.pow(2,14),gme=Math.pow(2,21),yme=Math.pow(2,28),bme=Math.pow(2,35),wme=Math.pow(2,42),Eme=Math.pow(2,49),vme=Math.pow(2,56),Cme=Math.pow(2,63),_me=function(e){return e<pme?1:e<mme?2:e<gme?3:e<yme?4:e<bme?5:e<wme?6:e<Eme?7:e<vme?8:e<Cme?9:10},Ame={encode:lme,decode:fme,encodingLength:_me},WB=Ame;const JP=(e,t,n=0)=>(WB.encode(e,t,n),t),QP=e=>WB.encodingLength(e),nN=(e,t)=>{const n=t.byteLength,r=QP(e),s=r+QP(n),i=new Uint8Array(s+n);return JP(e,i,0),JP(n,i,r),i.set(t,s),new Sme(e,n,t,i)};class Sme{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}}const VB=({name:e,code:t,encode:n})=>new Nme(e,t,n);class Nme{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?nN(this.code,n):n.then(r=>nN(this.code,r))}else throw Error("Unknown type, must be binary type")}}const GB=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Tme=VB({name:"sha2-256",code:18,encode:GB("SHA-256")}),Ime=VB({name:"sha2-512",code:19,encode:GB("SHA-512")});var Ome=Object.freeze({__proto__:null,sha256:Tme,sha512:Ime});const KB=0,Rme="identity",YB=jB,xme=e=>nN(KB,YB(e)),kme={code:KB,name:Rme,encode:YB,digest:xme};var Pme=Object.freeze({__proto__:null,identity:kme});new TextEncoder,new TextDecoder;const e4={...N0e,...I0e,...R0e,...k0e,...$0e,...W0e,...K0e,...X0e,...nme,...cme};({...Ome,...Pme});function ZB(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Ume(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ZB(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function XB(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const t4=XB("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),yS=XB("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Ume(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),$me={utf8:t4,"utf-8":t4,hex:e4.base16,latin1:yS,ascii:yS,binary:yS,...e4};function Dme(e,t="utf8"){const n=$me[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ZB(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}var Mme=Object.defineProperty,Lme=(e,t,n)=>t in e?Mme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ho=(e,t,n)=>Lme(e,typeof t!="symbol"?t+"":t,n);class Bme{constructor(t,n){this.core=t,this.logger=n,ho(this,"keychain",new Map),ho(this,"name",Lpe),ho(this,"version",Bpe),ho(this,"initialized",!1),ho(this,"storagePrefix",xo),ho(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),ho(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),ho(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),ho(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=Oe("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),ho(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=t,this.logger=Wi(n,this.name)}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,B6(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?F6(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=Oe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Fme=Object.defineProperty,jme=(e,t,n)=>t in e?Fme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vr=(e,t,n)=>jme(e,typeof t!="symbol"?t+"":t,n);class zme{constructor(t,n,r){this.core=t,this.logger=n,Vr(this,"name",Dpe),Vr(this,"keychain"),Vr(this,"randomSessionIdentifier",X6()),Vr(this,"initialized",!1),Vr(this,"clientId"),Vr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Vr(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Vr(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const s=await this.getClientSeed(),i=$k(s),a=eL(i.publicKey);return this.clientId=a,a}),Vr(this,"generateKeyPair",()=>{this.isInitialized();const s=mhe();return this.setPrivateKey(s.publicKey,s.privateKey)}),Vr(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),a=$k(i),c=this.randomSessionIdentifier;return await Fce(c,s,Mpe,a)}),Vr(this,"generateSharedKey",(s,i,a)=>{this.isInitialized();const c=this.getPrivateKey(s),u=ghe(c,i);return this.setSymKey(u,a)}),Vr(this,"setSymKey",async(s,i)=>{this.isInitialized();const a=i||q1(s);return await this.keychain.set(a,s),a}),Vr(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Vr(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Vr(this,"encode",async(s,i,a)=>{this.isInitialized();const c=kB(a),u=Hi(i);if(UP(c))return whe(u,a?.encoding);if(PP(c)){const g=c.senderPublicKey,w=c.receiverPublicKey;s=await this.generateSharedKey(g,w)}const d=this.getSymKey(s),{type:h,senderPublicKey:m}=c;return yhe({type:h,symKey:d,message:u,senderPublicKey:m,encoding:a?.encoding})}),Vr(this,"decode",async(s,i,a)=>{this.isInitialized();const c=vhe(i,a);if(UP(c)){const u=Ehe(i,a?.encoding);return Bd(u)}if(PP(c)){const u=c.receiverPublicKey,d=c.senderPublicKey;s=await this.generateSharedKey(u,d)}try{const u=this.getSymKey(s),d=bhe({symKey:u,encoded:i,encoding:a?.encoding});return Bd(d)}catch(u){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}}),Vr(this,"getPayloadType",(s,i=oi)=>{const a=Gm({encoded:s,encoding:i});return jd(a.type)}),Vr(this,"getPayloadSenderPublicKey",(s,i=oi)=>{const a=Gm({encoded:s,encoding:i});return a.senderPublicKey?di(a.senderPublicKey,Ms):void 0}),this.core=t,this.logger=Wi(n,this.name),this.keychain=r||new Bme(this.core,this.logger)}get context(){return bi(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(KP)}catch{t=X6(),await this.keychain.set(KP,t)}return Dme(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Oe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Hme=Object.defineProperty,qme=Object.defineProperties,Wme=Object.getOwnPropertyDescriptors,n4=Object.getOwnPropertySymbols,Vme=Object.prototype.hasOwnProperty,Gme=Object.prototype.propertyIsEnumerable,rN=(e,t,n)=>t in e?Hme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kme=(e,t)=>{for(var n in t||(t={}))Vme.call(t,n)&&rN(e,n,t[n]);if(n4)for(var n of n4(t))Gme.call(t,n)&&rN(e,n,t[n]);return e},Yme=(e,t)=>qme(e,Wme(t)),xi=(e,t,n)=>rN(e,typeof t!="symbol"?t+"":t,n);class Zme extends Lie{constructor(t,n){super(t,n),this.logger=t,this.core=n,xi(this,"messages",new Map),xi(this,"messagesWithoutClientAck",new Map),xi(this,"name",Fpe),xi(this,"version",jpe),xi(this,"initialized",!1),xi(this,"storagePrefix",xo),xi(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),xi(this,"set",async(r,s,i)=>{this.isInitialized();const a=pa(s);let c=this.messages.get(r);if(typeof c>"u"&&(c={}),typeof c[a]<"u")return a;if(c[a]=s,this.messages.set(r,c),i===W1.inbound){const u=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Yme(Kme({},u),{[a]:s}))}return await this.persist(),a}),xi(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),xi(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const a=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(a)}return s}),xi(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),a=pa(s);return typeof i[a]<"u"}),xi(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const a=pa(s);delete i[a],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),xi(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Wi(t,this.name),this.core=n}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,B6(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,B6(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?F6(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?F6(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=Oe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Xme=Object.defineProperty,Jme=Object.defineProperties,Qme=Object.getOwnPropertyDescriptors,r4=Object.getOwnPropertySymbols,ege=Object.prototype.hasOwnProperty,tge=Object.prototype.propertyIsEnumerable,sN=(e,t,n)=>t in e?Xme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ah=(e,t)=>{for(var n in t||(t={}))ege.call(t,n)&&sN(e,n,t[n]);if(r4)for(var n of r4(t))tge.call(t,n)&&sN(e,n,t[n]);return e},s4=(e,t)=>Jme(e,Qme(t)),aa=(e,t,n)=>sN(e,typeof t!="symbol"?t+"":t,n);class nge extends Bie{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,aa(this,"events",new Ia.EventEmitter),aa(this,"name",Hpe),aa(this,"queue",new Map),aa(this,"publishTimeout",Te.toMiliseconds(Te.ONE_MINUTE)),aa(this,"initialPublishTimeout",Te.toMiliseconds(Te.ONE_SECOND*15)),aa(this,"needsTransportRestart",!1),aa(this,"publish",async(r,s,i)=>{var a,c,u,d,h;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const m=i?.ttl||zpe,g=i?.prompt||!1,w=i?.tag||0,v=i?.id||Jl().toString(),E=_h(Zw().protocol),A={id:v,method:i?.publishMethod||E.publish,params:ah({topic:r,message:s,ttl:m,prompt:g,tag:w,attestation:i?.attestation},i?.tvf)},R=`Failed to publish payload, please try again. id:${v} tag:${w}`;try{Zr((a=A.params)==null?void 0:a.prompt)&&((c=A.params)==null||delete c.prompt),Zr((u=A.params)==null?void 0:u.tag)&&((d=A.params)==null||delete d.tag);const k=new Promise(async I=>{const N=({id:x})=>{var P;((P=A.id)==null?void 0:P.toString())===x.toString()&&(this.removeRequestFromQueue(x),this.relayer.events.removeListener(Or.publish,N),I())};this.relayer.events.on(Or.publish,N);const S=Co(new Promise((x,P)=>{this.rpcPublish(A,i).then(x).catch(L=>{this.logger.warn(L,L?.message),P(L)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${v} tag:${w}`);try{await S,this.events.removeListener(Or.publish,N)}catch(x){this.queue.set(v,{request:A,opts:i,attempt:1}),this.logger.warn(x,x?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:v,topic:r,message:s,opts:i}}),await Co(k,this.publishTimeout,R)}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(h=i?.internal)!=null&&h.throwOnFailedPublish)throw k}finally{this.queue.delete(v)}}),aa(this,"publishCustom",async r=>{var s,i,a,c,u;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:d,opts:h={}}=r,{attestation:m,tvf:g,publishMethod:w,prompt:v,tag:E,ttl:A=Te.FIVE_MINUTES}=h,R=h.id||Jl().toString(),k=_h(Zw().protocol),I=w||k.publish,N={id:R,method:I,params:ah(s4(ah({},d),{ttl:A,prompt:v,tag:E,attestation:m}),g)},S=`Failed to publish custom payload, please try again. id:${R} tag:${E}`;try{Zr((s=N.params)==null?void 0:s.prompt)&&((i=N.params)==null||delete i.prompt),Zr((a=N.params)==null?void 0:a.tag)&&((c=N.params)==null||delete c.tag);const x=new Promise(async P=>{const L=({id:W})=>{var Y;((Y=N.id)==null?void 0:Y.toString())===W.toString()&&(this.removeRequestFromQueue(W),this.relayer.events.removeListener(Or.publish,L),P())};this.relayer.events.on(Or.publish,L);const j=Co(new Promise((W,Y)=>{this.rpcPublish(N,h).then(W).catch(G=>{this.logger.warn(G,G?.message),Y(G)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${I} id:${R} tag:${E}`);try{await j,this.events.removeListener(Or.publish,L)}catch(W){this.queue.set(R,{request:N,opts:h,attempt:1}),this.logger.warn(W,W?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:R,payload:d,opts:h}}),await Co(x,this.publishTimeout,S)}catch(x){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(x),(u=h?.internal)!=null&&u.throwOnFailedPublish)throw x}finally{this.queue.delete(R)}}),aa(this,"on",(r,s)=>{this.events.on(r,s)}),aa(this,"once",(r,s)=>{this.events.once(r,s)}),aa(this,"off",(r,s)=>{this.events.off(r,s)}),aa(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=t,this.logger=Wi(n,this.name),this.registerEventListeners()}get context(){return bi(this.logger)}async rpcPublish(t,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:t});const r=await this.relayer.request(t);return this.relayer.events.emit(Or.publish,ah(ah({},t),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,n)=>{var r;const s=t.attempt+1;this.queue.set(n,s4(ah({},t),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${t.request.id}, tag: ${(r=t.request.params)==null?void 0:r.tag}, attempt: ${s}`),await this.rpcPublish(t.request,t.opts),this.logger.warn({},`Publisher: queue->published: ${t.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(nf.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Or.connection_stalled);return}this.checkQueue()}),this.relayer.on(Or.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var rge=Object.defineProperty,sge=(e,t,n)=>t in e?rge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oh=(e,t,n)=>sge(e,typeof t!="symbol"?t+"":t,n);class ige{constructor(){oh(this,"map",new Map),oh(this,"set",(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])}),oh(this,"get",t=>this.map.get(t)||[]),oh(this,"exists",(t,n)=>this.get(t).includes(n)),oh(this,"delete",(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(t);return}this.map.set(t,s)}),oh(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var age=Object.defineProperty,oge=Object.defineProperties,cge=Object.getOwnPropertyDescriptors,i4=Object.getOwnPropertySymbols,lge=Object.prototype.hasOwnProperty,uge=Object.prototype.propertyIsEnumerable,iN=(e,t,n)=>t in e?age(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$0=(e,t)=>{for(var n in t||(t={}))lge.call(t,n)&&iN(e,n,t[n]);if(i4)for(var n of i4(t))uge.call(t,n)&&iN(e,n,t[n]);return e},bS=(e,t)=>oge(e,cge(t)),Hn=(e,t,n)=>iN(e,typeof t!="symbol"?t+"":t,n);class dge extends zie{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Hn(this,"subscriptions",new Map),Hn(this,"topicMap",new ige),Hn(this,"events",new Ia.EventEmitter),Hn(this,"name",Zpe),Hn(this,"version",Xpe),Hn(this,"pending",new Map),Hn(this,"cached",[]),Hn(this,"initialized",!1),Hn(this,"storagePrefix",xo),Hn(this,"subscribeTimeout",Te.toMiliseconds(Te.ONE_MINUTE)),Hn(this,"initialSubscribeTimeout",Te.toMiliseconds(Te.ONE_SECOND*15)),Hn(this,"clientId"),Hn(this,"batchSubscribeTopicsLimit",500),Hn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Hn(this,"subscribe",async(r,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const a=Zw(s),c={topic:r,relay:a,transportType:s?.transportType};(i=s?.internal)!=null&&i.skipSubscribe||this.pending.set(r,c);const u=await this.rpcSubscribe(r,a,s);return typeof u=="string"&&(this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),Hn(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),Hn(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),Hn(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),Hn(this,"on",(r,s)=>{this.events.on(r,s)}),Hn(this,"once",(r,s)=>{this.events.once(r,s)}),Hn(this,"off",(r,s)=>{this.events.off(r,s)}),Hn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),Hn(this,"start",async()=>{await this.onConnect()}),Hn(this,"stop",async()=>{await this.onDisconnect()}),Hn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Hn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),Hn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(nf.pulse,async()=>{await this.checkPending()}),this.events.on($i.created,async r=>{const s=$i.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on($i.deleted,async r=>{const s=$i.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=t,this.logger=Wi(n,this.name),this.clientId=""}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async s=>await this.unsubscribeById(t,s,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const s=Zw(r);await this.restartToComplete({topic:t,id:n,relay:s}),await this.rpcUnsubscribe(t,n,s);const i=sr("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(t,n,r){var s,i;const a=await this.getSubscriptionId(t);if((s=r?.internal)!=null&&s.skipSubscribe)return a;(!r||r?.transportType===Xn.relay)&&await this.restartToComplete({topic:t,id:t,relay:n});const c={method:_h(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});const u=(i=r?.internal)==null?void 0:i.throwOnFailedPublish;try{if(r?.transportType===Xn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(c).catch(m=>this.logger.warn(m))},Te.toMiliseconds(Te.ONE_SECOND)),a;const d=new Promise(async m=>{const g=w=>{w.topic===t&&(this.events.removeListener($i.created,g),m(w.id))};this.events.on($i.created,g);try{const w=await Co(new Promise((v,E)=>{this.relayer.request(c).catch(A=>{this.logger.warn(A,A?.message),E(A)}).then(v)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener($i.created,g),m(w)}catch{}}),h=await Co(d,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!h&&u)throw new Error(`Subscribing to ${t} failed, please try again`);return h?a:null}catch(d){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Or.connection_stalled),u)throw d}return null}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:_h(n.protocol).batchSubscribe,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Co(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Or.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const n=t[0].relay,r={method:_h(n.protocol).batchFetchMessages,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Co(new Promise((i,a)=>{this.relayer.request(r).catch(c=>{this.logger.warn(c),a(c)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Or.connection_stalled)}return s}rpcUnsubscribe(t,n,r){const s={method:_h(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(t,n){this.setSubscription(t,bS($0({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,$0({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n)}addSubscription(t,n){this.subscriptions.set(t,$0({},n)),this.topicMap.set(n.topic,t),this.events.emit($i.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=Oe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit($i.deleted,bS($0({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($i.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit($i.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size&&!t.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=Oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async n=>bS($0({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const n=await this.rpcBatchFetchMessages(t);n&&n.messages&&(await $ue(Te.toMiliseconds(Te.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=Oe("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return pa(t+await this.getClientId())}}var fge=Object.defineProperty,a4=Object.getOwnPropertySymbols,hge=Object.prototype.hasOwnProperty,pge=Object.prototype.propertyIsEnumerable,aN=(e,t,n)=>t in e?fge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o4=(e,t)=>{for(var n in t||(t={}))hge.call(t,n)&&aN(e,n,t[n]);if(a4)for(var n of a4(t))pge.call(t,n)&&aN(e,n,t[n]);return e},En=(e,t,n)=>aN(e,typeof t!="symbol"?t+"":t,n);class mge extends Fie{constructor(t){var n;super(t),En(this,"protocol","wc"),En(this,"version",2),En(this,"core"),En(this,"logger"),En(this,"events",new Ia.EventEmitter),En(this,"provider"),En(this,"messages"),En(this,"subscriber"),En(this,"publisher"),En(this,"name",Wpe),En(this,"transportExplicitlyClosed",!1),En(this,"initialized",!1),En(this,"connectionAttemptInProgress",!1),En(this,"relayUrl"),En(this,"projectId"),En(this,"packageName"),En(this,"bundleId"),En(this,"hasExperiencedNetworkDisruption",!1),En(this,"pingTimeout"),En(this,"heartBeatTimeout",Te.toMiliseconds(Te.THIRTY_SECONDS+Te.FIVE_SECONDS)),En(this,"reconnectTimeout"),En(this,"connectPromise"),En(this,"reconnectInProgress",!1),En(this,"requestsInFlight",[]),En(this,"connectTimeout",Te.toMiliseconds(Te.ONE_SECOND*15)),En(this,"request",async r=>{var s,i;this.logger.debug("Publishing Request Payload");const a=r.id||Jl().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:r.method,topic:(s=r.params)==null?void 0:s.topic},"relayer.request - publishing...");const c=`${a}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(c);const u=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(d=>d!==c),u}catch(c){throw this.logger.debug(`Failed to Publish Request: ${a}`),c}}),En(this,"resetPingTimeout",()=>{qw()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,s,i,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||a.call(i)}catch(c){this.logger.warn(c,c?.message)}},this.heartBeatTimeout))}),En(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),En(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Or.connect)}),En(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),En(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Or.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),En(this,"registerProviderListeners",()=>{this.provider.on(ia.payload,this.onPayloadHandler),this.provider.on(ia.connect,this.onConnectHandler),this.provider.on(ia.disconnect,this.onDisconnectHandler),this.provider.on(ia.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=hT({logger:(n=t.logger)!=null?n:qpe,name:this.name}),this.messages=new Zme(this.logger,t.core),this.subscriber=new dge(this,this.logger),this.publisher=new nge(this,this.logger),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||BB,wue()?this.packageName=tP():Eue()&&(this.bundleId=tP()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t?.message))}get context(){return bi(this.logger)}get connected(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:Xn.relay},W1.outbound)}async publishCustom(t){this.isInitialized(),await this.publisher.publishCustom(t)}async subscribe(t,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const a=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n?.internal)==null?void 0:s.throwOnFailedPublish;let c=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",u;const d=h=>{h.topic===t&&(this.subscriber.off($i.created,d),u())};return await Promise.all([new Promise(h=>{u=h,this.subscriber.on($i.created,d)}),new Promise(async(h,m)=>{c=await this.subscriber.subscribe(t,o4({internal:{throwOnFailedPublish:a}},n)).catch(g=>{a&&m(g)})||c,h()})]),c}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Co(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(t).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await GP())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=t.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(t,n){const{topic:r}=t;if(!n.sessionExists){const s=Ir(Te.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(Or.message,t),await this.recordMessageEvent(t,W1.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(ia.disconnect,i),await Co(new Promise((a,c)=>{this.provider.connect().then(a).catch(c)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{s(a)}).finally(()=>{this.provider.off(ia.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,c)=>{const u=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ia.disconnect,u),await this.subscriber.start().then(a).catch(c).finally(()=>{this.provider.off(ia.disconnect,u)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Te.toMiliseconds(n*1))),n++}}startPingTimeout(){var t,n,r,s,i;if(qw())try{(n=(t=this.provider)==null?void 0:t.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new L2(new Wre(Sue({sdkVersion:eN,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,n){const{topic:r,message:s}=t;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),M2(t)){if(!t.method.endsWith(Vpe))return;const n=t.params,{topic:r,message:s,publishedAt:i,attestation:a}=n.data,c={topic:r,message:s,publishedAt:i,transportType:Xn.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(o4({type:"event",event:n.id},c)),this.events.emit(n.id,c),await this.acknowledgePayload(t),await this.onMessageEvent(c)}else WE(t)&&this.events.emit(Or.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,W1.inbound),this.events.emit(Or.message,t))}async acknowledgePayload(t){const n=jm(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ia.payload,this.onPayloadHandler),this.provider.off(ia.connect,this.onConnectHandler),this.provider.off(ia.disconnect,this.onDisconnectHandler),this.provider.off(ia.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await GP();vpe(async n=>{t!==n&&(t=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(nf.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Ape())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Or.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Te.toMiliseconds(Gpe)))))}isInitialized(){if(!this.initialized){const{message:t}=Oe("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function gge(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function c4(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function l4(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const yge="[object RegExp]",bge="[object String]",wge="[object Number]",Ege="[object Boolean]",u4="[object Arguments]",vge="[object Symbol]",Cge="[object Date]",_ge="[object Map]",Age="[object Set]",Sge="[object Array]",Nge="[object Function]",Tge="[object ArrayBuffer]",wS="[object Object]",Ige="[object Error]",Oge="[object DataView]",Rge="[object Uint8Array]",xge="[object Uint8ClampedArray]",kge="[object Uint16Array]",Pge="[object Uint32Array]",Uge="[object BigUint64Array]",$ge="[object Int8Array]",Dge="[object Int16Array]",Mge="[object Int32Array]",Lge="[object BigInt64Array]",Bge="[object Float32Array]",Fge="[object Float64Array]";function jge(){}function d4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function zge(e,t,n){return em(e,t,void 0,void 0,void 0,void 0,n)}function em(e,t,n,r,s,i,a){const c=a(e,t,n,r,s,i);if(c!==void 0)return c;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return dm(e,t,i,a)}return dm(e,t,i,a)}function dm(e,t,n,r){if(Object.is(e,t))return!0;let s=l4(e),i=l4(t);if(s===u4&&(s=wS),i===u4&&(i=wS),s!==i)return!1;switch(s){case bge:return e.toString()===t.toString();case wge:{const u=e.valueOf(),d=t.valueOf();return gge(u,d)}case Ege:case Cge:case vge:return Object.is(e.valueOf(),t.valueOf());case yge:return e.source===t.source&&e.flags===t.flags;case Nge:return e===t}n=n??new Map;const a=n.get(e),c=n.get(t);if(a!=null&&c!=null)return a===t;n.set(e,t),n.set(t,e);try{switch(s){case _ge:{if(e.size!==t.size)return!1;for(const[u,d]of e.entries())if(!t.has(u)||!em(d,t.get(u),u,e,t,n,r))return!1;return!0}case Age:{if(e.size!==t.size)return!1;const u=Array.from(e.values()),d=Array.from(t.values());for(let h=0;h<u.length;h++){const m=u[h],g=d.findIndex(w=>em(m,w,void 0,e,t,n,r));if(g===-1)return!1;d.splice(g,1)}return!0}case Sge:case Rge:case xge:case kge:case Pge:case Uge:case $ge:case Dge:case Mge:case Lge:case Bge:case Fge:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let u=0;u<e.length;u++)if(!em(e[u],t[u],u,e,t,n,r))return!1;return!0}case Tge:return e.byteLength!==t.byteLength?!1:dm(new Uint8Array(e),new Uint8Array(t),n,r);case Oge:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:dm(new Uint8Array(e),new Uint8Array(t),n,r);case Ige:return e.name===t.name&&e.message===t.message;case wS:{if(!(dm(e.constructor,t.constructor,n,r)||d4(e)&&d4(t)))return!1;const u=[...Object.keys(e),...c4(e)],d=[...Object.keys(t),...c4(t)];if(u.length!==d.length)return!1;for(let h=0;h<u.length;h++){const m=u[h],g=e[m];if(!Object.hasOwn(t,m))return!1;const w=t[m];if(!em(g,w,m,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function Hge(e,t){return zge(e,t,jge)}var qge=Object.defineProperty,f4=Object.getOwnPropertySymbols,Wge=Object.prototype.hasOwnProperty,Vge=Object.prototype.propertyIsEnumerable,oN=(e,t,n)=>t in e?qge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h4=(e,t)=>{for(var n in t||(t={}))Wge.call(t,n)&&oN(e,n,t[n]);if(f4)for(var n of f4(t))Vge.call(t,n)&&oN(e,n,t[n]);return e},Zs=(e,t,n)=>oN(e,typeof t!="symbol"?t+"":t,n);class af extends jie{constructor(t,n,r,s=xo,i=void 0){super(t,n,r,s),this.core=t,this.logger=n,this.name=r,Zs(this,"map",new Map),Zs(this,"version",Kpe),Zs(this,"cached",[]),Zs(this,"initialized",!1),Zs(this,"getKey"),Zs(this,"storagePrefix",xo),Zs(this,"recentlyDeleted",[]),Zs(this,"recentlyDeletedLimit",200),Zs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!Zr(a)?this.map.set(this.getKey(a),a):Jhe(a)?this.map.set(a.id,a):Qhe(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),Zs(this,"set",async(a,c)=>{this.isInitialized(),this.map.has(a)?await this.update(a,c):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:c}),this.map.set(a,c),await this.persist())}),Zs(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),Zs(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(c=>Object.keys(a).every(u=>Hge(c[u],a[u]))):this.values)),Zs(this,"update",async(a,c)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:c});const u=h4(h4({},this.getData(a)),c);this.map.set(a,u),await this.persist()}),Zs(this,"delete",async(a,c)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:c}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=Wi(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){if(this.recentlyDeleted.includes(t)){const{message:s}=Oe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}const{message:r}=Oe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=Oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=Oe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Gge=Object.defineProperty,Kge=(e,t,n)=>t in e?Gge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sn=(e,t,n)=>Kge(e,typeof t!="symbol"?t+"":t,n);class Yge{constructor(t,n){this.core=t,this.logger=n,sn(this,"name",Jpe),sn(this,"version",Qpe),sn(this,"events",new P2),sn(this,"pairings"),sn(this,"initialized",!1),sn(this,"storagePrefix",xo),sn(this,"ignoredPayloadTypes",[Mc]),sn(this,"registeredMethods",[]),sn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),sn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),sn(this,"create",async r=>{this.isInitialized();const s=X6(),i=await this.core.crypto.setSymKey(s),a=Ir(Te.FIVE_MINUTES),c={protocol:LB},u={topic:i,expiry:a,relay:c,active:!1,methods:r?.methods},d=LP({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:c,expiryTimestamp:a,methods:r?.methods});return this.events.emit(ld.create,u),this.core.expirer.set(i,a),await this.pairings.set(i,u),await this.core.relayer.subscribe(i,{transportType:r?.transportType,internal:r?.internal}),{topic:i,uri:d}}),sn(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[go.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:a,relay:c,expiryTimestamp:u,methods:d}=MP(r.uri);s.props.properties.topic=i,s.addTrace(go.pairing_uri_validation_success),s.addTrace(go.pairing_uri_not_expired);let h;if(this.pairings.keys.includes(i)){if(h=this.pairings.get(i),s.addTrace(go.existing_pairing),h.active)throw s.setError(wc.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(go.pairing_not_expired)}const m=u||Ir(Te.FIVE_MINUTES),g={topic:i,relay:c,expiry:m,active:!1,methods:d};this.core.expirer.set(i,m),await this.pairings.set(i,g),s.addTrace(go.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(ld.create,g),s.addTrace(go.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(a,i),s.addTrace(go.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(wc.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:c})}catch(w){throw s.setError(wc.subscribe_pairing_topic_failure),w}return s.addTrace(go.subscribe_pairing_topic_success),g}),sn(this,"activate",async({topic:r})=>{this.isInitialized();const s=Ir(Te.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),sn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:a,resolve:c,reject:u}=id();this.events.once(kn("pairing_ping",i),({error:d})=>{d?u(d):c()}),await a()}}),sn(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),sn(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),sn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),sn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",sr("USER_DISCONNECTED")),await this.deletePairing(s))}),sn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:a,methods:c}=r,u=this.core.crypto.keychain.get(s);return LP({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:u,relay:i,expiryTimestamp:a,methods:c})}),sn(this,"sendRequest",async(r,s,i)=>{const a=Ha(s,i),c=await this.core.crypto.encode(r,a),u=P0[s].req;return this.core.history.set(r,a),this.core.relayer.publish(r,c,u),a.id}),sn(this,"sendResult",async(r,s,i)=>{const a=jm(r,i),c=await this.core.crypto.encode(s,a),u=(await this.core.history.get(s,r)).request.method,d=P0[u].res;await this.core.relayer.publish(s,c,d),await this.core.history.resolve(a)}),sn(this,"sendError",async(r,s,i)=>{const a=qE(r,i),c=await this.core.crypto.encode(s,a),u=(await this.core.history.get(s,r)).request.method,d=P0[u]?P0[u].res:P0.unregistered_method.res;await this.core.relayer.publish(s,c,d),await this.core.history.resolve(a)}),sn(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,sr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),sn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>wo(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),sn(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),sn(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,a=(await this.core.history.get(s,i.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(a)}}),sn(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(ld.ping,{id:i,topic:r})}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),sn(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{bo(s)?this.events.emit(kn("pairing_ping",i),{}):ha(s)&&this.events.emit(kn("pairing_ping",i),{error:s.error})},500)}),sn(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ld.delete,{id:i,topic:r})}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),sn(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:a}=s;try{if(this.registeredMethods.includes(a))return;const c=sr("WC_METHOD_UNSUPPORTED",a);await this.sendError(i,r,c),this.logger.error(c)}catch(c){await this.sendError(i,r,c),this.logger.error(c)}}),sn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(sr("WC_METHOD_UNSUPPORTED",r))}),sn(this,"isValidPair",(r,s)=>{var i;if(!ni(r)){const{message:c}=Oe("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(wc.malformed_pairing_uri),new Error(c)}if(!Xhe(r.uri)){const{message:c}=Oe("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(wc.malformed_pairing_uri),new Error(c)}const a=MP(r?.uri);if(!((i=a?.relay)!=null&&i.protocol)){const{message:c}=Oe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(wc.malformed_pairing_uri),new Error(c)}if(!(a!=null&&a.symKey)){const{message:c}=Oe("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(wc.malformed_pairing_uri),new Error(c)}if(a!=null&&a.expiryTimestamp&&Te.toMiliseconds(a?.expiryTimestamp)<Date.now()){s.setError(wc.pairing_expired);const{message:c}=Oe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(c)}}),sn(this,"isValidPing",async r=>{if(!ni(r)){const{message:i}=Oe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),sn(this,"isValidDisconnect",async r=>{if(!ni(r)){const{message:i}=Oe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),sn(this,"isValidPairingTopic",async r=>{if(!Rr(r,!1)){const{message:s}=Oe("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=Oe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(wo(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=Oe("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=t,this.logger=Wi(n,this.name),this.pairings=new af(this.core,this.logger,this.name,this.storagePrefix)}get context(){return bi(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Oe("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Or.message,async t=>{const{topic:n,message:r,transportType:s}=t;if(this.pairings.keys.includes(n)&&s!==Xn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);M2(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):WE(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(la.expired,async t=>{const{topic:n}=UL(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(ld.expire,{topic:n}))})}}var Zge=Object.defineProperty,Xge=(e,t,n)=>t in e?Zge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,as=(e,t,n)=>Xge(e,typeof t!="symbol"?t+"":t,n);class Jge extends Mie{constructor(t,n){super(t,n),this.core=t,this.logger=n,as(this,"records",new Map),as(this,"events",new Ia.EventEmitter),as(this,"name",e0e),as(this,"version",t0e),as(this,"cached",[]),as(this,"initialized",!1),as(this,"storagePrefix",xo),as(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),as(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const a={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:Ir(Te.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit($a.created,a)}),as(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=ha(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit($a.updated,s))}),as(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),as(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit($a.deleted,i)}}),this.persist()}),as(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),as(this,"on",(r,s)=>{this.events.on(r,s)}),as(this,"once",(r,s)=>{this.events.once(r,s)}),as(this,"off",(r,s)=>{this.events.off(r,s)}),as(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Wi(n,this.name)}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Ha(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=Oe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit($a.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=Oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on($a.created,t=>{const n=$a.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on($a.updated,t=>{const n=$a.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on($a.deleted,t=>{const n=$a.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.core.heartbeat.on(nf.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(n=>{Te.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit($a.deleted,n,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=Oe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Qge=Object.defineProperty,eye=(e,t,n)=>t in e?Qge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ws=(e,t,n)=>eye(e,typeof t!="symbol"?t+"":t,n);class tye extends Hie{constructor(t,n){super(t,n),this.core=t,this.logger=n,ws(this,"expirations",new Map),ws(this,"events",new Ia.EventEmitter),ws(this,"name",n0e),ws(this,"version",r0e),ws(this,"cached",[]),ws(this,"initialized",!1),ws(this,"storagePrefix",xo),ws(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ws(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),ws(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),a={target:i,expiry:s};this.expirations.set(i,a),this.checkExpiry(i,a),this.events.emit(la.created,{target:i,expiration:a})}),ws(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),ws(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(la.deleted,{target:s,expiration:i})}}),ws(this,"on",(r,s)=>{this.events.on(r,s)}),ws(this,"once",(r,s)=>{this.events.once(r,s)}),ws(this,"off",(r,s)=>{this.events.off(r,s)}),ws(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Wi(n,this.name)}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return Nue(t);if(typeof t=="number")return Tue(t);const{message:n}=Oe("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(la.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=Oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=Oe("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;Te.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(la.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(nf.pulse,()=>this.checkExpirations()),this.events.on(la.created,t=>{const n=la.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(la.expired,t=>{const n=la.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(la.deleted,t=>{const n=la.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Oe("NOT_INITIALIZED",this.name);throw new Error(t)}}}var nye=Object.defineProperty,rye=(e,t,n)=>t in e?nye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nr=(e,t,n)=>rye(e,typeof t!="symbol"?t+"":t,n);class sye extends qie{constructor(t,n,r){super(t,n,r),this.core=t,this.logger=n,this.store=r,Nr(this,"name",s0e),Nr(this,"abortController"),Nr(this,"isDevEnv"),Nr(this,"verifyUrlV3",a0e),Nr(this,"storagePrefix",xo),Nr(this,"version",MB),Nr(this,"publicKey"),Nr(this,"fetchPromise"),Nr(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Te.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Nr(this,"register",async s=>{if(!yp()||this.isDevEnv)return;const i=window.location.origin,{id:a,decryptedId:c}=s,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${a}&decryptedId=${c}`;try{const d=zc.getDocument(),h=this.startAbortTimer(Te.ONE_SECOND*5),m=await new Promise((g,w)=>{const v=()=>{window.removeEventListener("message",A),d.body.removeChild(E),w("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const E=d.createElement("iframe");E.src=u,E.style.display="none",E.addEventListener("error",v,{signal:this.abortController.signal});const A=R=>{if(R.data&&typeof R.data=="string")try{const k=JSON.parse(R.data);if(k.type==="verify_attestation"){if(x6(k.attestation).payload.id!==a)return;clearInterval(h),d.body.removeChild(E),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",A),g(k.attestation===null?"":k.attestation)}}catch(k){this.logger.warn(k)}};d.body.appendChild(E),window.addEventListener("message",A,{signal:this.abortController.signal})});return this.logger.debug(m,"jwt attestation"),m}catch(d){this.logger.warn(d)}return""}),Nr(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:a,encryptedId:c}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(x6(i).payload.id!==c)return;const d=await this.isValidJwtAttestation(i);if(d){if(!d.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return d}}if(!a)return;const u=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(a,u)}),Nr(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const a=this.startAbortTimer(Te.ONE_SECOND*5),c=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),c.status===200?await c.json():void 0}),Nr(this,"getVerifyUrl",s=>{let i=s||um;return o0e.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${um}`),i=um),i}),Nr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(Te.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Nr(this,"persistPublicKey",async s=>{this.logger.debug(s,"persisting public key to local storage"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Nr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Nr(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}}),Nr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Nr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),i(a))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Nr(this,"validateAttestation",(s,i)=>{const a=_he(s,i.publicKey),c={hasExpired:Te.toMiliseconds(a.exp)<Date.now(),payload:a};if(c.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:c.payload.origin,isScam:c.payload.isScam,isVerified:c.payload.isVerified}}),this.logger=Wi(n,this.name),this.abortController=new AbortController,this.isDevEnv=nT(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return bi(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Te.toMiliseconds(t))}}var iye=Object.defineProperty,aye=(e,t,n)=>t in e?iye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p4=(e,t,n)=>aye(e,typeof t!="symbol"?t+"":t,n);class oye extends Wie{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,p4(this,"context",c0e),p4(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:a,enableEncrypted:c=!1}=r,u=`${l0e}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:a,token:i,always_raw:c})})}),this.logger=Wi(n,this.context)}}var cye=Object.defineProperty,m4=Object.getOwnPropertySymbols,lye=Object.prototype.hasOwnProperty,uye=Object.prototype.propertyIsEnumerable,cN=(e,t,n)=>t in e?cye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D0=(e,t)=>{for(var n in t||(t={}))lye.call(t,n)&&cN(e,n,t[n]);if(m4)for(var n of m4(t))uye.call(t,n)&&cN(e,n,t[n]);return e},Gr=(e,t,n)=>cN(e,typeof t!="symbol"?t+"":t,n);class dye extends Vie{constructor(t,n,r=!0){super(t,n,r),this.core=t,this.logger=n,Gr(this,"context",d0e),Gr(this,"storagePrefix",xo),Gr(this,"storageVersion",u0e),Gr(this,"events",new Map),Gr(this,"shouldPersist",!1),Gr(this,"init",async()=>{if(!nT())try{const s={eventId:rP(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:kL(this.core.relayer.protocol,this.core.relayer.version,eN)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Gr(this,"createEvent",s=>{const{event:i="ERROR",type:a="",properties:{topic:c,trace:u}}=s,d=rP(),h=this.core.projectId||"",m=Date.now(),g=D0({eventId:d,timestamp:m,props:{event:i,type:a,properties:{topic:c,trace:u}},bundleId:h,domain:this.getAppDomain()},this.setMethods(d));return this.telemetryEnabled&&(this.events.set(d,g),this.shouldPersist=!0),g}),Gr(this,"getEvent",s=>{const{eventId:i,topic:a}=s;if(i)return this.events.get(i);const c=Array.from(this.events.values()).find(u=>u.props.properties.topic===a);if(c)return D0(D0({},c),this.setMethods(c.eventId))}),Gr(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Gr(this,"setEventListeners",()=>{this.core.heartbeat.on(nf.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{Te.fromMiliseconds(Date.now())-Te.fromMiliseconds(s.timestamp)>f0e&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Gr(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Gr(this,"addTrace",(s,i)=>{const a=this.events.get(s);a&&(a.props.properties.trace.push(i),this.events.set(s,a),this.shouldPersist=!0)}),Gr(this,"setError",(s,i)=>{const a=this.events.get(s);a&&(a.props.type=i,a.timestamp=Date.now(),this.events.set(s,a),this.shouldPersist=!0)}),Gr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Gr(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,D0(D0({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Gr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,a]of this.events)a.props.type&&s.push(a);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Gr(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${h0e}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${eN}${i}`,{method:"POST",body:JSON.stringify(s)})}),Gr(this,"getAppDomain",()=>xL().url),this.logger=Wi(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var fye=Object.defineProperty,g4=Object.getOwnPropertySymbols,hye=Object.prototype.hasOwnProperty,pye=Object.prototype.propertyIsEnumerable,lN=(e,t,n)=>t in e?fye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y4=(e,t)=>{for(var n in t||(t={}))hye.call(t,n)&&lN(e,n,t[n]);if(g4)for(var n of g4(t))pye.call(t,n)&&lN(e,n,t[n]);return e},Gn=(e,t,n)=>lN(e,typeof t!="symbol"?t+"":t,n);let mye=class JB extends Pie{constructor(t){var n;super(t),Gn(this,"protocol",DB),Gn(this,"version",MB),Gn(this,"name",Q6),Gn(this,"relayUrl"),Gn(this,"projectId"),Gn(this,"customStoragePrefix"),Gn(this,"events",new Ia.EventEmitter),Gn(this,"logger"),Gn(this,"heartbeat"),Gn(this,"relayer"),Gn(this,"crypto"),Gn(this,"storage"),Gn(this,"history"),Gn(this,"expirer"),Gn(this,"pairing"),Gn(this,"verify"),Gn(this,"echoClient"),Gn(this,"linkModeSupportedApps"),Gn(this,"eventClient"),Gn(this,"initialized",!1),Gn(this,"logChunkController"),Gn(this,"on",(c,u)=>this.events.on(c,u)),Gn(this,"once",(c,u)=>this.events.once(c,u)),Gn(this,"off",(c,u)=>this.events.off(c,u)),Gn(this,"removeListener",(c,u)=>this.events.removeListener(c,u)),Gn(this,"dispatchEnvelope",({topic:c,message:u,sessionExists:d})=>{if(!c||!u)return;const h={topic:c,message:u,publishedAt:Date.now(),transportType:Xn.link_mode};this.relayer.onLinkMessageEvent(h,{sessionExists:d})});const r=this.getGlobalCore(t?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(c){console.warn("Failed to copy global core",c)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||BB,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const s=Nie({level:typeof t?.logger=="string"&&t.logger?t.logger:Upe.logger,name:Q6}),{logger:i,chunkLoggerController:a}=SM({opts:s,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=a,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var c,u;(c=this.logChunkController)!=null&&c.downloadLogsBlobInBrowser&&((u=this.logChunkController)==null||u.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Wi(i,this.name),this.heartbeat=new $ee,this.crypto=new zme(this,this.logger,t?.keychain),this.history=new Jge(this,this.logger),this.expirer=new tye(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new mte(y4(y4({},$pe),t?.storageOptions)),this.relayer=new mge({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Yge(this,this.logger),this.verify=new sye(this,this.logger,this.storage),this.echoClient=new oye(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new dye(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const n=new JB(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Ype,r),n}get context(){return bi(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(YP,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(YP)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(t,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${t}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(t){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=t.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=t}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Ppe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const gye=mye,QB="wc",e7=2,t7="client",pT=`${QB}@${e7}:${t7}:`,ES={name:t7,logger:"error"},b4="WALLETCONNECT_DEEPLINK_CHOICE",yye="proposal",w4="Proposal expired",bye="session",ch=Te.SEVEN_DAYS,wye="engine",os={wc_sessionPropose:{req:{ttl:Te.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Te.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Te.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Te.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Te.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Te.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Te.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Te.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Te.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Te.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Te.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Te.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Te.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Te.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Te.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Te.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Te.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Te.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Te.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Te.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Te.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Te.FIVE_MINUTES,prompt:!1,tag:1119}}},vS={min:Te.FIVE_MINUTES,max:Te.SEVEN_DAYS},po={idle:"IDLE",active:"ACTIVE"},Eye={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},vye="request",Cye=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],_ye="wc",Aye="auth",Sye="authKeys",Nye="pairingTopics",Tye="requests",lv=`${_ye}@${1.5}:${Aye}:`,V1=`${lv}:PUB_KEY`;var Iye=Object.defineProperty,Oye=Object.defineProperties,Rye=Object.getOwnPropertyDescriptors,E4=Object.getOwnPropertySymbols,xye=Object.prototype.hasOwnProperty,kye=Object.prototype.propertyIsEnumerable,uN=(e,t,n)=>t in e?Iye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,An=(e,t)=>{for(var n in t||(t={}))xye.call(t,n)&&uN(e,n,t[n]);if(E4)for(var n of E4(t))kye.call(t,n)&&uN(e,n,t[n]);return e},cs=(e,t)=>Oye(e,Rye(t)),Ee=(e,t,n)=>uN(e,typeof t!="symbol"?t+"":t,n);class Pye extends Zie{constructor(t){super(t),Ee(this,"name",wye),Ee(this,"events",new P2),Ee(this,"initialized",!1),Ee(this,"requestQueue",{state:po.idle,queue:[]}),Ee(this,"sessionRequestQueue",{state:po.idle,queue:[]}),Ee(this,"emittedSessionRequests",new Due({limit:500})),Ee(this,"requestQueueDelay",Te.ONE_SECOND),Ee(this,"expectedPairingMethodMap",new Map),Ee(this,"recentlyDeletedMap",new Map),Ee(this,"recentlyDeletedLimit",200),Ee(this,"relayMessageCache",[]),Ee(this,"pendingSessions",new Map),Ee(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(os)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Te.toMiliseconds(this.requestQueueDelay)))}),Ee(this,"connect",async n=>{var r;this.isInitialized(),await this.confirmOnlineStateOrThrow();const s=cs(An({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(s),s.optionalNamespaces=Vhe(s.requiredNamespaces,s.optionalNamespaces),s.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,scopedProperties:d,relays:h,authentication:m,walletPay:g}=s,w=((r=m?.[0])==null?void 0:r.ttl)||os.wc_sessionPropose.req.ttl||Te.FIVE_MINUTES;this.validateRequestExpiry(w);let v=i,E,A=!1;try{if(v){const j=this.client.core.pairing.pairings.get(v);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),A=j.active}}catch(j){throw this.client.logger.error(`connect() -> pairing.get(${v}) failed`),j}if(!v||!A){const{topic:j,uri:W}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});v=j,E=W}if(!v){const{message:j}=Oe("NO_MATCHING_KEY",`connect() pairing topic: ${v}`);throw new Error(j)}const R=await this.client.core.crypto.generateKeyPair(),k=Ir(w),I=An(cs(An(An({requiredNamespaces:a,optionalNamespaces:c,relays:h??[{protocol:LB}],proposer:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:k,pairingTopic:v},u&&{sessionProperties:u}),d&&{scopedProperties:d}),{id:yo()}),(m||g)&&{requests:{authentication:m?.map(j=>{const{domain:W,chains:Y,nonce:G,uri:K,exp:Z,nbf:y,type:_,statement:T,requestId:$,resources:U,signatureTypes:q}=j;return{domain:W,chains:Y,nonce:G,type:_??"caip122",aud:K,version:"1",iat:new Date().toISOString(),exp:Z,nbf:y,statement:T,requestId:$,resources:U,signatureTypes:q}}),walletPay:g}}),N=kn("session_connect",I.id),{reject:S,resolve:x,done:P}=id(w,w4),L=({id:j})=>{j===I.id&&(this.client.events.off("proposal_expire",L),this.pendingSessions.delete(I.id),this.events.emit(N,{error:{message:w4,code:0}}))};return this.client.events.on("proposal_expire",L),this.events.once(N,({error:j,session:W})=>{this.client.events.off("proposal_expire",L),j?S(j):W&&x(W)}),await this.setProposal(I.id,I),await this.sendProposeSession({proposal:I,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:I.id}}}).catch(j=>{throw this.deleteProposal(I.id),j}),{uri:E,approval:P}}),Ee(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),Ee(this,"approve",async n=>{var r,s,i;const a=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Da.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(W){throw a.setError(Xu.no_internet_connection),W}try{await this.isValidProposalId(n?.id)}catch(W){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),a.setError(Xu.proposal_not_found),W}try{await this.isValidApprove(n)}catch(W){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(Xu.session_approve_namespace_validation_failure),W}const{id:c,relayProtocol:u,namespaces:d,sessionProperties:h,scopedProperties:m,sessionConfig:g,proposalRequestsResponses:w}=n,v=this.client.proposal.get(c);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:E,proposer:A,requiredNamespaces:R,optionalNamespaces:k}=v;let I=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:E});I||(I=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Da.session_approve_started,properties:{topic:E,trace:[Da.session_approve_started,Da.session_namespaces_validation_success]}}));const N=await this.client.core.crypto.generateKeyPair(),S=A.publicKey,x=await this.client.core.crypto.generateSharedKey(N,S),P=cs(An(An(An({relay:{protocol:u??"irn"},namespaces:d,controller:{publicKey:N,metadata:this.client.metadata},expiry:Ir(ch)},h&&{sessionProperties:h}),m&&{scopedProperties:m}),g&&{sessionConfig:g}),{proposalRequestsResponses:w}),L=Xn.relay;I.addTrace(Da.subscribing_session_topic);try{await this.client.core.relayer.subscribe(x,{transportType:L,internal:{skipSubscribe:!0}})}catch(W){throw I.setError(Xu.subscribe_session_topic_failure),W}I.addTrace(Da.subscribe_session_topic_success);const j=cs(An({},P),{topic:x,requiredNamespaces:R,optionalNamespaces:k,pairingTopic:E,acknowledged:!1,self:P.controller,peer:{publicKey:A.publicKey,metadata:A.metadata},controller:N,transportType:Xn.relay,authentication:w?.authentication,walletPayResult:w?.walletPay});await this.client.session.set(x,j),I.addTrace(Da.store_session);try{await this.sendApproveSession({sessionTopic:x,proposal:v,pairingProposalResponse:{relay:{protocol:u??"irn"},responderPublicKey:N},sessionSettleRequest:P,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:An({correlationId:c},this.getTVFApproveParams(j))}}),I.addTrace(Da.session_approve_publish_success)}catch(W){throw this.client.logger.error(W),this.client.session.delete(x,sr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(x),W}return this.client.core.eventClient.deleteEvent({eventId:I.eventId}),await this.client.core.pairing.updateMetadata({topic:E,metadata:A.metadata}),await this.deleteProposal(c),await this.client.core.pairing.activate({topic:E}),await this.setExpiry(x,Ir(ch)),{topic:x,acknowledged:()=>Promise.resolve(this.client.session.get(x))}}),Ee(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),a}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:os.wc_sessionPropose.reject}),await this.deleteProposal(r)}),Ee(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(m){throw this.client.logger.error("update() -> isValidUpdate() failed"),m}const{topic:r,namespaces:s}=n,{done:i,resolve:a,reject:c}=id(Te.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),u=yo(),d=Jl().toString(),h=this.client.session.get(r).namespaces;return this.events.once(kn("session_update",u),({error:m})=>{m?c(m):a()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:d}).catch(m=>{this.client.logger.error(m),this.client.session.update(r,{namespaces:h}),c(m)}),{acknowledged:i}}),Ee(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:r}=n,s=yo(),{done:i,resolve:a,reject:c}=id(Te.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(kn("session_extend",s),({error:u})=>{u?c(u):a()}),await this.setExpiry(r,Ir(ch)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(u=>{c(u)}),{acknowledged:i}}),Ee(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(A){throw this.client.logger.error("request() -> isValidRequest() failed"),A}const{chainId:r,request:s,topic:i,expiry:a=os.wc_sessionRequest.req.ttl}=n,c=this.client.session.get(i);c?.transportType===Xn.relay&&await this.confirmOnlineStateOrThrow();const u=yo(),d=Jl().toString(),{done:h,resolve:m,reject:g}=id(a,"Request expired. Please try again.");this.events.once(kn("session_request",u),({error:A,result:R})=>{A?g(A):m(R)});const w="wc_sessionRequest",v=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);if(v)return await this.sendRequest({clientRpcId:u,relayRpcId:d,topic:i,method:w,params:{request:cs(An({},s),{expiryTimestamp:Ir(a)}),chainId:r},expiry:a,throwOnFailedPublish:!0,appLink:v}).catch(A=>g(A)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:u}),await h();const E={request:cs(An({},s),{expiryTimestamp:Ir(a)}),chainId:r};return await Promise.all([new Promise(async A=>{await this.sendRequest({clientRpcId:u,relayRpcId:d,topic:i,method:w,params:E,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(u,E)}).catch(R=>g(R)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:u}),A()}),new Promise(async A=>{var R;if(!((R=c.sessionConfig)!=null&&R.disableDeepLink)){const k=await xue(this.client.core.storage,b4);await Iue({id:u,topic:i,wcDeepLink:k})}A()}),h()]).then(A=>A[2])}),Ee(this,"respond",async n=>{var r,s;this.isInitialized();const i=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((s=(r=n?.response)==null?void 0:r.id)==null?void 0:s.toString()),trace:[Da.session_request_response_started]}});try{await this.isValidRespond(n)}catch(m){throw i.addTrace(m?.message),i.setError(Xu.session_request_response_validation_failure),m}i.addTrace(Da.session_request_response_validation_success);const{topic:a,response:c}=n,{id:u}=c,d=this.client.session.get(a);d.transportType===Xn.relay&&await this.confirmOnlineStateOrThrow();const h=this.getAppLinkIfEnabled(d.peer.metadata,d.transportType);try{i.addTrace(Da.session_request_response_publish_started),bo(c)?await this.sendResult({id:u,topic:a,result:c.result,throwOnFailedPublish:!0,appLink:h}):ha(c)&&await this.sendError({id:u,topic:a,error:c.error,appLink:h}),this.cleanupAfterResponse(n)}catch(m){throw i.addTrace(m?.message),i.setError(Xu.session_request_response_publish_failure),m}}),Ee(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=yo(),i=Jl().toString(),{done:a,resolve:c,reject:u}=id(Te.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(kn("session_ping",s),({error:d})=>{d?u(d):c()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),a()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),Ee(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,a=Jl().toString(),c=yo();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:c})}),Ee(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:sr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=Oe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),Ee(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Yhe(r,n)))),Ee(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Ee(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),a=i?Xn.link_mode:Xn.relay;a===Xn.relay&&await this.confirmOnlineStateOrThrow();const{chains:c,statement:u="",uri:d,domain:h,nonce:m,type:g,exp:w,nbf:v,methods:E=[],expiry:A}=n,R=[...n.resources||[]],{topic:k,uri:I}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:k,uri:I}});const N=await this.client.core.crypto.generateKeyPair(),S=q1(N);if(await Promise.all([this.client.auth.authKeys.set(V1,{responseTopic:S,publicKey:N}),this.client.auth.pairingTopics.set(S,{topic:S,pairingTopic:k})]),await this.client.core.relayer.subscribe(S,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${k}`),E.length>0){const{namespace:U}=Dc(c[0]);let q=Yde(U,"request",E);H1(R)&&(q=Xde(q,R.pop())),R.push(q)}const x=A&&A>os.wc_sessionAuthenticate.req.ttl?A:os.wc_sessionAuthenticate.req.ttl,P={authPayload:{type:g??"caip122",chains:c,statement:u,aud:d,domain:h,version:"1",nonce:m,iat:new Date().toISOString(),exp:w,nbf:v,resources:R},requester:{publicKey:N,metadata:this.client.metadata},expiryTimestamp:Ir(x)},L={eip155:{chains:c,methods:[...new Set(["personal_sign",...E])],events:["chainChanged","accountsChanged"]}},j={requiredNamespaces:{},optionalNamespaces:L,relays:[{protocol:"irn"}],pairingTopic:k,proposer:{publicKey:N,metadata:this.client.metadata},expiryTimestamp:Ir(os.wc_sessionPropose.req.ttl),id:yo()},{done:W,resolve:Y,reject:G}=id(x,"Request expired"),K=yo(),Z=kn("session_connect",j.id),y=kn("session_request",K),_=async({error:U,session:q})=>{this.events.off(y,T),U?G(U):q&&Y({session:q})},T=async U=>{var q,M,z;if(await this.deletePendingAuthRequest(K,{message:"fulfilled",code:0}),U.error){const _e=sr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return U.error.code===_e.code?void 0:(this.events.off(Z,_),G(U.error.message))}await this.deleteProposal(j.id),this.events.off(Z,_);const{cacaos:J,responder:D}=U.result,Q=[],le=[];for(const _e of J){await pP({cacao:_e,projectId:this.client.core.projectId})||(this.client.logger.error(_e,"Signature verification failed"),G(sr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:we}=_e,je=H1(we.resources),Et=[j6(we.iss)],mn=Vw(we.iss);if(je){const kt=mP(je),Vn=gP(je);Q.push(...kt),Et.push(...Vn)}for(const kt of Et)le.push(`${kt}:${mn}`)}const be=await this.client.core.crypto.generateSharedKey(N,D.publicKey);let $e;Q.length>0&&($e={topic:be,acknowledged:!0,self:{publicKey:N,metadata:this.client.metadata},peer:D,controller:D.publicKey,expiry:Ir(ch),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:k,namespaces:zP([...new Set(Q)],[...new Set(le)]),transportType:a},await this.client.core.relayer.subscribe(be,{transportType:a}),await this.client.session.set(be,$e),k&&await this.client.core.pairing.updateMetadata({topic:k,metadata:D.metadata}),$e=this.client.session.get(be)),(q=this.client.metadata.redirect)!=null&&q.linkMode&&(M=D.metadata.redirect)!=null&&M.linkMode&&(z=D.metadata.redirect)!=null&&z.universal&&r&&(this.client.core.addLinkModeSupportedApp(D.metadata.redirect.universal),this.client.session.update(be,{transportType:Xn.link_mode})),Y({auths:J,session:$e})};this.events.once(Z,_),this.events.once(y,T);let $;try{if(i){const U=Ha("wc_sessionAuthenticate",P,K);this.client.core.history.set(k,U);const q=await this.client.core.crypto.encode("",U,{type:Zg,encoding:Gl});$=a1(r,k,q)}else await Promise.all([this.sendRequest({topic:k,method:"wc_sessionAuthenticate",params:P,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:K}),this.sendRequest({topic:k,method:"wc_sessionPropose",params:j,expiry:os.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:j.id})])}catch(U){throw this.events.off(Z,_),this.events.off(y,T),U}return await this.setProposal(j.id,j),await this.setAuthRequest(K,{request:cs(An({},P),{verifyContext:{}}),pairingTopic:k,transportType:a}),{uri:$??I,response:W}}),Ee(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Ju.authenticated_session_approve_started]}});try{this.isInitialized()}catch(A){throw i.setError(U0.no_internet_connection),A}const a=this.getPendingAuthRequest(r);if(!a)throw i.setError(U0.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const c=a.transportType||Xn.relay;c===Xn.relay&&await this.confirmOnlineStateOrThrow();const u=a.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=q1(u),m={type:Mc,receiverPublicKey:u,senderPublicKey:d},g=[],w=[];for(const A of s){if(!await pP({cacao:A,projectId:this.client.core.projectId})){i.setError(U0.invalid_cacao);const S=sr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:h,error:S,encodeOpts:m}),new Error(S.message)}i.addTrace(Ju.cacaos_verified);const{p:R}=A,k=H1(R.resources),I=[j6(R.iss)],N=Vw(R.iss);if(k){const S=mP(k),x=gP(k);g.push(...S),I.push(...x)}for(const S of I)w.push(`${S}:${N}`)}const v=await this.client.core.crypto.generateSharedKey(d,u);i.addTrace(Ju.create_authenticated_session_topic);let E;if(g?.length>0){E={topic:v,acknowledged:!0,self:{publicKey:d,metadata:this.client.metadata},peer:{publicKey:u,metadata:a.requester.metadata},controller:u,expiry:Ir(ch),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:zP([...new Set(g)],[...new Set(w)]),transportType:c},i.addTrace(Ju.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:c})}catch(A){throw i.setError(U0.subscribe_authenticated_session_topic_failure),A}i.addTrace(Ju.subscribe_authenticated_session_topic_success),await this.client.session.set(v,E),i.addTrace(Ju.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}i.addTrace(Ju.publishing_authenticated_session_approve);try{await this.sendResult({topic:h,id:r,result:{cacaos:s,responder:{publicKey:d,metadata:this.client.metadata}},encodeOpts:m,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,c)})}catch(A){throw i.setError(U0.authenticated_session_approve_publish_failure),A}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:E}}),Ee(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===Xn.relay&&await this.confirmOnlineStateOrThrow();const a=i.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=q1(a),d={type:Mc,receiverPublicKey:a,senderPublicKey:c};await this.sendError({id:r,topic:u,error:s,encodeOpts:d,rpcOpts:os.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),Ee(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return XL(r,s)}),Ee(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Ee(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var a,c;return((a=i.peerMetadata)==null?void 0:a.url)&&((c=i.peerMetadata)==null?void 0:c.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),Ee(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:a=!0,id:c=0}=n,{self:u}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,sr("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(b4).catch(d=>this.client.logger.warn(d)),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=po.idle),await Promise.all(this.getPendingSessionRequests().filter(d=>d.topic===s).map(d=>this.deletePendingSessionRequest(d.id,sr("USER_DISCONNECTED")))),a&&this.client.events.emit("session_delete",{id:c,topic:s})}),Ee(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:s.pairingTopic})?.setError(Xu.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,sr("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),Ee(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=po.idle,this.client.events.emit("session_request_expire",{id:n}))}),Ee(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),Ee(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Ee(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Ir(os.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Ee(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:a=Xn.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:a})}),Ee(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:a}=n,c=i.request.expiryTimestamp||Ir(os.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,c),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:a})}),Ee(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:a,relayRpcId:c,clientRpcId:u,throwOnFailedPublish:d,appLink:h,tvf:m,publishOpts:g={}}=n,w=Ha(s,i,u);let v;const E=!!h;try{const k=E?Gl:oi;v=await this.client.core.crypto.encode(r,w,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),k}let A;if(Cye.includes(s)){const k=pa(JSON.stringify(w)),I=pa(v);A=await this.client.core.verify.register({id:I,decryptedId:k})}const R=An(An({},os[s].req),g);if(R.attestation=A,a&&(R.ttl=a),c&&(R.id=c),this.client.core.history.set(r,w),E){const k=a1(h,r,v);await global.Linking.openURL(k,this.client.name)}else R.tvf=cs(An({},m),{correlationId:w.id}),d?(R.internal=cs(An({},R.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,v,R)):this.client.core.relayer.publish(r,v,R).catch(k=>this.client.logger.error(k));return w.id}),Ee(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:s}=n,i=Ha("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,i);const a=await this.client.core.crypto.encode(r.pairingTopic,i,{encoding:oi}),c=pa(JSON.stringify(i)),u=pa(a),d=await this.client.core.verify.register({id:u,decryptedId:c});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:a},opts:cs(An({},s),{publishMethod:"wc_proposeSession",attestation:d})})}),Ee(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:s,proposal:i,sessionSettleRequest:a,publishOpts:c}=n,u=jm(i.id,s),d=await this.client.core.crypto.encode(i.pairingTopic,u,{encoding:oi}),h=Ha("wc_sessionSettle",a,c?.id),m=await this.client.core.crypto.encode(r,h,{encoding:oi});this.client.core.history.set(r,h),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:i.pairingTopic,sessionProposalResponse:d,sessionSettlementRequest:m},opts:cs(An({},c),{publishMethod:"wc_approveSession"})})}),Ee(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:a,encodeOpts:c,appLink:u}=n,d=jm(r,i);let h;const m=u&&typeof(global==null?void 0:global.Linking)<"u";try{const v=m?Gl:oi;h=await this.client.core.crypto.encode(s,d,cs(An({},c||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),v}let g,w;try{g=await this.client.core.history.get(s,r);const v=g.request;try{w=this.getTVFParams(r,v.params,i)}catch(E){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${E?.message}`)}}catch(v){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),v}if(m){const v=a1(u,s,h);await global.Linking.openURL(v,this.client.name)}else{const v=g.request.method,E=os[v].res;E.tvf=cs(An({},w),{correlationId:r}),a?(E.internal=cs(An({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,h,E)):this.client.core.relayer.publish(s,h,E).catch(A=>this.client.logger.error(A))}await this.client.core.history.resolve(d)}),Ee(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:a,rpcOpts:c,appLink:u}=n,d=qE(r,i);let h;const m=u&&typeof(global==null?void 0:global.Linking)<"u";try{const w=m?Gl:oi;h=await this.client.core.crypto.encode(s,d,cs(An({},a||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),w}let g;try{g=await this.client.core.history.get(s,r)}catch(w){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),w}if(m){const w=a1(u,s,h);await global.Linking.openURL(w,this.client.name)}else{const w=g.request.method,v=c||os[w].res;this.client.core.relayer.publish(s,h,v)}await this.client.core.history.resolve(d)}),Ee(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;wo(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{wo(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),Ee(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Ee(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Ee(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===po.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=po.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=po.idle}),Ee(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:a,encryptedId:c}=n,u=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:c});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:c,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:c,transportType:a});default:return this.client.logger.info(`Unsupported request method ${u}`)}}),Ee(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,a=(await this.client.core.history.get(r,s.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),Ee(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=Oe("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),Ee(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Ee(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:a}=n,{params:c,id:u}=s;try{const d=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),d?.setError(wc.proposal_listener_not_found)),this.isValidConnect(An({},s.params));const h=c.expiryTimestamp||Ir(os.wc_sessionPropose.req.ttl),m=An({id:u,pairingTopic:r,expiryTimestamp:h,attestation:i,encryptedId:a},c);await this.setProposal(u,m);const g=await this.getVerifyContext({attestationId:i,hash:pa(JSON.stringify(s)),encryptedId:a,metadata:m.proposer.metadata});d?.addTrace(go.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:m,verifyContext:g})}catch(d){await this.sendError({id:u,topic:r,error:d,rpcOpts:os.wc_sessionPropose.autoReject}),this.client.logger.error(d)}}),Ee(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(bo(r)){const{result:a}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const c=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const d=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:d});const h=await this.client.core.crypto.generateSharedKey(u,d);this.pendingSessions.set(i,{sessionTopic:h,pairingTopic:n,proposalId:i,publicKey:u});const m=await this.client.core.relayer.subscribe(h,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:m}),await this.client.core.pairing.activate({topic:n})}else if(ha(r)){await this.deleteProposal(i);const a=kn("session_connect",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:r.error})}}),Ee(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:a,controller:c,expiry:u,namespaces:d,sessionProperties:h,scopedProperties:m,sessionConfig:g,proposalRequestsResponses:w}=r.params,v=[...this.pendingSessions.values()].find(R=>R.sessionTopic===n);if(!v)return this.client.logger.error(`Pending session not found for topic ${n}`);const E=this.client.proposal.get(v.proposalId),A=cs(An(An(An({topic:n,relay:a,expiry:u,namespaces:d,acknowledged:!0,pairingTopic:v.pairingTopic,requiredNamespaces:E.requiredNamespaces,optionalNamespaces:E.optionalNamespaces,controller:c.publicKey,self:{publicKey:v.publicKey,metadata:this.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},h&&{sessionProperties:h}),m&&{scopedProperties:m}),g&&{sessionConfig:g}),{transportType:Xn.relay,authentication:w?.authentication,walletPayResult:w?.walletPay});await this.client.session.set(A.topic,A),await this.setExpiry(A.topic,A.expiry),await this.client.core.pairing.updateMetadata({topic:v.pairingTopic,metadata:A.peer.metadata}),this.pendingSessions.delete(v.proposalId),this.deleteProposal(v.proposalId,!1),this.cleanupDuplicatePairings(A),await this.sendResult({id:r.id,topic:n,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:A}),this.events.emit(kn("session_connect",v.proposalId),{session:A})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),Ee(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;bo(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(kn("session_approve",s),{})):ha(r)&&(await this.client.session.delete(n,sr("USER_DISCONNECTED")),this.events.emit(kn("session_approve",s),{error:r.error}))}),Ee(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const a=`${n}_session_update`,c=k0.get(a);if(c&&this.isRequestOutOfSync(c,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:sr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(An({topic:n},s));try{k0.set(a,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(u){throw k0.delete(a),u}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),Ee(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Ee(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=kn("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);bo(r)?this.events.emit(kn("session_update",s),{}):ha(r)&&this.events.emit(kn("session_update",s),{error:r.error})}),Ee(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Ir(ch)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),Ee(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=kn("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);bo(r)?this.events.emit(kn("session_extend",s),{}):ha(r)&&this.events.emit(kn("session_extend",s),{error:r.error})}),Ee(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),Ee(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=kn("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);bo(r)?this.events.emit(kn("session_ping",s),{}):ha(r)&&this.events.emit(kn("session_ping",s),{error:r.error})},500)}),Ee(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{await this.isValidDisconnect({topic:n,reason:r.params}),this.cleanupPendingSentRequestsForTopic({topic:n,error:sr("USER_DISCONNECTED")}),await this.deleteSession({topic:n,id:s})}catch(i){this.client.logger.error(i)}}),Ee(this,"onSessionRequest",async n=>{var r,s,i;const{topic:a,payload:c,attestation:u,encryptedId:d,transportType:h}=n,{id:m,params:g}=c;try{await this.isValidRequest(An({topic:a},g));const w=this.client.session.get(a),v=await this.getVerifyContext({attestationId:u,hash:pa(JSON.stringify(Ha("wc_sessionRequest",g,m))),encryptedId:d,metadata:w.peer.metadata,transportType:h}),E={id:m,topic:a,params:g,verifyContext:v};await this.setPendingSessionRequest(E),h===Xn.link_mode&&(r=w.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=w.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(E):(this.addSessionRequestToSessionRequestQueue(E),this.processSessionRequestQueue())}catch(w){await this.sendError({id:m,topic:a,error:w}),this.client.logger.error(w)}}),Ee(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=kn("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);bo(r)?this.events.emit(kn("session_request",s),{result:r.result}):ha(r)&&this.events.emit(kn("session_request",s),{error:r.error})}),Ee(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const a=`${n}_session_event_${i.event.name}`,c=k0.get(a);if(c&&this.isRequestOutOfSync(c,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(An({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),k0.set(a,s)}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),Ee(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),bo(r)?this.events.emit(kn("session_request",s),{result:r.result}):ha(r)&&this.events.emit(kn("session_request",s),{error:r.error})}),Ee(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:a,encryptedId:c,transportType:u}=n;try{const{requester:d,authPayload:h,expiryTimestamp:m}=i.params,g=await this.getVerifyContext({attestationId:a,hash:pa(JSON.stringify(i)),encryptedId:c,metadata:d.metadata,transportType:u}),w={requester:d,pairingTopic:s,id:i.id,authPayload:h,verifyContext:g,expiryTimestamp:m};await this.setAuthRequest(i.id,{request:w,pairingTopic:s,transportType:u}),u===Xn.link_mode&&(r=d.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:g})}catch(d){this.client.logger.error(d);const h=i.params.requester.publicKey,m=await this.client.core.crypto.generateKeyPair(),g=this.getAppLinkIfEnabled(i.params.requester.metadata,u),w={type:Mc,receiverPublicKey:h,senderPublicKey:m};await this.sendError({id:i.id,topic:s,error:d,encodeOpts:w,rpcOpts:os.wc_sessionAuthenticate.autoReject,appLink:g})}}),Ee(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),Ee(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=po.idle,this.processSessionRequestQueue()},Te.toMiliseconds(this.requestQueueDelay))}),Ee(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{this.events.emit(kn("session_request",i.request.id),{error:r})})}),Ee(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===po.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Ee(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=po.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),Ee(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Ha("wc_sessionPropose",cs(An({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),Ee(this,"isValidConnect",async n=>{if(!ni(n)){const{message:d}=Oe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(d)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:a,scopedProperties:c,relays:u}=n;if(Zr(r)||await this.isValidPairingTopic(r),!ope(u)){const{message:d}=Oe("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(d)}if(s&&!Zr(s)&&No(s)!==0){const d="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(d):this.client.logger.warn(d),this.validateNamespaces(s,"requiredNamespaces")}if(i&&!Zr(i)&&No(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),a&&!Zr(a)&&this.validateSessionProps(a,"sessionProperties"),c&&!Zr(c)){this.validateSessionProps(c,"scopedProperties");const d=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(c).every(h=>d.includes(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(c)}, required/optional namespaces: ${JSON.stringify(d)}`)}}),Ee(this,"validateNamespaces",(n,r)=>{const s=ape(n,"connect()",r);if(s)throw new Error(s.message)}),Ee(this,"isValidApprove",async n=>{if(!ni(n))throw new Error(Oe("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:a,scopedProperties:c}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const u=this.client.proposal.get(r),d=mS(s,"approve()");if(d)throw new Error(d.message);const h=WP(u.requiredNamespaces,s,"approve()");if(h)throw new Error(h.message);if(!Rr(i,!0)){const{message:m}=Oe("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(m)}if(a&&!Zr(a)&&this.validateSessionProps(a,"sessionProperties"),c&&!Zr(c)){this.validateSessionProps(c,"scopedProperties");const m=new Set(Object.keys(s));if(!Object.keys(c).every(g=>m.has(g.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(c)}, approved namespaces: ${Array.from(m).join(", ")}`)}}),Ee(this,"isValidReject",async n=>{if(!ni(n)){const{message:i}=Oe("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!lpe(s)){const{message:i}=Oe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),Ee(this,"isValidSessionSettleRequest",n=>{if(!ni(n)){const{message:d}=Oe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(d)}const{relay:r,controller:s,namespaces:i,expiry:a}=n;if(!$B(r)){const{message:d}=Oe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}const c=epe(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);const u=mS(i,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(wo(a)){const{message:d}=Oe("EXPIRED","onSessionSettleRequest()");throw new Error(d)}}),Ee(this,"isValidUpdate",async n=>{if(!ni(n)){const{message:u}=Oe("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(u)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),a=mS(s,"update()");if(a)throw new Error(a.message);const c=WP(i.requiredNamespaces,s,"update()");if(c)throw new Error(c.message)}),Ee(this,"isValidExtend",async n=>{if(!ni(n)){const{message:s}=Oe("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Ee(this,"isValidRequest",async n=>{if(!ni(n)){const{message:u}=Oe("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(u)}const{topic:r,request:s,chainId:i,expiry:a}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!qP(c,i)){const{message:u}=Oe("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(u)}if(!upe(s)){const{message:u}=Oe("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(u)}if(!hpe(c,i,s.method)){const{message:u}=Oe("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(u)}this.validateRequestExpiry(a)}),Ee(this,"isValidRespond",async n=>{var r;if(!ni(n)){const{message:c}=Oe("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(c){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),c}if(!dpe(i)){const{message:c}=Oe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(c)}const a=this.client.pendingRequest.get(i.id);if(a.topic!==s){const{message:c}=Oe("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${i.id}, expected topic: ${a.topic}, received topic: ${s}`);throw new Error(c)}}),Ee(this,"isValidPing",async n=>{if(!ni(n)){const{message:s}=Oe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Ee(this,"isValidEmit",async n=>{if(!ni(n)){const{message:c}=Oe("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(c)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!qP(a,i)){const{message:c}=Oe("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(c)}if(!fpe(s)){const{message:c}=Oe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(c)}if(!ppe(a,i,s.name)){const{message:c}=Oe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(c)}}),Ee(this,"isValidDisconnect",async n=>{if(!ni(n)){const{message:s}=Oe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Ee(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:a}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Rr(s,!1))throw new Error("uri is required parameter");if(!Rr(i,!1))throw new Error("domain is required parameter");if(!Rr(a,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(u=>Dc(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:c}=Dc(r[0]);if(c!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Ee(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:a,transportType:c}=n,u={verified:{verifyUrl:a.verifyUrl||um,validation:"UNKNOWN",origin:a.url||""}};try{if(c===Xn.link_mode){const h=this.getAppLinkIfEnabled(a,c);return u.verified.validation=h&&new URL(h).origin===new URL(a.url).origin?"VALID":"INVALID",u}const d=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:a.verifyUrl});d&&(u.verified.origin=d.origin,u.verified.isScam=d.isScam,u.verified.validation=d.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(d){this.client.logger.warn(d)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u}),Ee(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:a}=Oe("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(a)}})}),Ee(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),Ee(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(a)}}}),Ee(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=Oe("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),Ee(this,"isLinkModeEnabled",(n,r)=>{var s,i,a,c,u,d,h,m,g;return!n||r!==Xn.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((c=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:c.universal)!==void 0&&((d=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:d.universal)!==""&&((h=n?.redirect)==null?void 0:h.universal)!==void 0&&((m=n?.redirect)==null?void 0:m.universal)!==""&&((g=n?.redirect)==null?void 0:g.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Ee(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n?.redirect)==null?void 0:s.universal:void 0}),Ee(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=nP(n,"topic")||"",s=decodeURIComponent(nP(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:Xn.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),Ee(this,"registerLinkModeListeners",async()=>{var n;if(nT()||Nu()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),Ee(this,"getTVFApproveParams",n=>{try{const r=PB(n.namespaces),s=jhe(n.namespaces),i=zhe(n.namespaces),a=n.sessionProperties,c=n.scopedProperties;return{approvedChains:r,approvedMethods:s,approvedEvents:i,sessionProperties:a,scopedProperties:c}}catch(r){return this.client.logger.warn(r,"Error getting TVF approve params"),{}}}),Ee(this,"getTVFParams",(n,r,s)=>{var i,a,c;if(!((i=r.request)!=null&&i.method))return{};const u={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const d=this.extractTxHashesFromResult(r.request,s);u.txHashes=d,u.contractAddresses=this.isValidContractData(r.request.params)?[(c=(a=r.request.params)==null?void 0:a[0])==null?void 0:c.to]:[]}catch(d){this.client.logger.warn(d,"Error getting TVF params")}return u}),Ee(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=n?.data||((r=n?.[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),Ee(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,a=Eye[i];if(i==="sui_signTransaction")return[Rde(r.transactionBytes)];if(i==="near_signTransaction")return[uP(r)];if(i==="near_signTransactions")return r.map(u=>uP(u));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[kpe({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return Lc(r)?r.map(u=>dP(u)):[dP(r)];if(i==="cosmos_signDirect")return[kde(r)];if(i==="wallet_sendCalls")return Pde(r);if(typeof r=="string")return[r];const c=r[a.key];if(Lc(c))return i==="solana_signAllTransactions"?c.map(u=>Ode(u)):c;if(typeof c=="string")return[c]}catch(i){this.client.logger.warn(i,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(t){this.client.logger.warn(t,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:t}=Oe("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Or.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:n,message:r,attestation:s,transportType:i}=t,{publicKey:a}=this.client.auth.authKeys.keys.includes(V1)?this.client.auth.authKeys.get(V1):{publicKey:void 0};try{const c=await this.client.core.crypto.decode(n,r,{receiverPublicKey:a,encoding:i===Xn.link_mode?Gl:oi});M2(c)?(this.client.core.history.set(n,c),await this.onRelayEventRequest({topic:n,payload:c,attestation:s,transportType:i,encryptedId:pa(r)})):WE(c)?(await this.client.core.history.resolve(c),await this.onRelayEventResponse({topic:n,payload:c,transportType:i}),this.client.core.history.delete(n,c.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(c)}`),await this.onRelayEventUnknownPayload({topic:n,payload:c,transportType:i})),await this.client.core.relayer.messages.ack(n,r)}catch(c){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${r}`),this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(la.expired,async t=>{const{topic:n,id:r}=UL(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Oe("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Oe("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ld.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(ld.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Rr(t,!1)){const{message:n}=Oe("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=Oe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(wo(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=Oe("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!Rr(t,!1)){const{message:n}=Oe("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:n}=Oe("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(wo(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=Oe("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=Oe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Rr(t,!1)){const{message:n}=Oe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=Oe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!cpe(t)){const{message:n}=Oe("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=Oe("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(wo(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=Oe("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}validateRequestExpiry(t){if(t&&!ype(t,vS)){const{message:n}=Oe("MISSING_OR_INVALID",`request() expiry: ${t}. Expiry must be a number (in seconds) between ${vS.min} and ${vS.max}`);throw new Error(n)}}}class Uye extends af{constructor(t,n){super(t,n,yye,pT),this.core=t,this.logger=n}}let $ye=class extends af{constructor(t,n){super(t,n,bye,pT),this.core=t,this.logger=n}};class Dye extends af{constructor(t,n){super(t,n,vye,pT,r=>r.id),this.core=t,this.logger=n}}class Mye extends af{constructor(t,n){super(t,n,Sye,lv,()=>V1),this.core=t,this.logger=n}}class Lye extends af{constructor(t,n){super(t,n,Nye,lv),this.core=t,this.logger=n}}class Bye extends af{constructor(t,n){super(t,n,Tye,lv,r=>r.id),this.core=t,this.logger=n}}var Fye=Object.defineProperty,jye=(e,t,n)=>t in e?Fye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CS=(e,t,n)=>jye(e,typeof t!="symbol"?t+"":t,n);class zye{constructor(t,n){this.core=t,this.logger=n,CS(this,"authKeys"),CS(this,"pairingTopics"),CS(this,"requests"),this.authKeys=new Mye(this.core,this.logger),this.pairingTopics=new Lye(this.core,this.logger),this.requests=new Bye(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Hye=Object.defineProperty,qye=(e,t,n)=>t in e?Hye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,an=(e,t,n)=>qye(e,typeof t!="symbol"?t+"":t,n);class mT extends Yie{constructor(t){super(t),an(this,"protocol",QB),an(this,"version",e7),an(this,"name",ES.name),an(this,"metadata"),an(this,"core"),an(this,"logger"),an(this,"events",new Ia.EventEmitter),an(this,"engine"),an(this,"session"),an(this,"proposal"),an(this,"pendingRequest"),an(this,"auth"),an(this,"signConfig"),an(this,"on",(r,s)=>this.events.on(r,s)),an(this,"once",(r,s)=>this.events.once(r,s)),an(this,"off",(r,s)=>this.events.off(r,s)),an(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),an(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),an(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),an(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),an(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),an(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=t?.name||ES.name,this.metadata=Cue(t?.metadata),this.signConfig=t?.signConfig;const n=hT({logger:t?.logger||ES.logger,name:this.name});this.logger=n,this.core=t?.core||new gye(t),this.session=new $ye(this.core,this.logger),this.proposal=new Uye(this.core,this.logger),this.pendingRequest=new Dye(this.core,this.logger),this.engine=new Pye(this),this.auth=new zye(this.core,this.logger)}static async init(t){const n=new mT(t);return await n.initialize(),n}get context(){return bi(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}const Wye=mT;function gT(e){return e==null||typeof e!="object"&&typeof e!="function"}function n7(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function r7(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Vye="[object RegExp]",s7="[object String]",i7="[object Number]",a7="[object Boolean]",o7="[object Arguments]",Gye="[object Symbol]",Kye="[object Date]",Yye="[object Map]",Zye="[object Set]",Xye="[object Array]",Jye="[object ArrayBuffer]",Qye="[object Object]",ebe="[object DataView]",tbe="[object Uint8Array]",nbe="[object Uint8ClampedArray]",rbe="[object Uint16Array]",sbe="[object Uint32Array]",ibe="[object Int8Array]",abe="[object Int16Array]",obe="[object Int32Array]",cbe="[object Float32Array]",lbe="[object Float64Array]";function yT(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ube(e,t){return Sh(e,void 0,e,new Map,t)}function Sh(e,t,n,r=new Map,s=void 0){const i=s?.(e,t,n,r);if(i!=null)return i;if(gT(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const a=new Array(e.length);r.set(e,a);for(let c=0;c<e.length;c++)a[c]=Sh(e[c],c,n,r,s);return Object.hasOwn(e,"index")&&(a.index=e.index),Object.hasOwn(e,"input")&&(a.input=e.input),a}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const a=new RegExp(e.source,e.flags);return a.lastIndex=e.lastIndex,a}if(e instanceof Map){const a=new Map;r.set(e,a);for(const[c,u]of e)a.set(c,Sh(u,c,n,r,s));return a}if(e instanceof Set){const a=new Set;r.set(e,a);for(const c of e)a.add(Sh(c,void 0,n,r,s));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(yT(e)){const a=new(Object.getPrototypeOf(e)).constructor(e.length);r.set(e,a);for(let c=0;c<e.length;c++)a[c]=Sh(e[c],c,n,r,s);return a}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const a=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,a),ud(a,e,n,r,s),a}if(typeof File<"u"&&e instanceof File){const a=new File([e],e.name,{type:e.type});return r.set(e,a),ud(a,e,n,r,s),a}if(e instanceof Blob){const a=new Blob([e],{type:e.type});return r.set(e,a),ud(a,e,n,r,s),a}if(e instanceof Error){const a=new e.constructor;return r.set(e,a),a.message=e.message,a.name=e.name,a.stack=e.stack,a.cause=e.cause,ud(a,e,n,r,s),a}if(typeof e=="object"&&dbe(e)){const a=Object.create(Object.getPrototypeOf(e));return r.set(e,a),ud(a,e,n,r,s),a}return e}function ud(e,t,n=e,r,s){const i=[...Object.keys(t),...n7(t)];for(let a=0;a<i.length;a++){const c=i[a],u=Object.getOwnPropertyDescriptor(e,c);(u==null||u.writable)&&(e[c]=Sh(t[c],c,n,r,s))}}function dbe(e){switch(r7(e)){case o7:case Xye:case Jye:case ebe:case a7:case Kye:case cbe:case lbe:case ibe:case abe:case obe:case Yye:case i7:case Qye:case Vye:case Zye:case s7:case Gye:case tbe:case nbe:case rbe:case sbe:return!0;default:return!1}}function fbe(e,t){return ube(e,(n,r,s,i)=>{if(typeof e=="object")switch(Object.prototype.toString.call(e)){case i7:case s7:case a7:{const a=new e.constructor(e?.valueOf());return ud(a,e),a}case o7:{const a={};return ud(a,e),a.length=e.length,a[Symbol.iterator]=e[Symbol.iterator],a}default:return}})}function v4(e){return fbe(e)}function C4(e){return e!==null&&typeof e=="object"&&r7(e)==="[object Arguments]"}function _4(e){return typeof e=="object"&&e!==null}function hbe(){}function pbe(e){return yT(e)}function mbe(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const n=e[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${n}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function gbe(e){if(gT(e))return e;if(Array.isArray(e)||yT(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const r=new n(e);return r.lastIndex=e.lastIndex,r}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const r=new n(e.message);return r.stack=e.stack,r.name=e.name,r.cause=e.cause,r}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const r=Object.create(t);return Object.assign(r,e)}return e}function ybe(e,...t){const n=t.slice(0,-1),r=t[t.length-1];let s=e;for(let i=0;i<n.length;i++){const a=n[i];s=dN(s,a,r,new Map)}return s}function dN(e,t,n,r){if(gT(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(r.has(t))return gbe(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let i=0;i<t.length;i++)t[i]=t[i]??void 0}const s=[...Object.keys(t),...n7(t)];for(let i=0;i<s.length;i++){const a=s[i];let c=t[a],u=e[a];if(C4(c)&&(c={...c}),C4(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=v4(c)),Array.isArray(c))if(typeof u=="object"&&u!=null){const h=[],m=Reflect.ownKeys(u);for(let g=0;g<m.length;g++){const w=m[g];h[w]=u[w]}u=h}else u=[];const d=n(u,c,a,e,t,r);d!=null?e[a]=d:Array.isArray(c)||_4(u)&&_4(c)?e[a]=dN(u,c,n,r):u==null&&mbe(c)?e[a]=dN({},c,n,r):u==null&&pbe(c)?e[a]=v4(c):(u===void 0||c!==void 0)&&(e[a]=c)}return e}function bbe(e,...t){return ybe(e,...t,hbe)}const A4="error",wbe="wss://relay.walletconnect.org",Ebe="wc",c7="universal_provider",o1=`${Ebe}@2:${c7}:`,l7="https://rpc.walletconnect.org/v1/",u7="generic",vbe=`${l7}bundler`,xh="call_status",Cbe=86400,bT={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var _be=Object.defineProperty,Abe=Object.defineProperties,Sbe=Object.getOwnPropertyDescriptors,S4=Object.getOwnPropertySymbols,Nbe=Object.prototype.hasOwnProperty,Tbe=Object.prototype.propertyIsEnumerable,N4=(e,t,n)=>t in e?_be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c1=(e,t)=>{for(var n in t||(t={}))Nbe.call(t,n)&&N4(e,n,t[n]);if(S4)for(var n of S4(t))Tbe.call(t,n)&&N4(e,n,t[n]);return e},Ibe=(e,t)=>Abe(e,Sbe(t));function d7(e,t,n){var r;const s=Dc(e);return((r=t.rpcMap)==null?void 0:r[s.reference])||`${l7}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function Obe(e){return e.includes(":")?e.split(":")[1]:e}function f7(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function Rbe(e,t){const n=Object.keys(t.namespaces).filter(s=>s.includes(e));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=t.namespaces[s].accounts;r.push(...i)}),r}function T4(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>{var r,s;return((r=n?.chains)==null?void 0:r.length)&&((s=n?.chains)==null?void 0:s.length)>0}))}function l1(e={},t={}){const n=T4(I4(e)),r=T4(I4(t));return bbe(n,r)}function I4(e){var t,n,r,s,i;const a={};if(!No(e))return a;for(const[c,u]of Object.entries(e)){const d=ov(c)?[c]:u.chains,h=u.methods||[],m=u.events||[],g=u.rpcMap||{},w=Ah(c);a[w]=Ibe(c1(c1({},a[w]),u),{chains:So(d,(t=a[w])==null?void 0:t.chains),methods:So(h,(n=a[w])==null?void 0:n.methods),events:So(m,(r=a[w])==null?void 0:r.events)}),(No(g)||No(((s=a[w])==null?void 0:s.rpcMap)||{}))&&(a[w].rpcMap=c1(c1({},g),(i=a[w])==null?void 0:i.rpcMap))}return a}function O4(e){return e.includes(":")?e.split(":")[2]:e}function R4(e){const t={};for(const[n,r]of Object.entries(e)){const s=r.methods||[],i=r.events||[],a=r.accounts||[],c=ov(n)?[n]:r.chains?r.chains:f7(r.accounts);t[n]={chains:c,methods:s,events:i,accounts:a}}return t}function _S(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}function xbe(e){try{const t=JSON.parse(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)}catch{return!1}}const h7={},kh=e=>h7[e],AS=(e,t)=>{h7[e]=t};var kbe=Object.defineProperty,x4=Object.getOwnPropertySymbols,Pbe=Object.prototype.hasOwnProperty,Ube=Object.prototype.propertyIsEnumerable,k4=(e,t,n)=>t in e?kbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P4=(e,t)=>{for(var n in t||(t={}))Pbe.call(t,n)&&k4(e,n,t[n]);if(x4)for(var n of x4(t))Ube.call(t,n)&&k4(e,n,t[n]);return e};const U4="eip155",$be=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Dbe=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,SS=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,$4=e=>Object.keys(e).filter(t=>$be.includes(t)).reduce((t,n)=>(t[n]=Mbe(e[n]),t),{}),Mbe=e=>typeof e=="string"&&xbe(e)?JSON.parse(e):e,Lbe=(e,t,n)=>{const{sessionProperties:r={},scopedProperties:s={}}=e,i={};if(!No(s)&&!No(r))return;const a=$4(r);for(const c of n){const u=Dbe(c);if(!u)continue;i[SS(u)]=a;const d=s?.[`${U4}:${u}`];if(d){const h=d?.[`${U4}:${u}:${t}`];i[SS(u)]=P4(P4({},i[SS(u)]),$4(h||d))}}for(const[c,u]of Object.entries(i))Object.keys(u).length===0&&delete i[c];return Object.keys(i).length>0?i:void 0};var Bbe=Object.defineProperty,Fbe=(e,t,n)=>t in e?Bbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jbe=(e,t,n)=>Fbe(e,t+"",n);let NS;class wT{constructor(t){jbe(this,"storage"),this.storage=t}async getItem(t){return await this.storage.getItem(t)}async setItem(t,n){return await this.storage.setItem(t,n)}async removeItem(t){return await this.storage.removeItem(t)}static getStorage(t){return NS||(NS=new wT(t)),NS}}var zbe=Object.defineProperty,Hbe=Object.defineProperties,qbe=Object.getOwnPropertyDescriptors,D4=Object.getOwnPropertySymbols,Wbe=Object.prototype.hasOwnProperty,Vbe=Object.prototype.propertyIsEnumerable,M4=(e,t,n)=>t in e?zbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gbe=(e,t)=>{for(var n in t||(t={}))Wbe.call(t,n)&&M4(e,n,t[n]);if(D4)for(var n of D4(t))Vbe.call(t,n)&&M4(e,n,t[n]);return e},Kbe=(e,t)=>Hbe(e,qbe(t));async function Ybe(e,t){const n=Dc(e.result.capabilities.caip345.caip2),r=e.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(r.map(m=>Zbe(n.reference,m,t))),i=s.filter(m=>m.status==="fulfilled").map(m=>m.value).filter(m=>m);s.filter(m=>m.status==="rejected").forEach(m=>console.warn("Failed to fetch transaction receipt:",m.reason));const a=!i.length||i.some(m=>!m),c=i.every(m=>m?.status==="0x1"),u=i.every(m=>m?.status==="0x0"),d=i.some(m=>m?.status==="0x0");let h;return a?h=100:c?h=200:u?h=500:d&&(h=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:i,status:h}}async function Zbe(e,t,n){return await n(parseInt(e)).request(Ha("eth_getTransactionReceipt",[t]))}async function Xbe({sendCalls:e,storage:t}){const n=await t.getItem(xh);await t.setItem(xh,Kbe(Gbe({},n),{[e.result.id]:{request:e.request,result:e.result,expiry:Ir(Cbe)}}))}async function Jbe({resultId:e,storage:t}){const n=await t.getItem(xh);if(n){delete n[e],await t.setItem(xh,n);for(const r in n)wo(n[r].expiry)&&delete n[r];await t.setItem(xh,n)}}async function Qbe({resultId:e,storage:t}){const n=await t.getItem(xh),r=n?.[e];if(r&&!wo(r.expiry))return r;await Jbe({resultId:e,storage:t})}var e1e=Object.defineProperty,t1e=Object.defineProperties,n1e=Object.getOwnPropertyDescriptors,L4=Object.getOwnPropertySymbols,r1e=Object.prototype.hasOwnProperty,s1e=Object.prototype.propertyIsEnumerable,fN=(e,t,n)=>t in e?e1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TS=(e,t)=>{for(var n in t||(t={}))r1e.call(t,n)&&fN(e,n,t[n]);if(L4)for(var n of L4(t))s1e.call(t,n)&&fN(e,n,t[n]);return e},IS=(e,t)=>t1e(e,n1e(t)),Qu=(e,t,n)=>fN(e,typeof t!="symbol"?t+"":t,n);class i1e{constructor(t){Qu(this,"name","eip155"),Qu(this,"client"),Qu(this,"chainId"),Qu(this,"namespace"),Qu(this,"httpProviders"),Qu(this,"events"),Qu(this,"storage"),this.namespace=t.namespace,this.events=kh("events"),this.client=kh("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=wT.getStorage(this.client.core.storage)}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t);case"wallet_sendCalls":return await this.sendCalls(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(parseInt(t),n);const r=this.chainId;this.chainId=parseInt(t),this.events.emit(bT.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,n){const r=n||d7(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new L2(new bM(r,kh("disableProviderPing")))}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(Obe(n));t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(t){const n=t||this.chainId;return this.httpProviders[n]||(this.httpProviders=IS(TS({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(t){var n,r;let s=t.request.params?(n=t.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var n,r,s,i,a;const c=(r=(n=t.request)==null?void 0:n.params)==null?void 0:r[0],u=((i=(s=t.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!c)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const d=this.client.session.get(t.topic),h=((a=d?.sessionProperties)==null?void 0:a.capabilities)||{},m=`${c}${u.join(",")}`,g=h?.[m];if(g)return g;let w;try{w=Lbe(d,c,u)}catch(E){console.warn("Failed to extract capabilities from session",E)}if(w)return w;const v=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:IS(TS({},d.sessionProperties||{}),{capabilities:IS(TS({},h||{}),{[m]:v})})})}catch(E){console.warn("Failed to update session with capabilities",E)}return v}async getCallStatus(t){var n,r,s;const i=this.client.session.get(t.topic),a=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(a){const d=this.getBundlerUrl(t.chainId,a);try{return await this.getUserOperationReceipt(d,t)}catch(h){console.warn("Failed to fetch call status from bundler",h,d)}}const c=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,t)}catch(d){console.warn("Failed to fetch call status from custom bundler",d,c)}const u=await Qbe({resultId:(s=t.request.params)==null?void 0:s[0],storage:this.storage});if(u)try{return await Ybe(u,this.getHttpProvider.bind(this))}catch(d){console.warn("Failed to fetch call status from stored send calls",d,u)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,n){var r;const s=new URL(t),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ha("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(t,n){return`${vbe}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${n}`}async sendCalls(t){var n,r,s;const i=await this.client.request(t),a=(n=t.request.params)==null?void 0:n[0],c=i?.id,u=i?.capabilities||{},d=(r=u?.caip345)==null?void 0:r.caip2,h=(s=u?.caip345)==null?void 0:s.transactionHashes;return!c||!d||!(h!=null&&h.length)||await Xbe({sendCalls:{request:a,result:i},storage:this.storage}),i}}var a1e=Object.defineProperty,o1e=(e,t,n)=>t in e?a1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lh=(e,t,n)=>o1e(e,typeof t!="symbol"?t+"":t,n);class c1e{constructor(t){lh(this,"name",u7),lh(this,"client"),lh(this,"httpProviders"),lh(this,"events"),lh(this,"namespace"),lh(this,"chainId"),this.namespace=t.namespace,this.events=kh("events"),this.client=kh("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n);const r=this.chainId;this.chainId=t,this.events.emit(bT.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getNamespaceName(){const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return Dc(t).namespace}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var t,n;const r={};return(n=(t=this.namespace)==null?void 0:t.accounts)==null||n.forEach(s=>{var i,a;const c=Dc(s),u=(a=(i=this.namespace)==null?void 0:i.rpcMap)==null?void 0:a[`${c.namespace}:${c.reference}`];r[c.reference]=this.createHttpProvider(s,u)}),r}getHttpProvider(t){const n=Dc(t).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||d7(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new L2(new bM(r,kh("disableProviderPing")))}}var l1e=Object.defineProperty,u1e=Object.defineProperties,d1e=Object.getOwnPropertyDescriptors,B4=Object.getOwnPropertySymbols,f1e=Object.prototype.hasOwnProperty,h1e=Object.prototype.propertyIsEnumerable,hN=(e,t,n)=>t in e?l1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M0=(e,t)=>{for(var n in t||(t={}))f1e.call(t,n)&&hN(e,n,t[n]);if(B4)for(var n of B4(t))h1e.call(t,n)&&hN(e,n,t[n]);return e},u1=(e,t)=>u1e(e,d1e(t)),ki=(e,t,n)=>hN(e,typeof t!="symbol"?t+"":t,n);let p1e=class p7{constructor(t){ki(this,"client"),ki(this,"namespaces"),ki(this,"optionalNamespaces"),ki(this,"sessionProperties"),ki(this,"scopedProperties"),ki(this,"events",new P2),ki(this,"rpcProviders",{}),ki(this,"session"),ki(this,"providerOpts"),ki(this,"logger"),ki(this,"uri"),ki(this,"disableProviderPing",!1),ki(this,"connectParams");var n,r;this.providerOpts=t,this.logger=hT({logger:(n=t.logger)!=null?n:A4,name:(r=this.providerOpts.name)!=null?r:c7}),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const n=new p7(t);return await n.initialize(),n}async request(t,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:M0({},t),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(t,n,r,s){const i=new Date().getTime();this.request(t,r,s).then(a=>n(null,jm(i,a))).catch(a=>n(a,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:sr("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=t,this.setNamespaces(t),this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(t,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const a=R4(this.session.namespaces);this.namespaces=l1(this.namespaces,a),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}removeListener(t,n){this.events.removeListener(t,n)}off(t,n){this.events.off(t,n)}get isWalletConnect(){return!0}async pair(t){var n,r;const{uri:s,approval:i}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(n=this.connectParams)==null?void 0:n.authentication,walletPay:(r=this.connectParams)==null?void 0:r.walletPay});s&&(this.uri=s,this.events.emit("display_uri",s));const a=await i();this.session=a;const c=R4(a.namespaces);return this.namespaces=l1(this.namespaces,c),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,n){try{if(!this.session)return;const[r,s]=this.validateChain(t);this.getProvider(r).setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(t={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Lc(n))return;for(const r of n)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,n;if(this.client=this.providerOpts.client||await Wye.init({core:this.providerOpts.core,logger:this.providerOpts.logger||A4,relayUrl:this.providerOpts.relayUrl||wbe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(n=>Ah(n)))];AS("client",this.client),AS("events",this.events),AS("disableProviderPing",this.disableProviderPing),t.forEach(n=>{if(!this.session)return;const r=Rbe(n,this.session);if(r?.length===0)return;const s=f7(r),i=l1(this.namespaces,this.optionalNamespaces),a=u1(M0({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new i1e({namespace:a});break;default:this.rpcProviders[n]=new c1e({namespace:a})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var n;const{topic:r}=t;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var n;const{params:r,topic:s}=t;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const a=i.data;a&&Lc(a)&&this.events.emit("accountsChanged",a.map(O4))}else if(i.name==="chainChanged"){const a=r.chainId,c=r.event.data,u=Ah(a),d=_S(a)!==_S(c)?`${u}:${_S(c)}`:a;this.onChainChanged({currentCaipChainId:d})}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:n})=>{var r,s;if(t!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,a=(s=this.client)==null?void 0:s.session.get(t);this.session=u1(M0({},a),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async t=>{var n;t.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",u1(M0({},sr("USER_DISCONNECTED")),{data:t.topic})))}),this.on(bT.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(u1(M0({},t),{internal:!0}))})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[u7]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var n;this.getProvider(t).updateNamespace((n=this.session)==null?void 0:n.namespaces[t])})}setNamespaces(t){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=t;this.optionalNamespaces=l1(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(t){const[n,r]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(a=>Ah(a)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=Ah(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged({currentCaipChainId:t,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[s,i]=this.validateChain(t);i&&(this.updateNamespaceChain(s,i),r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:s,currentCaipChainId:t,previousCaipChainId:n})):this.getProvider(s).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:t,currentCaipChainId:n,previousCaipChainId:r}){var s,i;try{if(r===n)return;const a=(i=(s=this.session)==null?void 0:s.namespaces[t])==null?void 0:i.accounts;if(!a)return;const c=a.filter(u=>u.includes(`${n}:`)).map(O4);if(!Lc(c))return;this.events.emit("accountsChanged",c)}catch(a){this.logger.warn(a,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(t,n){if(!this.namespaces)return;const r=this.namespaces[t]?t:`${t}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${o1}/${t}${s}`,n)}async getFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${o1}/${t}${r}`)}async deleteFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${o1}/${t}${r}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(o1)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}};const G1=globalThis,ET=G1.ShadowRoot&&(G1.ShadyCSS===void 0||G1.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,vT=Symbol(),F4=new WeakMap;let m7=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==vT)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(ET&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=F4.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&F4.set(n,t))}return t}toString(){return this.cssText}};const ja=e=>new m7(typeof e=="string"?e:e+"",void 0,vT),Kl=(e,...t)=>{const n=e.length===1?e[0]:t.reduce(((r,s,i)=>r+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[i+1]),e[0]);return new m7(n,e,vT)},m1e=(e,t)=>{if(ET)e.adoptedStyleSheets=t.map((n=>n instanceof CSSStyleSheet?n:n.styleSheet));else for(const n of t){const r=document.createElement("style"),s=G1.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,e.appendChild(r)}},j4=ET?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return ja(n)})(e):e;const{is:g1e,defineProperty:y1e,getOwnPropertyDescriptor:b1e,getOwnPropertyNames:w1e,getOwnPropertySymbols:E1e,getPrototypeOf:v1e}=Object,uv=globalThis,z4=uv.trustedTypes,C1e=z4?z4.emptyScript:"",_1e=uv.reactiveElementPolyfillSupport,fm=(e,t)=>e,pN={toAttribute(e,t){switch(t){case Boolean:e=e?C1e:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},g7=(e,t)=>!g1e(e,t),H4={attribute:!0,type:String,converter:pN,reflect:!1,useDefault:!1,hasChanged:g7};Symbol.metadata??=Symbol("metadata"),uv.litPropertyMetadata??=new WeakMap;let wh=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=H4){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,n);s!==void 0&&y1e(this.prototype,t,s)}}static getPropertyDescriptor(t,n,r){const{get:s,set:i}=b1e(this.prototype,t)??{get(){return this[n]},set(a){this[n]=a}};return{get:s,set(a){const c=s?.call(this);i?.call(this,a),this.requestUpdate(t,c,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??H4}static _$Ei(){if(this.hasOwnProperty(fm("elementProperties")))return;const t=v1e(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(fm("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(fm("properties"))){const n=this.properties,r=[...w1e(n),...E1e(n)];for(const s of r)this.createProperty(s,n[s])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)n.unshift(j4(s))}else t!==void 0&&n.push(j4(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return m1e(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$ET(t,n){const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const i=(r.converter?.toAttribute!==void 0?r.converter:pN).toAttribute(n,r.type);this._$Em=t,i==null?this.removeAttribute(s):this.setAttribute(s,i),this._$Em=null}}_$AK(t,n){const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const i=r.getPropertyOptions(s),a=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:pN;this._$Em=s;const c=a.fromAttribute(n,i.type);this[s]=c??this._$Ej?.get(s)??c,this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){const s=this.constructor,i=this[t];if(r??=s.getPropertyOptions(t),!((r.hasChanged??g7)(i,n)||r.useDefault&&r.reflect&&i===this._$Ej?.get(t)&&!this.hasAttribute(s._$Eu(t,r))))return;this.C(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:r,reflect:s,wrapped:i},a){r&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,a??n??this[t]),i!==!0||a!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(n=void 0),this._$AL.set(t,n)),s===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,i]of this._$Ep)this[s]=i;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,i]of r){const{wrapped:a}=i,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,i,c)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),this._$EO?.forEach((r=>r.hostUpdate?.())),this.update(n)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(n)}willUpdate(t){}_$AE(t){this._$EO?.forEach((n=>n.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((n=>this._$ET(n,this[n]))),this._$EM()}updated(t){}firstUpdated(t){}};wh.elementStyles=[],wh.shadowRootOptions={mode:"open"},wh[fm("elementProperties")]=new Map,wh[fm("finalized")]=new Map,_1e?.({ReactiveElement:wh}),(uv.reactiveElementVersions??=[]).push("2.1.1");const CT=globalThis,Jw=CT.trustedTypes,q4=Jw?Jw.createPolicy("lit-html",{createHTML:e=>e}):void 0,y7="$lit$",Yl=`lit$${Math.random().toFixed(9).slice(2)}$`,b7="?"+Yl,A1e=`<${b7}>`,zd=document,Km=()=>zd.createComment(""),Ym=e=>e===null||typeof e!="object"&&typeof e!="function",_T=Array.isArray,S1e=e=>_T(e)||typeof e?.[Symbol.iterator]=="function",OS=`[ 	
\f\r]`,L0=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,W4=/-->/g,V4=/>/g,ed=RegExp(`>|${OS}(?:([^\\s"'>=/]+)(${OS}*=${OS}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),G4=/'/g,K4=/"/g,w7=/^(?:script|style|textarea|title)$/i,E7=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),Cxe=E7(1),_xe=E7(2),Jh=Symbol.for("lit-noChange"),Xr=Symbol.for("lit-nothing"),Y4=new WeakMap,wd=zd.createTreeWalker(zd,129);function v7(e,t){if(!_T(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return q4!==void 0?q4.createHTML(t):t}const N1e=(e,t)=>{const n=e.length-1,r=[];let s,i=t===2?"<svg>":t===3?"<math>":"",a=L0;for(let c=0;c<n;c++){const u=e[c];let d,h,m=-1,g=0;for(;g<u.length&&(a.lastIndex=g,h=a.exec(u),h!==null);)g=a.lastIndex,a===L0?h[1]==="!--"?a=W4:h[1]!==void 0?a=V4:h[2]!==void 0?(w7.test(h[2])&&(s=RegExp("</"+h[2],"g")),a=ed):h[3]!==void 0&&(a=ed):a===ed?h[0]===">"?(a=s??L0,m=-1):h[1]===void 0?m=-2:(m=a.lastIndex-h[2].length,d=h[1],a=h[3]===void 0?ed:h[3]==='"'?K4:G4):a===K4||a===G4?a=ed:a===W4||a===V4?a=L0:(a=ed,s=void 0);const w=a===ed&&e[c+1].startsWith("/>")?" ":"";i+=a===L0?u+A1e:m>=0?(r.push(d),u.slice(0,m)+y7+u.slice(m)+Yl+w):u+Yl+(m===-2?c:w)}return[v7(e,i+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};let mN=class C7{constructor({strings:t,_$litType$:n},r){let s;this.parts=[];let i=0,a=0;const c=t.length-1,u=this.parts,[d,h]=N1e(t,n);if(this.el=C7.createElement(d,r),wd.currentNode=this.el.content,n===2||n===3){const m=this.el.content.firstChild;m.replaceWith(...m.childNodes)}for(;(s=wd.nextNode())!==null&&u.length<c;){if(s.nodeType===1){if(s.hasAttributes())for(const m of s.getAttributeNames())if(m.endsWith(y7)){const g=h[a++],w=s.getAttribute(m).split(Yl),v=/([.?@])?(.*)/.exec(g);u.push({type:1,index:i,name:v[2],strings:w,ctor:v[1]==="."?I1e:v[1]==="?"?O1e:v[1]==="@"?R1e:dv}),s.removeAttribute(m)}else m.startsWith(Yl)&&(u.push({type:6,index:i}),s.removeAttribute(m));if(w7.test(s.tagName)){const m=s.textContent.split(Yl),g=m.length-1;if(g>0){s.textContent=Jw?Jw.emptyScript:"";for(let w=0;w<g;w++)s.append(m[w],Km()),wd.nextNode(),u.push({type:2,index:++i});s.append(m[g],Km())}}}else if(s.nodeType===8)if(s.data===b7)u.push({type:2,index:i});else{let m=-1;for(;(m=s.data.indexOf(Yl,m+1))!==-1;)u.push({type:7,index:i}),m+=Yl.length-1}i++}}static createElement(t,n){const r=zd.createElement("template");return r.innerHTML=t,r}};function Qh(e,t,n=e,r){if(t===Jh)return t;let s=r!==void 0?n._$Co?.[r]:n._$Cl;const i=Ym(t)?void 0:t._$litDirective$;return s?.constructor!==i&&(s?._$AO?.(!1),i===void 0?s=void 0:(s=new i(e),s._$AT(e,n,r)),r!==void 0?(n._$Co??=[])[r]=s:n._$Cl=s),s!==void 0&&(t=Qh(e,s._$AS(e,t.values),s,r)),t}let T1e=class{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,s=(t?.creationScope??zd).importNode(n,!0);wd.currentNode=s;let i=wd.nextNode(),a=0,c=0,u=r[0];for(;u!==void 0;){if(a===u.index){let d;u.type===2?d=new Jg(i,i.nextSibling,this,t):u.type===1?d=new u.ctor(i,u.name,u.strings,this,t):u.type===6&&(d=new x1e(i,this,t)),this._$AV.push(d),u=r[++c]}a!==u?.index&&(i=wd.nextNode(),a++)}return wd.currentNode=zd,s}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}};class Jg{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,n,r,s){this.type=2,this._$AH=Xr,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Qh(this,t,n),Ym(t)?t===Xr||t==null||t===""?(this._$AH!==Xr&&this._$AR(),this._$AH=Xr):t!==this._$AH&&t!==Jh&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):S1e(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==Xr&&Ym(this._$AH)?this._$AA.nextSibling.data=t:this.T(zd.createTextNode(t)),this._$AH=t}$(t){const{values:n,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=mN.createElement(v7(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(n);else{const i=new T1e(s,this),a=i.u(this.options);i.p(n),this.T(a),this._$AH=i}}_$AC(t){let n=Y4.get(t.strings);return n===void 0&&Y4.set(t.strings,n=new mN(t)),n}k(t){_T(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of t)s===n.length?n.push(r=new Jg(this.O(Km()),this.O(Km()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}let dv=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,s,i){this.type=1,this._$AH=Xr,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Xr}_$AI(t,n=this,r,s){const i=this.strings;let a=!1;if(i===void 0)t=Qh(this,t,n,0),a=!Ym(t)||t!==this._$AH&&t!==Jh,a&&(this._$AH=t);else{const c=t;let u,d;for(t=i[0],u=0;u<i.length-1;u++)d=Qh(this,c[r+u],n,u),d===Jh&&(d=this._$AH[u]),a||=!Ym(d)||d!==this._$AH[u],d===Xr?t=Xr:t!==Xr&&(t+=(d??"")+i[u+1]),this._$AH[u]=d}a&&!s&&this.j(t)}j(t){t===Xr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}};class I1e extends dv{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Xr?void 0:t}}let O1e=class extends dv{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Xr)}},R1e=class extends dv{constructor(t,n,r,s,i){super(t,n,r,s,i),this.type=5}_$AI(t,n=this){if((t=Qh(this,t,n,0)??Xr)===Jh)return;const r=this._$AH,s=t===Xr&&r!==Xr||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,i=t!==Xr&&(r===Xr||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}},x1e=class{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Qh(this,t)}};const k1e=CT.litHtmlPolyfillSupport;k1e?.(mN,Jg),(CT.litHtmlVersions??=[]).push("3.3.1");const P1e=(e,t,n)=>{const r=n?.renderBefore??t;let s=r._$litPart$;if(s===void 0){const i=n?.renderBefore??null;r._$litPart$=s=new Jg(t.insertBefore(Km(),i),i,void 0,n??{})}return s._$AI(e),s};const AT=globalThis;let K1=class extends wh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=P1e(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Jh}};K1._$litElement$=!0,K1.finalized=!0,AT.litElementHydrateSupport?.({LitElement:K1});const U1e=AT.litElementPolyfillSupport;U1e?.({LitElement:K1});(AT.litElementVersions??=[]).push("4.2.1");const $1e={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},Qw={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},D1e={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},M1e={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},L1e={regular:"KHTeka",mono:"KHTekaMono"},B1e={regular:"400",medium:"500"},F1e={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},j1e={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},z1e={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},H1e={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},gN={colors:$1e,fontFamily:L1e,fontWeight:B1e,textSize:F1e,typography:j1e,tokens:{core:Qw.core,theme:Qw.dark},borderRadius:D1e,spacing:M1e,durations:H1e,easings:z1e},Z4="--apkt";function d1(e){if(!e)return{};const t={};return t["font-family"]=e["--apkt-font-family"]??e["--w3m-font-family"]??"KHTeka",t.accent=e["--apkt-accent"]??e["--w3m-accent"]??"#0988F0",t["color-mix"]=e["--apkt-color-mix"]??e["--w3m-color-mix"]??"#000",t["color-mix-strength"]=e["--apkt-color-mix-strength"]??e["--w3m-color-mix-strength"]??0,t["font-size-master"]=e["--apkt-font-size-master"]??e["--w3m-font-size-master"]??"10px",t["border-radius-master"]=e["--apkt-border-radius-master"]??e["--w3m-border-radius-master"]??"4px",e["--apkt-z-index"]!==void 0?t["z-index"]=e["--apkt-z-index"]:e["--w3m-z-index"]!==void 0&&(t["z-index"]=e["--w3m-z-index"]),t}const _c={createCSSVariables(e){const t={},n={};function r(i,a,c=""){for(const[u,d]of Object.entries(i)){const h=c?`${c}-${u}`:u;d&&typeof d=="object"&&Object.keys(d).length?(a[u]={},r(d,a[u],h)):typeof d=="string"&&(a[u]=`${Z4}-${h}`)}}function s(i,a){for(const[c,u]of Object.entries(i))u&&typeof u=="object"?(a[c]={},s(u,a[c])):typeof u=="string"&&(a[c]=`var(${u})`)}return r(e,t),s(t,n),{cssVariables:t,cssVariablesVarPrefix:n}},assignCSSVariables(e,t){const n={};function r(s,i,a){for(const[c,u]of Object.entries(s)){const d=a?`${a}-${c}`:c,h=i[c];u&&typeof u=="object"?r(u,h,d):typeof h=="string"&&(n[`${Z4}-${d}`]=h)}}return r(e,t),n},createRootStyles(e,t){const n={...gN,tokens:{...gN.tokens,theme:e==="light"?Qw.light:Qw.dark}},{cssVariables:r}=_c.createCSSVariables(n),s=_c.assignCSSVariables(r,n),i=_c.generateW3MVariables(t),a=_c.generateW3MOverrides(t),c=_c.generateScaledVariables(t),u=_c.generateBaseVariables(s),d={...s,...u,...i,...a,...c},h=_c.applyColorMixToVariables(t,d),m={...d,...h};return`:root {${Object.entries(m).map(([w,v])=>`${w}:${v.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(e){if(!e)return{};const t=d1(e),n={};return n["--w3m-font-family"]=t["font-family"],n["--w3m-accent"]=t.accent,n["--w3m-color-mix"]=t["color-mix"],n["--w3m-color-mix-strength"]=`${t["color-mix-strength"]}%`,n["--w3m-font-size-master"]=t["font-size-master"],n["--w3m-border-radius-master"]=t["border-radius-master"],n},generateW3MOverrides(e){if(!e)return{};const t=d1(e),n={};if(e["--apkt-accent"]||e["--w3m-accent"]){const r=t.accent;n["--apkt-tokens-core-iconAccentPrimary"]=r,n["--apkt-tokens-core-borderAccentPrimary"]=r,n["--apkt-tokens-core-textAccentPrimary"]=r,n["--apkt-tokens-core-backgroundAccentPrimary"]=r}return(e["--apkt-font-family"]||e["--w3m-font-family"])&&(n["--apkt-fontFamily-regular"]=t["font-family"]),t["z-index"]!==void 0&&(n["--apkt-tokens-core-zIndex"]=`${t["z-index"]}`),n},generateScaledVariables(e){if(!e)return{};const t=d1(e),n={};if(e["--apkt-font-size-master"]||e["--w3m-font-size-master"]){const r=parseFloat(t["font-size-master"].replace("px",""));n["--apkt-textSize-h1"]=`${Number(r)*5}px`,n["--apkt-textSize-h2"]=`${Number(r)*4.4}px`,n["--apkt-textSize-h3"]=`${Number(r)*3.8}px`,n["--apkt-textSize-h4"]=`${Number(r)*3.2}px`,n["--apkt-textSize-h5"]=`${Number(r)*2.6}px`,n["--apkt-textSize-h6"]=`${Number(r)*2}px`,n["--apkt-textSize-large"]=`${Number(r)*1.6}px`,n["--apkt-textSize-medium"]=`${Number(r)*1.4}px`,n["--apkt-textSize-small"]=`${Number(r)*1.2}px`}if(e["--apkt-border-radius-master"]||e["--w3m-border-radius-master"]){const r=parseFloat(t["border-radius-master"].replace("px",""));n["--apkt-borderRadius-1"]=`${Number(r)}px`,n["--apkt-borderRadius-2"]=`${Number(r)*2}px`,n["--apkt-borderRadius-3"]=`${Number(r)*3}px`,n["--apkt-borderRadius-4"]=`${Number(r)*4}px`,n["--apkt-borderRadius-5"]=`${Number(r)*5}px`,n["--apkt-borderRadius-6"]=`${Number(r)*6}px`,n["--apkt-borderRadius-8"]=`${Number(r)*8}px`,n["--apkt-borderRadius-16"]=`${Number(r)*16}px`,n["--apkt-borderRadius-20"]=`${Number(r)*20}px`,n["--apkt-borderRadius-32"]=`${Number(r)*32}px`,n["--apkt-borderRadius-64"]=`${Number(r)*64}px`,n["--apkt-borderRadius-128"]=`${Number(r)*128}px`}return n},generateColorMixCSS(e,t){if(!e?.["--w3m-color-mix"]||!e["--w3m-color-mix-strength"])return"";const n=e["--w3m-color-mix"],r=e["--w3m-color-mix-strength"];if(!r||r===0)return"";const s=Object.keys(t||{}).filter(a=>{const c=a.includes("-tokens-core-background")||a.includes("-tokens-core-text")||a.includes("-tokens-core-border")||a.includes("-tokens-core-foreground")||a.includes("-tokens-core-icon")||a.includes("-tokens-theme-background")||a.includes("-tokens-theme-text")||a.includes("-tokens-theme-border")||a.includes("-tokens-theme-foreground")||a.includes("-tokens-theme-icon"),u=a.includes("-borderRadius-")||a.includes("-spacing-")||a.includes("-textSize-")||a.includes("-fontFamily-")||a.includes("-fontWeight-")||a.includes("-typography-")||a.includes("-duration-")||a.includes("-ease-")||a.includes("-path-")||a.includes("-width-")||a.includes("-height-")||a.includes("-visual-size-")||a.includes("-modal-width")||a.includes("-cover");return c&&!u});return s.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${s.map(a=>{const c=t?.[a]||"";return c.includes("color-mix")||c.startsWith("#")||c.startsWith("rgb")?`${a}: color-mix(in srgb, ${n} ${r}%, ${c});`:`${a}: color-mix(in srgb, ${n} ${r}%, var(${a}-base, ${c}));`}).join("")}
      }
    }`},generateBaseVariables(e){const t={},n=e["--apkt-tokens-theme-backgroundPrimary"];n&&(t["--apkt-tokens-theme-backgroundPrimary-base"]=n);const r=e["--apkt-tokens-core-backgroundAccentPrimary"];return r&&(t["--apkt-tokens-core-backgroundAccentPrimary-base"]=r),t},applyColorMixToVariables(e,t){const n={};t?.["--apkt-tokens-theme-backgroundPrimary"]&&(n["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),t?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(n["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)");const r=d1(e),s=r["color-mix"],i=r["color-mix-strength"];if(!i||i===0)return n;const a=Object.keys(t||{}).filter(c=>{const u=c.includes("-tokens-core-background")||c.includes("-tokens-core-text")||c.includes("-tokens-core-border")||c.includes("-tokens-core-foreground")||c.includes("-tokens-core-icon")||c.includes("-tokens-theme-background")||c.includes("-tokens-theme-text")||c.includes("-tokens-theme-border")||c.includes("-tokens-theme-foreground")||c.includes("-tokens-theme-icon")||c.includes("-tokens-theme-overlay"),d=c.includes("-borderRadius-")||c.includes("-spacing-")||c.includes("-textSize-")||c.includes("-fontFamily-")||c.includes("-fontWeight-")||c.includes("-typography-")||c.includes("-duration-")||c.includes("-ease-")||c.includes("-path-")||c.includes("-width-")||c.includes("-height-")||c.includes("-visual-size-")||c.includes("-modal-width")||c.includes("-cover");return u&&!d});return a.length===0||a.forEach(c=>{const u=t?.[c]||"";c.endsWith("-base")||(c==="--apkt-tokens-theme-backgroundPrimary"||c==="--apkt-tokens-core-backgroundAccentPrimary"?n[c]=`color-mix(in srgb, ${s} ${i}%, var(${c}-base))`:u.includes("color-mix")||u.startsWith("#")||u.startsWith("rgb")?n[c]=`color-mix(in srgb, ${s} ${i}%, ${u})`:n[c]=`color-mix(in srgb, ${s} ${i}%, var(${c}-base, ${u}))`)}),n}},{cssVariablesVarPrefix:q1e}=_c.createCSSVariables(gN);function Rxe(e,...t){return Kl(e,...t.map(n=>ja(typeof n=="function"?n(q1e):n)))}let dd,Ed,_o,Wa,eE;const Ec={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function tE(e,t="dark"){dd&&document.head.removeChild(dd),dd=document.createElement("style"),dd.textContent=_c.createRootStyles(t,e),document.head.appendChild(dd)}function xxe(e,t="dark"){if(eE=e,Ed=document.createElement("style"),_o=document.createElement("style"),Wa=document.createElement("style"),Ed.textContent=Ph(e).core.cssText,_o.textContent=Ph(e).dark.cssText,Wa.textContent=Ph(e).light.cssText,document.head.appendChild(Ed),document.head.appendChild(_o),document.head.appendChild(Wa),tE(e,t),yN(t),!(e?.["--apkt-font-family"]||e?.["--w3m-font-family"]))for(const[r,s]of Object.entries(Ec)){const i=document.createElement("link");i.rel="preload",i.href=s,i.as="font",i.type=r.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}yN(t)}function yN(e="dark"){_o&&Wa&&dd&&(e==="light"?(tE(eE,e),_o.removeAttribute("media"),Wa.media="enabled"):(tE(eE,e),Wa.removeAttribute("media"),_o.media="enabled"))}function W1e(e){if(eE=e,Ed&&_o&&Wa){Ed.textContent=Ph(e).core.cssText,_o.textContent=Ph(e).dark.cssText,Wa.textContent=Ph(e).light.cssText;const t=e?.["--apkt-font-family"]||e?.["--w3m-font-family"];t&&(Ed.textContent=Ed.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),_o.textContent=_o.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),Wa.textContent=Wa.textContent?.replace("font-family: KHTeka",`font-family: ${t}`))}if(dd){const t=Wa?.media==="enabled"?"light":"dark";tE(e,t)}}function Ph(e){const t=!!(e?.["--apkt-font-family"]||e?.["--w3m-font-family"]);return{core:Kl`
      ${t?Kl``:Kl`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${ja(Ec["KHTeka-400-woff2"])}) format('woff2'),
                url(${ja(Ec["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${ja(Ec["KHTeka-300-woff2"])}) format('woff2'),
                url(${ja(Ec["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${ja(Ec["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${ja(Ec["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${ja(Ec["KHTeka-400-woff2"])}) format('woff2'),
                url(${ja(Ec["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Kl`
      :root {
      }
    `,light:Kl`
      :root {
      }
    `}}const kxe=Kl`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,Pxe=Kl`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,f1={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603};class V1e extends lse{async setUniversalProvider(t){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new use({provider:t,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(t){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(t.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(t){console.warn("UniversalAdapter:disconnect - error",t)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:t}){const r=this.provider?.session?.namespaces?.[t]?.accounts?.map(s=>{const[,,i]=s.split(":");return i}).filter((s,i,a)=>a.indexOf(s)===i)||[];return Promise.resolve({accounts:r.map(s=>Re.createAccount(t,s,t==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(t){if(!(t.caipNetwork&&Vt.BALANCE_SUPPORTED_CHAINS.includes(t.caipNetwork?.chainNamespace))||t.caipNetwork?.testnet)return{balance:"0.00",symbol:t.caipNetwork?.nativeCurrency.symbol||""};const r=V.getAccountData();if(r?.balanceLoading&&t.chainId===V.state.activeCaipNetwork?.id)return{balance:r?.balance||"0.00",symbol:r?.balanceSymbol||""};const i=(await V.fetchTokenBalance()).find(a=>a.chainId===`${t.caipNetwork?.chainNamespace}:${t.chainId}`&&a.symbol===t.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||t.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(t){const{provider:n,message:r,address:s}=t;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return V.state.activeCaipNetwork?.chainNamespace===ue.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:gp.encode(new TextEncoder().encode(r)),pubkey:s}},V.state.activeCaipNetwork?.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},V.state.activeCaipNetwork?.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(t){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(t){const{caipNetwork:n}=t,r=this.getWalletConnectConnector();if(n.chainNamespace===ue.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:gm(n.id)}]})}catch(s){if(s.code===f1.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===f1.ERROR_INVALID_CHAIN_ID||s.code===f1.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===f1.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:gm(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}const G1e=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication","headless"],h1={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>e===void 0?Vt.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t.filter(n=>n!=="email"):!1},processFallback:e=>e===void 0?Vt.DEFAULT_REMOTE_FEATURES.socials:typeof e=="boolean"?e?Vt.DEFAULT_REMOTE_FEATURES.socials:!1:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Vt.DEFAULT_REMOTE_FEATURES.swaps:typeof e=="boolean"?e?Vt.DEFAULT_REMOTE_FEATURES.swaps:!1:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Vt.DEFAULT_REMOTE_FEATURES.onramp:typeof e=="boolean"?e?Vt.DEFAULT_REMOTE_FEATURES.onramp:!1:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Vt.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Vt.DEFAULT_REMOTE_FEATURES.reownBranding:!!e},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>e.isEnabled&&(e.config??[]),processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Vt.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Vt.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Vt.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>typeof e>"u"?Vt.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!e},headless:{apiFeatureName:"headless",localFeatureName:"headless",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Vt.DEFAULT_REMOTE_FEATURES.headless}},K1e={localSettingsOverridden:new Set,getApiConfig(e,t){return t?.find(n=>n.id===e)},addWarning(e,t){if(e!==void 0){const n=h1[t],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(r)}},processFeature(e,t,n,r,s){const i=h1[e],a=t[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const c=this.getApiConfig(i.apiFeatureName,n);return c?.config===null?this.processFallbackFeature(e,a):c?.config?(a!==void 0&&this.addWarning(a,e),this.processApiFeature(e,c)):!1}return this.processFallbackFeature(e,a)},processApiFeature(e,t){return h1[e].processApi(t)},processFallbackFeature(e,t){return h1[e].processFallback(t)},async fetchRemoteFeatures(e){const t=e.basic??!1,n=e.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await Le.fetchProjectConfig(),s=r!=null}catch(a){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",a)}const i=s&&!t?Vt.DEFAULT_REMOTE_FEATURES:Vt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const a of G1e){const c=this.processFeature(a,n,r,s,t);Object.assign(i,{[a]:c})}}catch(a){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",a),Vt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const a=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Es.open({debugMessage:vs.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(a)},"warning")}return i}};class Y1e{constructor(t){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const s=V.getCaipNetworks(n)?.find(c=>c.id===r);if(s)return s;const i=V.getNetworkData(n)?.caipNetwork;return i||V.getRequestedCaipNetworks(n).filter(c=>c.chainNamespace===n)?.[0]}return V.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>V.getCaipNetworks(n),this.getActiveChainNamespace=()=>V.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{V.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>V.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>V.state.activeChain===n||!n?V.state.activeCaipAddress:V.state.chains.get(n)?.accountState?.caipAddress,this.setClientId=n=>{pt.setClientId(n)},this.getProvider=n=>qn.getProvider(n),this.getProviderType=n=>qn.getProviderId(n),this.getPreferredAccountType=n=>Fi(n),this.setCaipAddress=(n,r,s=!1)=>{V.setAccountProp("caipAddress",n,r,s),V.setAccountProp("address",Re.getPlainAddress(n),r,s)},this.setBalance=(n,r,s)=>{V.setAccountProp("balance",n,s),V.setAccountProp("balanceSymbol",r,s)},this.setProfileName=(n,r)=>{V.setAccountProp("profileName",n,r)},this.setProfileImage=(n,r)=>{V.setAccountProp("profileImage",n,r)},this.setUser=(n,r)=>{V.setAccountProp("user",n,r)},this.resetAccount=n=>{V.resetAccount(n)},this.setCaipNetwork=n=>{V.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{V.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{V.setAccountProp("status",n,r),ve.isConnected()?ye.setConnectionStatus("connected"):ye.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>V.getAccountData(n)?.address,this.setConnectors=n=>{const r=[...ve.state.allConnectors,...n];ve.setConnectors(r)},this.setConnections=(n,r)=>{ye.setConnections(n,r),Ie.setConnections(n,r)},this.fetchIdentity=n=>pt.fetchIdentity(n),this.getReownName=n=>om.getNamesForAddress(n),this.getConnectors=()=>ve.getConnectors(),this.getConnectorImage=n=>V9.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?Ow.getConnectionsData(n).connections:(Es.open(ue.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?Ow.getConnectionsData(n).recentConnections:(Es.open(ue.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Es.open(ue.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await Ie.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Es.open(ue.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ye.deleteAddressFromConnection(n),Ie.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const s=qn.getProviderId(r),i=n?{...n,type:s}:void 0;V.setAccountProp("connectedWalletInfo",i,r)},this.getIsConnectedState=()=>!!V.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{const i=V.getAccountData(s)?.addressLabels||{};V.setAccountProp("addressLabels",{...i,[n]:r},s)},this.removeAddressLabel=(n,r)=>{const s=V.getAccountData(r)?.addressLabels||{};V.setAccountProp("addressLabels",{...s,[n]:void 0},r)},this.getAddress=n=>{const r=n||V.state.activeChain;return V.getAccountData(r)?.address},this.resetNetwork=n=>{V.resetNetwork(n)},this.addConnector=n=>{ve.addConnector(n)},this.resetWcConnection=()=>{Ie.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{V.setAccountProp("addressExplorerUrl",n,r)},this.setSmartAccountDeployed=(n,r)=>{V.setAccountProp("smartAccountDeployed",n,r)},this.setPreferredAccountType=(n,r)=>{V.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{de.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=t,this.version=t.sdkVersion,this.caipNetworks=this.extendCaipNetworks(t),this.chainNamespaces=this.getChainNamespacesSet(t.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(t),this.chainAdapters=this.createAdapters(t.adapters),this.readyPromise=this.initialize(t)}getChainNamespacesSet(t,n){const r=t?.map(i=>i.namespace).filter(i=>!!i);if(r?.length)return[...new Set(r)];const s=n?.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(t){if(this.initializeProjectSettings(t),this.initControllers(t),await this.initChainAdapters(),this.sendInitializeEvent(t),t.features?.headless&&!za.hasInjectedConnectors()&&Le.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1,fetchRecommendedWallets:!0}),de.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),!t.basic&&!t.manualWCControl&&(this.remoteFeatures=await K1e.fetchRemoteFeatures(t)),await Le.fetchUsage(),de.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&y6.setOnrampProviders(this.remoteFeatures.onramp),(de.state.remoteFeatures?.email||Array.isArray(de.state.remoteFeatures?.socials)&&de.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),de.state.features?.reownAuthentication||de.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:n}=await ir(async()=>{const{ReownAuthentication:s}=await import("./features-D0q2bCi9.js");return{ReownAuthentication:s}},[]),r=de.state.siwx;r instanceof n||(r&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),de.setSIWX(new n))}}async openSend(t){const n=t.namespace||V.state.activeChain,r=this.getCaipAddress(n),s=this.getCaipNetwork(n)?.id;if(!r)throw new Error("openSend: caipAddress not found");if(s?.toString()!==t.chainId.toString()){const i=V.getCaipNetworkById(t.chainId,n);if(!i)throw new Error(`openSend: caipNetwork with chainId ${t.chainId} not found`);await this.switchNetwork(i,{throwOnFailure:!0})}try{const i=EM.getTokenSymbolByAddress(t.assetAddress);i&&await Le.fetchTokenImages([i])}catch{}return await nn.open({view:"WalletSend",data:{send:t}}),new Promise((i,a)=>{const c=Ft.subscribeKey("hash",h=>{h&&(d(),i({hash:h}))}),u=nn.subscribe(h=>{h.open||(d(),a(new Error("Modal closed")))}),d=this.createCleanupHandler([c,u])})}toModalOptions(){function t(r){return r?.view==="Swap"}function n(r){return r?.view==="WalletSend"}return{isSwap:t,isSend:n}}async checkAllowedOrigins(){try{const t=await Le.fetchAllowedOrigins();if(!Re.isClient())return;const n=window.location.origin;ou.isOriginAllowed(n,t,ue.DEFAULT_ALLOWED_ANCESTORS)||Es.open(vs.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(t){if(!(t instanceof Error))return;switch(t.message){case"RATE_LIMITED":Es.open(vs.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=t.cause instanceof Error?t.cause:t;Es.open({displayMessage:vs.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:vs.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}}}}createCleanupHandler(t){return()=>{t.forEach(n=>{try{n()}catch{}})}}sendInitializeEvent(t){const{...n}=t;delete n.adapters,delete n.universalProvider,Ot.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:t.networks.map(r=>r.id),siweConfig:{options:t.siweConfig?.options||{}}}})}initControllers(t){this.initializeOptionsController(t),this.initializeChainController(t),this.initializeThemeController(t),this.initializeConnectionController(t),this.initializeConnectorController()}initAdapterController(){Y9.initialize(this.chainAdapters)}initializeThemeController(t){t.themeMode&&si.setThemeMode(t.themeMode),t.themeVariables&&si.setThemeVariables(t.themeVariables)}initializeChainController(t){if(!this.connectionControllerClient)throw new Error("ConnectionControllerClient must be set");V.initialize(t.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient});const n=this.getDefaultNetwork();n&&V.setActiveCaipNetwork(n)}initializeConnectionController(t){Ie.initialize(t.adapters??[]),Ie.setWcBasic(t.basic??!1)}initializeConnectorController(){ve.initialize(this.chainNamespaces)}initializeProjectSettings(t){de.setProjectId(t.projectId),de.setSdkVersion(t.sdkVersion)}initializeOptionsController(t){de.setDebug(t.debug!==!1),de.setEnableWalletGuide(t.enableWalletGuide!==!1),de.setEnableWallets(t.enableWallets!==!1),de.setEIP6963Enabled(t.enableEIP6963!==!1),de.setEnableNetworkSwitch(t.enableNetworkSwitch!==!1),de.setEnableReconnect(t.enableReconnect!==!1),de.setEnableMobileFullScreen(t.enableMobileFullScreen===!0),de.setCoinbasePreference(t.coinbasePreference),de.setEnableAuthLogger(t.enableAuthLogger!==!1),de.setCustomRpcUrls(t.customRpcUrls),de.setEnableEmbedded(t.enableEmbedded),de.setAllWallets(t.allWallets),de.setIncludeWalletIds(t.includeWalletIds),de.setExcludeWalletIds(t.excludeWalletIds),de.setFeaturedWalletIds(t.featuredWalletIds),de.setTokens(t.tokens),de.setTermsConditionsUrl(t.termsConditionsUrl),de.setPrivacyPolicyUrl(t.privacyPolicyUrl),de.setCustomWallets(t.customWallets),de.setFeatures(t.features),de.setAllowUnsupportedChain(t.allowUnsupportedChain),de.setUniversalProviderConfigOverride(t.universalProviderConfigOverride),de.setPreferUniversalLinks(t.experimental_preferUniversalLinks),de.setDefaultAccountTypes(t.defaultAccountTypes);const n=this.getDefaultMetaData();if(!t.metadata&&n&&(t.metadata=n),de.setMetadata(t.metadata),de.setDisableAppend(t.disableAppend),de.setEnableEmbedded(t.enableEmbedded),de.setSIWX(t.siwx),this.features=de.state.features??{},!t.projectId){Es.open(vs.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(t.adapters?.find(s=>s.namespace===ue.CHAIN.EVM)&&t.siweConfig){if(t.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");de.setSIWX(t.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Re.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(t){const n=this.getActiveChainNamespace();if(n){const r=yh.getUnsupportedNetwork(`${n}:${t}`);V.setActiveCaipNetwork(r)}}getDefaultNetwork(){return yh.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(t,n){return yh.extendCaipNetwork(t,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(t){return yh.extendCaipNetworks(t.networks,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId})}extendDefaultCaipNetwork(t){const n=t.networks.find(s=>s.id===t.defaultNetwork?.id);return n?yh.extendCaipNetwork(n,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId}):void 0}async disconnectConnector(t,n){try{this.setLoading(!0,t);let r={connections:[]};const s=this.getAdapter(t);return(V.state.chains.get(t)?.accountState?.caipAddress||!de.state.enableReconnect)&&s?.disconnect&&(r=await s.disconnect({id:n})),this.setLoading(!1,t),r}catch(r){throw this.setLoading(!1,t),new Error(`Failed to disconnect chains: ${r.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const t=V.state.activeChain,n=this.getAdapter(t),r=this.getCaipNetwork(t)?.id,s=Ie.getConnections(t),i=this.remoteFeatures.multiWallet,a=s.length>0;if(!n)throw new Error("Adapter not found");const c=await n.connectWalletConnect(r);(!a||!i)&&this.close(),this.setClientId(c?.clientId||null),ye.setConnectedNamespaces([...V.state.chains.keys()]),await this.syncWalletConnectAccount(),await ya.initializeIfEnabled()},connectExternal:async t=>{const n=await this.onConnectExternal(t);return await this.connectInactiveNamespaces(t,n),n?{address:n.address}:void 0},reconnectExternal:async({id:t,info:n,type:r,provider:s})=>{const i=V.state.activeChain,a=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!a)throw new Error("reconnectExternal: adapter not found");a?.reconnect&&(await a?.reconnect({id:t,info:n,type:r,provider:s,chainId:this.getCaipNetwork()?.id}),ye.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnectConnector:async t=>{await this.disconnectConnector(t.namespace,t.id)},disconnect:async t=>{const{id:n,chainNamespace:r,initialDisconnect:s}=t||{},i=r||V.state.activeChain,a=ve.getConnectorId(i),c=n===ue.CONNECTOR_ID.AUTH||a===ue.CONNECTOR_ID.AUTH,u=n===ue.CONNECTOR_ID.WALLET_CONNECT||a===ue.CONNECTOR_ID.WALLET_CONNECT;try{const d=Array.from(V.state.chains.keys());let h=r?[r]:d;(u||c)&&(h=d);const m=h.map(async v=>{const E=ve.getConnectorId(v),A=n||E,R=await this.disconnectConnector(v,A);R&&(c&&ye.deleteConnectedSocialProvider(),R.connections.forEach(k=>{ye.addDisconnectedConnectorId(k.connectorId,v)})),s&&this.onDisconnectNamespace({chainNamespace:v,closeModal:!1})}),g=await Promise.allSettled(m);Ft.resetSend(),Ie.resetWcConnection(),ya.getSIWX()?.signOutOnDisconnect&&await ya.clearSessions(),ve.setFilterByNamespace(void 0),Ie.syncStorageConnections();const w=g.filter(v=>v.status==="rejected");if(w.length>0)throw new Error(w.map(v=>v.reason.message).join(", "));Ot.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(d){throw new Error(`Failed to disconnect chains: ${d.message}`)}},checkInstalled:t=>t?t.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async t=>{const n=V.state.activeChain,r=this.getAdapter(V.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const s=this.getAddress(n);if(!s)throw new Error("signMessage: address not found");return(await r?.signMessage({message:t,address:s,provider:qn.getProvider(n)}))?.signature||""},sendTransaction:async t=>{const n=t.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(Vt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const s=qn.getProvider(n);return(await r?.sendTransaction({...t,caipNetwork:this.getCaipNetwork(),provider:s}))?.hash||""}return""},estimateGas:async t=>{const n=t.chainNamespace;if(n===ue.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const s=qn.getProvider(n),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await r?.estimateGas({...t,provider:s,caipNetwork:i}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const t=V.state.activeChain;if(!t)throw new Error("getEnsAvatar: namespace is required but got undefined");const n=this.getAddress(t);if(!n)throw new Error("getEnsAvatar: address not found");return await this.syncIdentity({address:n,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:t}),V.getAccountData()?.profileImage||!1},getEnsAddress:async t=>await ou.resolveReownName(t),writeContract:async t=>{const n=V.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),i=this.getCaipAddress(),a=qn.getProvider(n);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await r?.writeContract({...t,caipNetwork:s,provider:a,caipAddress:i}))?.hash},parseUnits:(t,n)=>{const r=this.getAdapter(V.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return r?.parseUnits({value:t,decimals:n})??0n},formatUnits:(t,n)=>{const r=this.getAdapter(V.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return r?.formatUnits({value:t,decimals:n})??"0"},getCapabilities:async t=>{const n=this.getAdapter(V.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await n?.getCapabilities(t)},grantPermissions:async t=>{const n=this.getAdapter(V.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await n?.grantPermissions(t)},revokePermissions:async t=>{const n=this.getAdapter(V.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n?.revokePermissions?await n.revokePermissions(t):"0x"},walletGetAssets:async t=>{const n=this.getAdapter(V.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await n?.walletGetAssets(t)??{}},updateBalance:t=>{const n=this.getAddress(t),r=this.getCaipNetwork(t);!r||!n||this.updateNativeBalance(n,r?.id,t)}},Ie.setClient(this.connectionControllerClient)}async onConnectExternal(t){const n=V.state.activeChain,r=t.chain||n,s=this.getAdapter(r);let i=!0;if(t.type===Us.CONNECTOR_TYPE_AUTH&&ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(m=>ve.getConnectorId(m)===ue.CONNECTOR_ID.AUTH)&&t.chain!==n&&(i=!1),t.chain&&t.chain!==n&&!t.caipNetwork){const d=this.getCaipNetworks().find(h=>h.chainNamespace===t.chain);d&&i&&this.setCaipNetwork(d)}if(!r)throw new Error("connectExternal: namespace not found");if(!s)throw new Error("connectExternal: adapter not found");const a=this.getCaipNetwork(r),c=t.caipNetwork||a,u=await s.connect({id:t.id,address:t.address,info:t.info,type:t.type,provider:t.provider,socialUri:t.socialUri,chainId:t.caipNetwork?.id||a?.id,rpcUrl:t.caipNetwork?.rpcUrls?.default?.http?.[0]||a?.rpcUrls?.default?.http?.[0]});if(u)return ye.addConnectedNamespace(r),this.syncProvider({...u,chainNamespace:r}),this.setStatus("connected",r),this.syncConnectedWalletInfo(r),ye.removeDisconnectedConnectorId(t.id,r),{address:u.address,connectedCaipNetwork:c}}async connectInactiveNamespaces(t,n){const r=t.type===Us.CONNECTOR_TYPE_AUTH,s=zm.getOtherAuthNamespaces(n?.connectedCaipNetwork?.chainNamespace),i=V.state.activeCaipNetwork,a=this.getAdapter(i?.chainNamespace);r&&(await Promise.all(s.map(async c=>{try{const u=qn.getProvider(c),d=this.getCaipNetwork(c);await this.getAdapter(c)?.connect({...t,provider:u,socialUri:void 0,chainId:d?.id,rpcUrl:d?.rpcUrls?.default?.http?.[0]})&&(ye.addConnectedNamespace(c),ye.removeDisconnectedConnectorId(t.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(u){Es.warn(vs.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,vs.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,u instanceof Error?u.message:void 0),vs.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),i&&await a?.switchNetwork({caipNetwork:i}))}getApprovedCaipNetworksData(){if(qn.getProviderId(V.state.activeChain)===Us.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(t){const n=t.chainNamespace;if(this.getAddressByChainNamespace(t.chainNamespace)){const s=qn.getProviderId(n);if(t.chainNamespace===V.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:t});else if(this.setCaipNetwork(t),s===Us.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const i=this.getAddressByChainNamespace(n);i&&this.syncAccount({address:i,chainId:t.id,chainNamespace:n})}}else this.setCaipNetwork(t)}getChainsFromNamespaces(t={}){return Object.values(t).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:a,chainNamespace:c}=zr.parseCaipAddress(i);return`${c}:${a}`});return Array.from(new Set([...r,...s]))})}createAdapters(t){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const s=t?.find(i=>i.namespace===r);return s?(s.construct({namespace:r,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:i})=>i===r)}),n[r]=s):n[r]=new V1e({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(t){this.onConnectors(t),this.listenAdapter(t);const n=this.getAdapter(t);if(!n)throw new Error("adapter not found");await n.syncConnectors(),await this.createUniversalProviderForAdapter(t)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async t=>{await this.initChainAdapter(t)})),this.initAdapterController()}onConnectors(t){this.getAdapter(t)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(t){const n=this.getAdapter(t);if(!n)return;const r=ye.getConnectionStatus();de.state.enableReconnect===!1?this.setStatus("disconnected",t):r==="connected"?this.setStatus("connecting",t):r==="disconnected"?(ye.clearAddressCache(),this.setStatus(r,t)):this.setStatus(r,t),n.on("switchNetwork",({address:s,chainId:i})=>{const a=this.getCaipNetworks().find(d=>d.id.toString()===i.toString()||d.caipNetworkId.toString()===i.toString()),c=V.state.activeChain===t,u=V.state.chains.get(t)?.accountState?.address;if(a){const d=c&&s?s:u;d&&this.syncAccount({address:d,chainId:a.id,chainNamespace:t})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",()=>{const s=this.remoteFeatures.multiWallet,i=Array.from(Ie.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:t,closeModal:!s||i.length===0})}),n.on("connections",s=>{this.setConnections(s,t)}),n.on("pendingTransactions",()=>{const s=this.getAddress(t),i=V.state.activeCaipNetwork;!s||!i?.id||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i,connector:a})=>{this.handlePreviousConnectorConnection(a);const c=V.state.activeChain===t;a?.provider&&(this.syncProvider({id:a.id,type:a.type,provider:a?.provider,chainNamespace:t}),this.syncConnectedWalletInfo(t));const u=V.getNetworkData(t)?.caipNetwork?.id,d=i||u;c&&d?this.syncAccount({address:s,chainId:d,chainNamespace:t}):!c&&d?(this.syncAccountInfo(s,d,t),this.syncBalance({address:s,chainId:d,chainNamespace:t})):this.syncAccountInfo(s,i,t),ye.addConnectedNamespace(t)})}async handlePreviousConnectorConnection(t){const n=t?.chain,r=t?.id,s=ve.getConnectorId(n),i=de.state.remoteFeatures?.multiWallet,c=n&&r&&s&&s!==r&&!i;try{c&&await Ie.disconnect({id:s,namespace:n})}catch(u){console.warn("Error disconnecting previous connector",u)}}async createUniversalProviderForAdapter(t){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[t]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(t=>this.syncNamespaceConnection(t)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(t=>Ie.disconnect({namespace:t,initialDisconnect:!0})))}catch(t){console.error("Error disconnecting existing connections:",t)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const t=this.getAddress();this.getCaipAddress()||ye.deleteRecentWallet();const n=ye.getRecentWallet();Ot.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:Re.isMobile()?"mobile":"qrcode",name:n?.name||"Unknown",reconnect:!0,view:ut.state.view,walletRank:n?.order}})}async syncNamespaceConnection(t){try{t===ue.CHAIN.EVM&&Re.isSafeApp()&&ve.setConnectorId(ue.CONNECTOR_ID.SAFE,t);const n=ve.getConnectorId(t);switch(this.setStatus("connecting",t),n){case ue.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case ue.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(t)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",t)}}onDisconnectNamespace(t){const{chainNamespace:n,closeModal:r}=t||{};V.resetAccount(n),V.resetNetwork(n),ye.removeConnectedNamespace(n);const s=Array.from(V.state.chains.keys());(n?[n]:s).forEach(a=>ye.addDisconnectedConnectorId(ve.getConnectorId(a)||"",a)),ve.removeConnectorId(n),qn.resetChain(n),this.setUser(null,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(null,n),r!==!1&&nn.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(t=>{const n=this.getAdapter(t),r=this.getCaipAddress(t),s=this.getCaipNetwork(t);return n?.syncConnections({connectToFirstConnector:!r,caipNetwork:s})}))}async syncAdapterConnection(t){const n=this.getAdapter(t),r=this.getCaipNetwork(t),s=ve.getConnectorId(t),a=ve.getConnectors(t).find(c=>c.id===s);try{if(!n||!a)throw new Error(`Adapter or connector not found for namespace ${t}`);if(!r?.id)throw new Error("CaipNetwork not found");const c=await n?.syncConnection({namespace:t,id:a.id,chainId:r.id,rpcUrl:r?.rpcUrls?.default?.http?.[0]});c?(this.syncProvider({...c,chainNamespace:t}),await this.syncAccount({...c,chainNamespace:t}),this.setStatus("connected",t),Ot.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:c.address,properties:{method:"browser",name:a.info?.name||a.name||"Unknown",reconnect:!0,view:ut.state.view,walletRank:a?.explorerWallet?.order}})):this.setStatus("disconnected",t)}catch{this.onDisconnectNamespace({chainNamespace:t,closeModal:!1})}}async syncWalletConnectAccount(){const t=Object.keys(this.universalProvider?.session?.namespaces||{}),n=this.chainNamespaces.map(async r=>{const s=this.getAdapter(r);if(!s)return;const i=this.universalProvider?.session?.namespaces?.[r]?.accounts||[],a=V.state.activeCaipNetwork?.id,c=i.find(d=>{const{chainId:h}=zr.parseCaipAddress(d);return h===a?.toString()})||i[0];if(c){const d=zr.validateCaipAddress(c),{chainId:h,address:m}=zr.parseCaipAddress(d);if(qn.setProviderId(r,Us.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&V.state.activeCaipNetwork&&s.namespace!==ue.CHAIN.EVM){const g=s.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:V.state.activeCaipNetwork});qn.setProvider(r,g)}else qn.setProvider(r,this.universalProvider);ve.setConnectorId(ue.CONNECTOR_ID.WALLET_CONNECT,r),ye.addConnectedNamespace(r),await this.syncAccount({address:m,chainId:h,chainNamespace:r})}else t.includes(r)&&this.setStatus("disconnected",r);const u=this.getApprovedCaipNetworksData();this.syncConnectedWalletInfo(r),V.setApprovedCaipNetworksData(r,{approvedCaipNetworkIds:u.approvedCaipNetworkIds,supportsAllNetworks:u.supportsAllNetworks})});await Promise.all(n)}syncProvider({type:t,provider:n,id:r,chainNamespace:s}){qn.setProviderId(s,t),qn.setProvider(s,n),ve.setConnectorId(r,s)}async syncAccount(t){const n=t.chainNamespace===V.state.activeChain,r=V.getCaipNetworkByNamespace(t.chainNamespace,t.chainId),{address:s,chainId:i,chainNamespace:a}=t,{chainId:c}=ye.getActiveNetworkProps(),u=r?.id||c,d=V.state.activeCaipNetwork?.name===ue.UNSUPPORTED_NETWORK_NAME,h=V.getNetworkProp("supportsAllNetworks",a);if(this.setStatus("connected",a),!(d&&!h)&&u){let m=this.getCaipNetworks().find(E=>E.id.toString()===u.toString()),g=this.getCaipNetworks().find(E=>E.chainNamespace===a);if(!h&&!m&&!g){const E=this.getApprovedCaipNetworkIds()||[],A=E.find(k=>zr.parseCaipNetworkId(k)?.chainId===u.toString()),R=E.find(k=>zr.parseCaipNetworkId(k)?.chainNamespace===a);m=this.getCaipNetworks().find(k=>k.caipNetworkId===A),g=this.getCaipNetworks().find(k=>k.caipNetworkId===R||"deprecatedCaipNetworkId"in k&&k.deprecatedCaipNetworkId===R)}const w=m||g;w?.chainNamespace===V.state.activeChain?de.state.enableNetworkSwitch&&!de.state.allowUnsupportedChain&&V.state.activeCaipNetwork?.name===ue.UNSUPPORTED_NETWORK_NAME?V.showUnsupportedChainUI():this.setCaipNetwork(w):n||r&&this.setCaipNetworkOfNamespace(r,a),this.syncConnectedWalletInfo(a);const v=this.getAddress(a);zm.isLowerCaseMatch(s,v)||this.syncAccountInfo(s,w?.id,a),n?await this.syncBalance({address:s,chainId:w?.id,chainNamespace:a}):await this.syncBalance({address:s,chainId:r?.id,chainNamespace:a}),this.syncIdentity({address:s,chainId:i,chainNamespace:a})}}async syncAccountInfo(t,n,r){const s=this.getCaipAddress(r),i=n||s?.split(":")[1];if(!i)return;const a=`${r}:${i}:${t}`;this.setCaipAddress(a,r,!0),await this.syncIdentity({address:t,chainId:i,chainNamespace:r})}async syncReownName(t,n){try{const r=await this.getReownName(t);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(t){const n=ve.getConnectorId(t),r=qn.getProviderId(t);if(r===Us.CONNECTOR_TYPE_ANNOUNCED||r===Us.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(a=>{const c=a.id===n,u=a.info?.rdns===n,d=a.connectors?.some(h=>h.id===n||h.info?.rdns===n);return c||u||!!d});if(i){const{info:a,name:c,imageUrl:u}=i,d=u||this.getConnectorImage(i);this.setConnectedWalletInfo({name:c,icon:d,...a},t)}}}else if(r===Us.CONNECTOR_TYPE_WALLET_CONNECT){const s=qn.getProvider(t);s?.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:s.session.peer.metadata.icons?.[0]},t)}else if(n&&(n===ue.CONNECTOR_ID.COINBASE_SDK||n===ue.CONNECTOR_ID.COINBASE)){const s=this.getConnectors().find(u=>u.id===n),i=s?.name||"Coinbase Wallet",a=s?.imageUrl||this.getConnectorImage(s),c=s?.info;this.setConnectedWalletInfo({...c,name:i,icon:a},t)}}async syncBalance(t){!v9.getNetworksByNamespace(this.getCaipNetworks(),t.chainNamespace).find(r=>r.id.toString()===t.chainId?.toString())||!t.chainId||await this.updateNativeBalance(t.address,t.chainId,t.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(t,n,r){const s=this.getAdapter(r),i=V.getCaipNetworkByNamespace(r,n);if(s){const a=await s.getBalance({address:t,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(a.balance,a.symbol,r),a}}async initializeUniversalAdapter(){const t=rie.createLogger((s,...i)=>{s&&this.handleAlertError(s),console.error(...i)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:t};de.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await p1e.init(n);const r=this.universalProvider.disconnect.bind(this.universalProvider);this.universalProvider.disconnect=async()=>{try{return await r()}catch(s){if(s instanceof Error&&s.message.includes("Missing or invalid. Record was recently deleted"))return;throw s}},de.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(t=>{ou.listenWcProvider({universalProvider:this.universalProvider,namespace:t,onDisplayUri:n=>{Ie.setUri(n)},onConnect:n=>{const{address:r}=Re.getAccount(n[0]);Ie.finalizeWcConnection(r)},onDisconnect:()=>{V.state.noAdapters&&this.resetAccount(t),Ie.resetWcConnection()},onChainChanged:n=>{const r=V.state.activeChain,s=r&&ve.state.activeConnectorIds[r]===ue.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(V.state.noAdapters||s)){const i=this.getCaipNetworks().find(c=>c.id.toString()===n.toString()||c.caipNetworkId.toString()===n.toString()),a=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(n);return}a?.id.toString()!==i?.id.toString()&&a?.chainNamespace===i?.chainNamespace&&this.setCaipNetwork(i)}},onAccountsChanged:n=>{const r=V.state.activeChain,s=r&&ve.state.activeConnectorIds[r]===ue.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(V.state.noAdapters||s)){const i=n?.[0];i&&this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&Re.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(t){Ot.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:t instanceof Error?t.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",t)}return this.universalProvider}getDisabledCaipNetworks(){const t=V.getAllApprovedCaipNetworkIds(),n=V.getAllRequestedCaipNetworks();return Re.sortRequestedNetworks(t,n).filter(s=>V.isCaipNetworkDisabled(s))}handleAlertError(t){const n=Object.entries(vs.UniversalProviderErrors).find(([,{message:c}])=>t.message.includes(c)),[r,s]=n??[],{message:i,alertErrorKey:a}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const c=vs.ALERT_ERRORS[a];c&&(Es.open(c,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(t){if(t)return this.chainAdapters?.[t]}createAdapter(t){if(!t)return;const n=t.namespace;if(!n)return;this.createClients();const r=t;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:s})=>s===n)}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(t){await this.injectModalUi(),t?.uri&&Ie.setUri(t.uri);const{isSwap:n,isSend:r}=this.toModalOptions();return n(t)?nn.open({...t,data:{swap:t.arguments}}):r(t)&&t.arguments?this.openSend(t.arguments):nn.open(t)}async close(){await this.injectModalUi(),nn.close()}setLoading(t,n){nn.setLoading(t,n)}async disconnect(t){await Ie.disconnect({namespace:t})}getSIWX(){return de.state.siwx}getError(){return""}getChainId(){return V.state.activeCaipNetwork?.id}async switchNetwork(t,{throwOnFailure:n=!1}={}){const r=this.getCaipNetworks().find(s=>s.id===t.id);if(!r){Es.open(vs.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await V.switchActiveNetwork(r,{throwOnFailure:n})}getWalletProvider(){return V.state.activeChain?qn.state.providers[V.state.activeChain]:null}getWalletProviderType(){return qn.getProviderId(V.state.activeChain)}subscribeProviders(t){return qn.subscribeProviders(t)}getThemeMode(){return si.state.themeMode}getThemeVariables(){return si.state.themeVariables}setThemeMode(t){si.setThemeMode(t),yN(si.state.themeMode)}setTermsConditionsUrl(t){de.setTermsConditionsUrl(t)}setPrivacyPolicyUrl(t){de.setPrivacyPolicyUrl(t)}setThemeVariables(t){si.setThemeVariables(t),W1e(si.state.themeVariables)}subscribeTheme(t){return si.subscribe(t)}subscribeConnections(t){return this.remoteFeatures.multiWallet?Ie.subscribe(t):(Es.open(ue.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(t){return t?V.state.chains.get(t)?.accountState?.connectedWalletInfo:V.getAccountData()?.connectedWalletInfo}getAccount(t){const n=t||V.state.activeChain,r=ve.getAuthConnector(n),s=V.getAccountData(n),i=ye.getConnectedConnectorId(V.state.activeChain),a=Ie.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const c=a.flatMap(u=>u.accounts.map(({address:d,type:h,publicKey:m})=>Re.createAccount(n,d,h||"eoa",m)));if(s)return{allAccounts:c,caipAddress:s.caipAddress,address:Re.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r&&i===ue.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:ye.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:Fi(n),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(t,n){const r=()=>{const s=this.getAccount(n);s&&t(s)};n?V.subscribeChainProp("accountState",r,n):V.subscribe(r),ve.subscribe(r)}subscribeNetwork(t){return V.subscribe(({activeCaipNetwork:n})=>{t({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(t,n){return n?V.subscribeChainProp("accountState",r=>t(r?.connectedWalletInfo),n):V.subscribeChainProp("accountState",r=>t(r?.connectedWalletInfo))}subscribeShouldUpdateToAddress(t){V.subscribeChainProp("accountState",n=>t(n?.shouldUpdateToAddress))}subscribeCaipNetworkChange(t){V.subscribeKey("activeCaipNetwork",t)}getState(){return ji.state}getRemoteFeatures(){return de.state.remoteFeatures}subscribeState(t){return ji.subscribe(t)}subscribeRemoteFeatures(t){return de.subscribeKey("remoteFeatures",t)}showErrorMessage(t){vo.showError(t)}showSuccessMessage(t){vo.showSuccess(t)}getEvent(){return{...Ot.state}}subscribeEvents(t){return Ot.subscribe(t)}replace(t){ut.replace(t)}redirect(t){ut.push(t)}popTransactionStack(t){ut.popTransactionStack(t)}isOpen(){return nn.state.open}isTransactionStackEmpty(){return ut.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(t){de.setFeatures(t)}updateRemoteFeatures(t){de.setRemoteFeatures(t)}updateOptions(t){const r={...de.state||{},...t};de.setOptions(r)}setConnectMethodsOrder(t){de.setConnectMethodsOrder(t)}setWalletFeaturesOrder(t){de.setWalletFeaturesOrder(t)}setCollapseWallets(t){de.setCollapseWallets(t)}setSocialsOrder(t){de.setSocialsOrder(t)}getConnectMethodsOrder(){return Ql.getConnectOrderMethod(de.state.features,ve.getConnectors())}addNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||V.addNetwork(r)}removeNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&V.removeNetwork(t,n)}}let X4=!1;class Z1e extends Y1e{async onAuthProviderConnected(t){const n=zm.userChainIdToChainNamespace(t?.chainId);if(t.message&&t.signature&&t.siwxMessage&&await ya.addEmbeddedWalletSession({chainId:t.siwxMessage.chainId,accountAddress:t.address,notBefore:t.siwxMessage.notBefore,statement:t.siwxMessage.statement,resources:t.siwxMessage.resources,requestId:t.siwxMessage.requestId,issuedAt:t.siwxMessage.issuedAt,domain:t.siwxMessage.domain,uri:t.siwxMessage.uri,version:t.siwxMessage.version,nonce:t.siwxMessage.nonce},t.message,t.signature),!n)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const r=n===ue.CHAIN.EVM?`eip155:${t.chainId}:${t.address}`:`${t.chainId}:${t.address}`,s=de.state.defaultAccountTypes[n],i=Fi(n),a=t.preferredAccountType||i||s;this.setCaipAddress(r,n);const{signature:c,siwxMessage:u,message:d,...h}=t,m=V.getAccountData(n);this.setUser({...m?.user||{},...h},n),this.setSmartAccountDeployed(!!t.smartAccountDeployed,n),this.setPreferredAccountType(a,n),await Promise.all([this.syncAuthConnectorTheme(this.authProvider),this.syncAccount({address:t.address,chainId:t.chainId,chainNamespace:n})]),this.setLoading(!1,n)}setupAuthConnectorListeners(t){t.onRpcRequest(n=>{Bi.checkIfRequestExists(n)?Bi.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(wr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(wr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),t.rejectRpcRequests())}),t.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),t.onRpcSuccess((n,r)=>{const s=Bi.checkIfRequestIsSafe(r),i=this.getAddress(),a=V.state.activeCaipNetwork;s||(i&&a?.id&&this.updateNativeBalance(i,a.id,a.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),t.onNotConnected(()=>{const n=V.state.activeChain;if(!n)throw new Error("AppKit:onNotConnected - namespace is required");ve.getConnectorId(n)===ue.CONNECTOR_ID.AUTH&&(this.setCaipAddress(null,n),this.setLoading(!1,n))}),t.onConnect(this.onAuthProviderConnected.bind(this)),t.onSocialConnected(this.onAuthProviderConnected.bind(this)),t.onSetPreferredAccount(({address:n,type:r})=>{const s=V.state.activeChain;if(!s)throw new Error("AppKit:onSetPreferredAccount - namespace is required");n&&this.setPreferredAccountType(r,s)})}async syncAuthConnectorTheme(t){if(!t)return;const n=si.getSnapshot();await t.syncTheme({themeMode:n.themeMode,themeVariables:n.themeVariables,w3mThemeVariables:Sm(n.themeVariables,n.themeMode)})}async syncAuthConnector(t,n){const r=ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===V.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=t.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const a=t.getEmail(),c=t.getUsername(),u=V.getAccountData(n)?.user||{};this.setUser({...u,username:c,email:a},n),this.setupAuthConnectorListeners(t);const{isConnected:d}=await t.isConnected();if(n&&r&&s)if(d&&this.connectionControllerClient?.connectExternal){await t.init(),await this.syncAuthConnectorTheme(t),await this.connectionControllerClient?.connectExternal({id:ue.CONNECTOR_ID.AUTH,info:{name:ue.CONNECTOR_ID.AUTH},type:Us.CONNECTOR_TYPE_AUTH,provider:t,chainId:V.getNetworkData(n)?.caipNetwork?.id,chain:n}),this.setStatus("connected",n);const h=ye.getConnectedSocialProvider();h?Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:this.getAddress(),properties:{provider:h,reconnect:!0}}):Ot.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:this.getAddress(),properties:{method:"email",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0,view:ut.state.view,walletRank:void 0}})}else ve.getConnectorId(n)===ue.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),ye.removeConnectedNamespace(n));this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(t){try{if(!Re.isTelegram())return;const n=ye.getTelegramSocialProvider();if(!n||!Re.isClient())return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;n&&V.setAccountProp("socialProvider",n,t),await this.authProvider?.init();const i=ve.getAuthConnector();n&&i&&(this.setLoading(!0,t),await Ie.connectExternal({id:i.id,type:i.type,socialUri:s},i.chain),ye.setConnectedSocialProvider(n),ye.removeTelegramSocialProvider(),Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,t),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(t){if(!ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(t))return;const r=this.remoteFeatures?.email,s=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,i=r||s,c=zm.getActiveNamespaceConnectedToAuth()||t;!this.authProvider&&this.options?.projectId&&i&&(this.authProvider=iie.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(c)?.caipNetworkId,abortController:vs.EmbeddedWalletAbortController,onTimeout:d=>{d==="iframe_load_failed"?Es.open(vs.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):d==="iframe_request_timeout"?Es.open(vs.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):d==="unverified_domain"&&Es.open(vs.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:d=>X0(d),getCaipNetworks:d=>V.getCaipNetworks(d)}),ji.subscribeOpen(d=>{!d&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));const u=t===V.state.activeChain&&de.state.enableReconnect;de.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&u&&(this.syncAuthConnector(this.authProvider,t),this.checkExistingTelegramSocialConnection(t))}createAuthProviderForAdapter(t){this.createAuthProvider(t),this.authProvider&&this.chainAdapters?.[t]?.setAuthProvider?.(this.authProvider)}initControllers(t){super.initControllers(t),this.options.excludeWalletIds&&Le.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(t){if(!t)return;const n=V.state.activeChain,r=t.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&V.getAccountData(r)?.caipAddress)await this.getAdapter(r)?.switchNetwork({caipNetwork:t}),this.setCaipNetwork(t);else{const c=qn.getProviderId(n)===Us.CONNECTOR_TYPE_AUTH,u=qn.getProviderId(r),d=u===Us.CONNECTOR_TYPE_AUTH,h=ue.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!r)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((c&&u===void 0||d)&&h)try{V.state.activeChain=t.chainNamespace,s?await this.getAdapter(r)?.switchNetwork({caipNetwork:t}):await this.connectionControllerClient?.connectExternal?.({id:ue.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:t.id,type:Us.CONNECTOR_TYPE_AUTH,caipNetwork:t}),this.setCaipNetwork(t)}catch{await this.getAdapter(r)?.switchNetwork({caipNetwork:t})}else u===Us.CONNECTOR_TYPE_WALLET_CONNECT?(V.state.noAdapters||await this.getAdapter(r)?.switchNetwork({caipNetwork:t}),this.setCaipNetwork(t),this.syncWalletConnectAccount()):(this.setCaipNetwork(t),s&&this.syncAccount({address:s,chainId:t.id,chainNamespace:r}))}}async initialize(t){await super.initialize(t),this.chainNamespaces?.forEach(n=>{this.createAuthProviderForAdapter(n)}),await this.injectModalUi(),ji.set({initialized:!0})}async syncIdentity({address:t,chainId:n,chainNamespace:r}){const s=`${r}:${n}`;if(this.caipNetworks?.find(c=>c.caipNetworkId===s)?.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}const a=ve.getConnectorId(r)===ue.CONNECTOR_ID.AUTH;try{const{name:c,avatar:u}=await this.fetchIdentity({address:t});!c&&a?await this.syncReownName(t,r):(this.setProfileName(c,r),this.setProfileImage(u,r))}catch{n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(t){const n=qn.getProviderId(t);if(n===Us.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=ye.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},t)}}else super.syncConnectedWalletInfo(t)}async injectModalUi(){if(Re.isClient()&&!X4)try{const t={...Vt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(t,n),Re.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!de.state.disableAppend&&!de.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}X4=!0}catch(t){console.error("Error injecting modal UI:",t)}}async loadModalComponents(t,n){if(!Re.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(ir(()=>import("./embedded-wallet-Djm_LLLR.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),n.email&&r.push(ir(()=>import("./email-DI9RyE3x.js"),__vite__mapDeps([17,4,18,15,8,14,6,7,13,19,11]))),n.socials&&r.push(ir(()=>import("./socials-Bmteaov1.js"),__vite__mapDeps([20,4,6,21,7,22,14,23,10,13,8,24,5,25]))),n.swaps&&n.swaps.length>0&&r.push(ir(()=>import("./swaps-BW_7-F1C.js"),__vite__mapDeps([26,4,13,8,14,6,27,28,29,25,30,5,11,7]))),t.send&&r.push(ir(()=>import("./send-DUY5ceie.js"),__vite__mapDeps([31,4,13,8,14,6,32,7,33,15,30,5,25,29,11,34,35]))),t.receive&&r.push(ir(()=>import("./receive-DUEmXCFR.js"),__vite__mapDeps([36,4,6,5,24]))),n.onramp&&n.onramp.length>0&&r.push(ir(()=>import("./onramp-DFgcB3oh.js"),__vite__mapDeps([37,4,6,38,8,21,7,5,39,40,15,13,14,23,11]))),n.payWithExchange&&r.push(ir(()=>import("./pay-with-exchange-aGg-155W.js"),__vite__mapDeps([41,4,6,5,12,38,8,25,13,33,7,15,42,14,11,34,32]))),n.activity&&r.push(ir(()=>import("./transactions-Dhp5CzHm.js"),__vite__mapDeps([43,4,44,14,6,15,5,25]))),(t.pay||n.payments)&&r.push(ir(()=>import("./index-DWsRtG6E.js"),__vite__mapDeps([45,4,6,13,8,46,12,5,38,47,32,48,14,23]))),n.emailCapture&&r.push(ir(()=>import("./data-capture-CHAso8r0.js"),__vite__mapDeps([49,4,18,15,8,50]))),await Promise.all([...r,ir(()=>import("./index-CYQtIsNI.js"),__vite__mapDeps([51,4,6,5,8,35,14,52,40,15,9,10,48,12,38,13,42,44,25,34,27,28,32,7,11,47,19,21,22,23,24,16,39])),ir(()=>import("./w3m-modal-BxdDK8Ou.js"),__vite__mapDeps([53,4,6,46,5,9,10,8,14,28,52,40,15,48,29,13]))])}}const X1e="1.8.15";function J1e(e){return new Z1e({...e,sdkVersion:Re.generateSdkVersion(e.adapters??[],"html",X1e)})}const J4=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Uxe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],_7=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],$xe=[..._7,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Dxe=[..._7,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Mxe=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Lxe=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Bxe=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Fxe=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],eu=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function yu(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new uwe(e.type);return`${e.name}(${fv(e.inputs,{includeName:t})})`}function fv(e,{includeName:t=!1}={}){return e?e.map(n=>Q1e(n,{includeName:t})).join(t?", ":","):""}function Q1e(e,{includeName:t}){return e.type.startsWith("tuple")?`(${fv(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function bu(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Hr(e){return bu(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const A7="2.41.2";let RS={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${A7}`},Ce=class bN extends Error{constructor(t,n={}){const r=n.cause instanceof bN?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof bN&&n.cause.docsPath||n.docsPath,i=RS.getDocsUrl?.({...n,docsPath:s}),a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...RS.version?[`Version: ${RS.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=A7}walk(t){return S7(this,t)}};function S7(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?S7(e.cause,t):t?null:e}class ewe extends Ce{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Q4 extends Ce{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class N7 extends Ce{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${fv(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class ST extends Ce{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class twe extends Ce{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class nwe extends Ce{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Hr(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class rwe extends Ce{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class jxe extends Ce{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class zxe extends Ce{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class T7 extends Ce{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class swe extends Ce{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class I7 extends Ce{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Hxe extends Ce{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class nE extends Ce{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class iwe extends Ce{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class qxe extends Ce{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class awe extends Ce{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${yu(t.abiItem)}\`, and`,`\`${n.type}\` in \`${yu(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Wxe extends Ce{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class wN extends Ce{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${fv(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class O7 extends Ce{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${yu(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class owe extends Ce{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class cwe extends Ce{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class lwe extends Ce{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class uwe extends Ce{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Vxe extends Ce{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class Hd extends Ce{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let R7=class extends Ce{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},x7=class extends Ce{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class eU extends Ce{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function wp(e,{dir:t,size:n=32}={}){return typeof e=="string"?lu(e,{dir:t,size:n}):dwe(e,{dir:t,size:n})}function lu(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new x7({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function dwe(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new x7({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let k7=class extends Ce{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class fwe extends Ce{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class hwe extends Ce{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let pwe=class extends Ce{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Id(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Oa(e,{size:t}){if(Hr(e)>t)throw new pwe({givenSize:Hr(e),maxSize:t})}function ep(e,t={}){const{signed:n}=t;t.size&&Oa(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Xxe(e,t={}){let n=e;if(t.size&&(Oa(n,{size:t.size}),n=Id(n)),Id(n)==="0x00")return!1;if(Id(n)==="0x01")return!0;throw new hwe(n)}function qd(e,t={}){return Number(ep(e,t))}function mwe(e,t={}){let n=ko(e);return t.size&&(Oa(n,{size:t.size}),n=Id(n,{dir:"right"})),new TextDecoder().decode(n)}const gwe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rE(e,t={}){return typeof e=="number"||typeof e=="bigint"?Kt(e,t):typeof e=="string"?hv(e,t):typeof e=="boolean"?P7(e,t):mi(e,t)}function P7(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Oa(n,{size:t.size}),wp(n,{size:t.size})):n}function mi(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=gwe[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Oa(r,{size:t.size}),wp(r,{dir:"right",size:t.size})):r}function Kt(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const u=typeof e=="bigint"?"n":"";throw new k7({max:i?`${i}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?wp(c,{size:r}):c}const ywe=new TextEncoder;function hv(e,t={}){const n=ywe.encode(e);return mi(n,t)}const bwe=new TextEncoder;function pv(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ewe(e,t):typeof e=="boolean"?wwe(e,t):bu(e)?ko(e,t):U7(e,t)}function wwe(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Oa(n,{size:t.size}),wp(n,{size:t.size})):n}const fc={zero:48,nine:57,A:65,F:70,a:97,f:102};function tU(e){if(e>=fc.zero&&e<=fc.nine)return e-fc.zero;if(e>=fc.A&&e<=fc.F)return e-(fc.A-10);if(e>=fc.a&&e<=fc.f)return e-(fc.a-10)}function ko(e,t={}){let n=e;t.size&&(Oa(n,{size:t.size}),n=wp(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const u=tU(r.charCodeAt(c++)),d=tU(r.charCodeAt(c++));if(u===void 0||d===void 0)throw new Ce(`Invalid byte sequence ("${r[c-2]}${r[c-1]}" in "${r}").`);i[a]=u*16+d}return i}function Ewe(e,t){const n=Kt(e,t);return ko(n)}function U7(e,t={}){const n=bwe.encode(e);return typeof t.size=="number"?(Oa(n,{size:t.size}),wp(n,{dir:"right",size:t.size})):n}const p1=BigInt(2**32-1),nU=BigInt(32);function vwe(e,t=!1){return t?{h:Number(e&p1),l:Number(e>>nU&p1)}:{h:Number(e>>nU&p1)|0,l:Number(e&p1)|0}}function Cwe(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:a,l:c}=vwe(e[i],t);[r[i],s[i]]=[a,c]}return[r,s]}const _we=(e,t,n)=>e<<n|t>>>32-n,Awe=(e,t,n)=>t<<n|e>>>32-n,Swe=(e,t,n)=>t<<n-32|e>>>64-n,Nwe=(e,t,n)=>e<<n-32|t>>>64-n,uh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Twe(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function sE(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function tp(e,...t){if(!Twe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Jxe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");sE(e.outputLen),sE(e.blockLen)}function iE(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function $7(e,t){tp(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Iwe(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Zm(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function xS(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function mo(e,t){return e<<32-t|e>>>t}const Owe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Rwe(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function xwe(e){for(let t=0;t<e.length;t++)e[t]=Rwe(e[t]);return e}const rU=Owe?e=>e:xwe;function kwe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function NT(e){return typeof e=="string"&&(e=kwe(e)),tp(e),e}function Qxe(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];tp(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class D7{}function M7(e){const t=r=>e().update(NT(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function e3e(e=32){if(uh&&typeof uh.getRandomValues=="function")return uh.getRandomValues(new Uint8Array(e));if(uh&&typeof uh.randomBytes=="function")return Uint8Array.from(uh.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Pwe=BigInt(0),B0=BigInt(1),Uwe=BigInt(2),$we=BigInt(7),Dwe=BigInt(256),Mwe=BigInt(113),L7=[],B7=[],F7=[];for(let e=0,t=B0,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],L7.push(2*(5*r+n)),B7.push((e+1)*(e+2)/2%64);let s=Pwe;for(let i=0;i<7;i++)t=(t<<B0^(t>>$we)*Mwe)%Dwe,t&Uwe&&(s^=B0<<(B0<<BigInt(i))-B0);F7.push(s)}const j7=Cwe(F7,!0),Lwe=j7[0],Bwe=j7[1],sU=(e,t,n)=>n>32?Swe(e,t,n):_we(e,t,n),iU=(e,t,n)=>n>32?Nwe(e,t,n):Awe(e,t,n);function Fwe(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],m=sU(d,h,1)^n[c],g=iU(d,h,1)^n[c+1];for(let w=0;w<50;w+=10)e[a+w]^=m,e[a+w+1]^=g}let s=e[2],i=e[3];for(let a=0;a<24;a++){const c=B7[a],u=sU(s,i,c),d=iU(s,i,c),h=L7[a];s=e[h],i=e[h+1],e[h]=u,e[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=e[a+c];for(let c=0;c<10;c++)e[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=Lwe[r],e[1]^=Bwe[r]}Zm(n)}class TT extends D7{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,sE(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Iwe(this.state)}clone(){return this._cloneInto()}keccak(){rU(this.state32),Fwe(this.state32,this.rounds),rU(this.state32),this.posOut=0,this.pos=0}update(t){iE(this),t=NT(t),tp(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let c=0;c<a;c++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){iE(this,!1),tp(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return sE(t),this.xofInto(new Uint8Array(t))}digestInto(t){if($7(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Zm(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return t||(t=new TT(n,r,s,a,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=a,t.destroyed=this.destroyed,t}}const jwe=(e,t,n)=>M7(()=>new TT(t,e,n)),zwe=jwe(1,136,256/8);function Qg(e,t){const n=t||"hex",r=zwe(bu(e,{strict:!1})?pv(e):e);return n==="bytes"?r:rE(r)}class ey extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Hwe=/^0x[a-fA-F0-9]{40}$/,kS=new ey(8192);function Po(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(kS.has(r))return kS.get(r);const s=Hwe.test(e)?e.toLowerCase()===e?!0:n?ty(e)===e:!0:!1;return kS.set(r,s),s}const PS=new ey(8192);function ty(e,t){if(PS.has(`${e}.${t}`))return PS.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=Qg(U7(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const i=`0x${s.join("")}`;return PS.set(`${e}.${t}`,i),i}function vd(e,t){if(!Po(e,{strict:!1}))throw new Hd({address:e});return ty(e,t)}class aU extends Ce{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class z7 extends Ce{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class qwe extends Ce{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Wwe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new qwe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new z7({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new aU({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new aU({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function IT(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Wwe);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function aE(e,t,n,{strict:r}={}){return bu(e,{strict:!1})?Vwe(e,t,n,{strict:r}):W7(e,t,n,{strict:r})}function H7(e,t){if(typeof t=="number"&&t>0&&t>Hr(e)-1)throw new R7({offset:t,position:"start",size:Hr(e)})}function q7(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Hr(e)!==n-t)throw new R7({offset:n,position:"end",size:Hr(e)})}function W7(e,t,n,{strict:r}={}){H7(e,t);const s=e.slice(t,n);return r&&q7(s,t,n),s}function Vwe(e,t,n,{strict:r}={}){H7(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&q7(s,t,n),s}function Gwe(e,t={}){typeof t.size<"u"&&Oa(e,{size:t.size});const n=mi(e,t);return ep(n,t)}function Kwe(e,t={}){let n=e;if(typeof t.size<"u"&&(Oa(n,{size:t.size}),n=Id(n)),n.length>1||n[0]>1)throw new fwe(n);return!!n[0]}function Bc(e,t={}){typeof t.size<"u"&&Oa(e,{size:t.size});const n=mi(e,t);return qd(n,t)}function Ywe(e,t={}){let n=e;return typeof t.size<"u"&&(Oa(n,{size:t.size}),n=Id(n,{dir:"right"})),new TextDecoder().decode(n)}function np(e){return typeof e[0]=="string"?mv(e):Zwe(e)}function Zwe(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function mv(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const t3e=/^(.*)\[([0-9]*)\]$/,n3e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Xwe=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function V7(e,t){if(e.length!==t.length)throw new rwe({expectedLength:e.length,givenLength:t.length});const n=Jwe({params:e,values:t}),r=RT(n);return r.length===0?"0x":r}function Jwe({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(OT({param:e[r],value:t[r]}));return n}function OT({param:e,value:t}){const n=xT(e.type);if(n){const[r,s]=n;return eEe(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return iEe(t,{param:e});if(e.type==="address")return Qwe(t);if(e.type==="bool")return nEe(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Xwe.exec(e.type)??[];return rEe(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return tEe(t,{param:e});if(e.type==="string")return sEe(t);throw new owe(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function RT(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:a,encoded:c}=e[i];a?t+=32:t+=Hr(c)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:a,encoded:c}=e[i];a?(n.push(Kt(t+s,{size:32})),r.push(c),s+=Hr(c)):n.push(c)}return np([...n,...r])}function Qwe(e){if(!Po(e))throw new Hd({address:e});return{dynamic:!1,encoded:lu(e.toLowerCase())}}function eEe(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new lwe(e);if(!r&&e.length!==t)throw new twe({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let a=0;a<e.length;a++){const c=OT({param:n,value:e[a]});c.dynamic&&(s=!0),i.push(c)}if(r||s){const a=RT(i);if(r){const c=Kt(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?np([c,a]):c}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:np(i.map(({encoded:a})=>a))}}function tEe(e,{param:t}){const[,n]=t.type.split("bytes"),r=Hr(e);if(!n){let s=e;return r%32!==0&&(s=lu(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:np([lu(Kt(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new nwe({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:lu(e,{dir:"right"})}}function nEe(e){if(typeof e!="boolean")throw new Ce(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:lu(P7(e))}}function rEe(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new k7({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Kt(e,{size:32,signed:t})}}function sEe(e){const t=hv(e),n=Math.ceil(Hr(t)/32),r=[];for(let s=0;s<n;s++)r.push(lu(aE(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:np([lu(Kt(Hr(t),{size:32})),...r])}}function iEe(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],a=Array.isArray(e)?s:i.name,c=OT({param:i,value:e[a]});r.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?RT(r):np(r.map(({encoded:s})=>s))}}function xT(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function gv(e,t){const n=typeof t=="string"?ko(t):t,r=IT(n);if(Hr(n)===0&&e.length>0)throw new ST;if(Hr(t)&&Hr(t)<32)throw new N7({data:typeof t=="string"?t:mi(t),params:e,size:Hr(t)});let s=0;const i=[];for(let a=0;a<e.length;++a){const c=e[a];r.setPosition(s);const[u,d]=Uh(r,c,{staticPosition:0});s+=d,i.push(u)}return i}function Uh(e,t,{staticPosition:n}){const r=xT(t.type);if(r){const[s,i]=r;return oEe(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return dEe(e,t,{staticPosition:n});if(t.type==="address")return aEe(e);if(t.type==="bool")return cEe(e);if(t.type.startsWith("bytes"))return lEe(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return uEe(e,t);if(t.type==="string")return fEe(e,{staticPosition:n});throw new cwe(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const oU=32,EN=32;function aEe(e){const t=e.readBytes(32);return[ty(mi(W7(t,-20))),32]}function oEe(e,t,{length:n,staticPosition:r}){if(!n){const a=Bc(e.readBytes(EN)),c=r+a,u=c+oU;e.setPosition(c);const d=Bc(e.readBytes(oU)),h=Xm(t);let m=0;const g=[];for(let w=0;w<d;++w){e.setPosition(u+(h?w*32:m));const[v,E]=Uh(e,t,{staticPosition:u});m+=E,g.push(v)}return e.setPosition(r+32),[g,32]}if(Xm(t)){const a=Bc(e.readBytes(EN)),c=r+a,u=[];for(let d=0;d<n;++d){e.setPosition(c+d*32);const[h]=Uh(e,t,{staticPosition:c});u.push(h)}return e.setPosition(r+32),[u,32]}let s=0;const i=[];for(let a=0;a<n;++a){const[c,u]=Uh(e,t,{staticPosition:r+s});s+=u,i.push(c)}return[i,s]}function cEe(e){return[Kwe(e.readBytes(32),{size:32}),32]}function lEe(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const a=Bc(e.readBytes(32));e.setPosition(n+a);const c=Bc(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const u=e.readBytes(c);return e.setPosition(n+32),[mi(u),32]}return[mi(e.readBytes(Number.parseInt(s,10),32)),32]}function uEe(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Gwe(s,{signed:n}):Bc(s,{signed:n}),32]}function dEe(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),s=r?[]:{};let i=0;if(Xm(t)){const a=Bc(e.readBytes(EN)),c=n+a;for(let u=0;u<t.components.length;++u){const d=t.components[u];e.setPosition(c+i);const[h,m]=Uh(e,d,{staticPosition:c});i+=m,s[r?u:d?.name]=h}return e.setPosition(n+32),[s,32]}for(let a=0;a<t.components.length;++a){const c=t.components[a],[u,d]=Uh(e,c,{staticPosition:n});s[r?a:c?.name]=u,i+=d}return[s,i]}function fEe(e,{staticPosition:t}){const n=Bc(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Bc(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),a=Ywe(Id(i));return e.setPosition(t+32),[a,32]}function Xm(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Xm);const n=xT(e.type);return!!(n&&Xm({...e,type:n[1]}))}const hEe=e=>Qg(pv(e));function pEe(e){return hEe(e)}const mEe="1.1.0";let wi=class vN extends Error{constructor(t,n={}){const r=n.cause instanceof vN?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof vN&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${mEe}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Gc(e,t){return e.exec(t)?.groups}const G7=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,K7=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Y7=/^\(.+?\).*?$/,cU=/^tuple(?<array>(\[(\d*)\])*)$/;function CN(e){let t=e.type;if(cU.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=CN(i),s<n-1&&(t+=", ")}const r=Gc(cU,e.type);return t+=`)${r?.array??""}`,CN({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function F0(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=CN(s),r!==n-1&&(t+=", ")}return t}function gEe(e){return e.type==="function"?`function ${e.name}(${F0(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${F0(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${F0(e.inputs)})`:e.type==="error"?`error ${e.name}(${F0(e.inputs)})`:e.type==="constructor"?`constructor(${F0(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Z7=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function yEe(e){return Z7.test(e)}function bEe(e){return Gc(Z7,e)}const X7=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function wEe(e){return X7.test(e)}function EEe(e){return Gc(X7,e)}const J7=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function vEe(e){return J7.test(e)}function CEe(e){return Gc(J7,e)}const Q7=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function eF(e){return Q7.test(e)}function _Ee(e){return Gc(Q7,e)}const tF=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function AEe(e){return tF.test(e)}function SEe(e){return Gc(tF,e)}const nF=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function NEe(e){return nF.test(e)}function TEe(e){return Gc(nF,e)}const IEe=/^receive\(\) external payable$/;function OEe(e){return IEe.test(e)}const r3e=new Set(["memory","indexed","storage","calldata"]),REe=new Set(["indexed"]),_N=new Set(["calldata","memory","storage"]);class s3e extends wi{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class xEe extends wi{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class kEe extends wi{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class i3e extends wi{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class PEe extends wi{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class UEe extends wi{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class $Ee extends wi{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class DEe extends wi{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class MEe extends wi{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ep extends wi{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class LEe extends wi{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class BEe extends wi{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class FEe extends wi{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class jEe extends wi{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function zEe(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const a of s[1])i+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const US=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function HEe(e,t={}){if(vEe(e))return qEe(e,t);if(wEe(e))return WEe(e,t);if(yEe(e))return VEe(e,t);if(AEe(e))return GEe(e,t);if(NEe(e))return KEe(e);if(OEe(e))return{type:"receive",stateMutability:"payable"};throw new LEe({signature:e})}function qEe(e,t={}){const n=CEe(e);if(!n)throw new Ep({signature:e,type:"function"});const r=Va(n.parameters),s=[],i=r.length;for(let c=0;c<i;c++)s.push(Wd(r[c],{modifiers:_N,structs:t,type:"function"}));const a=[];if(n.returns){const c=Va(n.returns),u=c.length;for(let d=0;d<u;d++)a.push(Wd(c[d],{modifiers:_N,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:a}}function WEe(e,t={}){const n=EEe(e);if(!n)throw new Ep({signature:e,type:"event"});const r=Va(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Wd(r[a],{modifiers:REe,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function VEe(e,t={}){const n=bEe(e);if(!n)throw new Ep({signature:e,type:"error"});const r=Va(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Wd(r[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function GEe(e,t={}){const n=SEe(e);if(!n)throw new Ep({signature:e,type:"constructor"});const r=Va(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Wd(r[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function KEe(e){const t=TEe(e);if(!t)throw new Ep({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const YEe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ZEe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,XEe=/^u?int$/;function Wd(e,t){const n=zEe(e,t?.type,t?.structs);if(US.has(n))return US.get(n);const r=Y7.test(e),s=Gc(r?ZEe:YEe,e);if(!s)throw new PEe({param:e});if(s.name&&QEe(s.name))throw new UEe({param:e,name:s.name});const i=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},c=t?.structs??{};let u,d={};if(r){u="tuple";const m=Va(s.type),g=[],w=m.length;for(let v=0;v<w;v++)g.push(Wd(m[v],{structs:c}));d={components:g}}else if(s.type in c)u="tuple",d={components:c[s.type]};else if(XEe.test(s.type))u=`${s.type}256`;else if(s.type==="address payable")u="address";else if(u=s.type,t?.type!=="struct"&&!rF(u))throw new kEe({type:u});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new $Ee({param:e,type:t?.type,modifier:s.modifier});if(_N.has(s.modifier)&&!eve(u,!!s.array))throw new DEe({param:e,type:t?.type,modifier:s.modifier})}const h={type:`${u}${s.array??""}`,...i,...a,...d};return US.set(n,h),h}function Va(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const a=e[i],c=e.slice(i+1);switch(a){case",":return r===0?Va(c,[...t,n.trim()]):Va(c,t,`${n}${a}`,r);case"(":return Va(c,t,`${n}${a}`,r+1);case")":return Va(c,t,`${n}${a}`,r-1);default:return Va(c,t,`${n}${a}`,r)}}if(n==="")return t;if(r!==0)throw new jEe({current:n,depth:r});return t.push(n.trim()),t}function rF(e){return e==="address"||e==="bool"||e==="function"||e==="string"||G7.test(e)||K7.test(e)}const JEe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function QEe(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||G7.test(e)||K7.test(e)||JEe.test(e)}function eve(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function tve(e){const t={},n=e.length;for(let a=0;a<n;a++){const c=e[a];if(!eF(c))continue;const u=_Ee(c);if(!u)throw new Ep({signature:c,type:"struct"});const d=u.properties.split(";"),h=[],m=d.length;for(let g=0;g<m;g++){const v=d[g].trim();if(!v)continue;const E=Wd(v,{type:"struct"});h.push(E)}if(!h.length)throw new BEe({signature:c});t[u.name]=h}const r={},s=Object.entries(t),i=s.length;for(let a=0;a<i;a++){const[c,u]=s[a];r[c]=sF(u,t)}return r}const nve=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function sF(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const a=e[i];if(Y7.test(a.type))r.push(a);else{const u=Gc(nve,a.type);if(!u?.type)throw new MEe({abiParameter:a});const{array:d,type:h}=u;if(h in t){if(n.has(h))throw new FEe({type:h});r.push({...a,type:`tuple${d??""}`,components:sF(t[h]??[],t,new Set([...n,h]))})}else if(rF(h))r.push(a);else throw new xEe({type:h})}}return r}function iF(e){const t=tve(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];eF(i)||n.push(HEe(i,t))}return n}function rve(e){let t=!0,n="",r=0,s="",i=!1;for(let a=0;a<e.length;a++){const c=e[a];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function",""].includes(s))s="";else if(s+=c,c===")"){i=!0;break}continue}if(c===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!i)throw new Ce("Unable to normalize signature.");return s}const sve=e=>{const t=typeof e=="string"?e:gEe(e);return rve(t)};function aF(e){return pEe(sve(e))}const kT=aF,PT=e=>aE(aF(e),0,4);function UT(e){const{abi:t,args:n=[],name:r}=e,s=bu(r,{strict:!1}),i=t.filter(c=>s?c.type==="function"?PT(c)===r:c.type==="event"?kT(c)===r:!1:"name"in c&&c.name===r);if(i.length===0)return;if(i.length===1)return i[0];let a;for(const c of i){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return c;continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((d,h)=>{const m="inputs"in c&&c.inputs[h];return m?AN(d,m):!1})){if(a&&"inputs"in a&&a.inputs){const d=oF(c.inputs,a.inputs,n);if(d)throw new awe({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}return a||i[0]}function AN(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Po(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>AN(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>AN(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function oF(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return oF(s.components,i.components,n[r]);const a=[s.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Po(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?Po(n[r],{strict:!1}):!1)return a}}const $S="/docs/contract/decodeFunctionResult";function ive(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const c=UT({abi:t,args:n,name:r});if(!c)throw new nE(r,{docsPath:$S});i=c}if(i.type!=="function")throw new nE(void 0,{docsPath:$S});if(!i.outputs)throw new iwe(i.name,{docsPath:$S});const a=gv(i.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const lU="/docs/contract/encodeFunctionData";function ave(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=UT({abi:t,args:n,name:r});if(!i)throw new nE(r,{docsPath:lU});s=i}if(s.type!=="function")throw new nE(void 0,{docsPath:lU});return{abi:[s],functionName:PT(yu(s))}}function cF(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:ave(e),s=n[0],i=r,a="inputs"in s&&s.inputs?V7(s.inputs,t??[]):void 0;return mv([i,a??"0x"])}class SN extends Ce{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ove extends Ce{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class cve extends Ce{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class lF extends Ce{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class a3e extends Ce{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function lve({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new SN({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new SN({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Sa(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const uve={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},dve={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},fve={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function hve(e){const{abi:t,data:n}=e,r=aE(n,0,4);if(r==="0x")throw new ST;const i=[...t||[],dve,fve].find(a=>a.type==="error"&&r===PT(yu(a)));if(!i)throw new T7(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?gv(i.inputs,aE(n,4)):void 0,errorName:i.name}}const Ca=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function uF({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?Ca(t[i]):t[i]}`).join(", ")})`}const pve={gwei:9,wei:18},mve={ether:-9,wei:9};function of(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function $T(e,t="wei"){return of(e,pve[t])}function fi(e,t="wei"){return of(e,mve[t])}class gve extends Ce{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class yve extends Ce{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function uU(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function bve(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=uU(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=uU(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function ny(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class o3e extends Ce{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class wve extends Ce{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ny(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class c3e extends Ce{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Eve extends Ce{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:m,value:g}){const w=ny({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:m,value:typeof g<"u"&&`${$T(g)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof c<"u"&&`${fi(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${fi(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${fi(d)} gwei`,nonce:h});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",w].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class dF extends Ce{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let a="Transaction";r&&i!==void 0&&(a=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(a=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(a=`Transaction at block number "${n}" at index "${i}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class fF extends Ce{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class l3e extends Ce{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class vve extends Ce{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Cve=e=>e,DT=e=>e;class _ve extends Ce{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:m,value:g,stateOverride:w}){const v=n?Sa(n):void 0;let E=ny({from:v?.address,to:m,value:typeof g<"u"&&`${$T(g)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof c<"u"&&`${fi(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${fi(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${fi(d)} gwei`,nonce:h});w&&(E+=`
${bve(w)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",E].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Ave extends Ce{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:a,sender:c}){const u=UT({abi:n,args:r,name:a}),d=u?uF({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,h=u?yu(u,{includeName:!0}):void 0,m=ny({address:s&&Cve(s),function:h,args:d&&d!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],m&&"Contract Call:",m].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=a,this.sender=c}}class Sve extends Ce{constructor({abi:t,data:n,functionName:r,message:s}){let i,a,c,u;if(n&&n!=="0x")try{a=hve({abi:t,data:n});const{abiItem:h,errorName:m,args:g}=a;if(m==="Error")u=g[0];else if(m==="Panic"){const[w]=g;u=uve[w]}else{const w=h?yu(h,{includeName:!0}):void 0,v=h&&g?uF({abiItem:h,args:g,includeFunctionName:!1,includeName:!1}):void 0;c=[w?`Error: ${w}`:"",v&&v!=="()"?`       ${[...Array(m?.length??0).keys()].map(()=>" ").join("")}${v}`:""]}}catch(h){i=h}else s&&(u=s);let d;i instanceof T7&&(d=i.signature,c=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(u&&u!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,u||d].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=u,this.signature=d}}class Nve extends Ce{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Tve extends Ce{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class hF extends Ce{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function Kn(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}class hm extends Ce{constructor({body:t,cause:n,details:r,headers:s,status:i,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${DT(a)}`,t&&`Request body: ${Ca(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=a}}class MT extends Ce{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${DT(r)}`,`Request body: ${Ca(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class dU extends Ce{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${DT(n)}`,`Request body: ${Ca(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const Ive=-1;class Ei extends Ce{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:a}){super(a,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof MT?t.code:n??Ive}}let Vi=class extends Ei{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}};class Jm extends Ei{constructor(t){super(t,{code:Jm.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Jm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Qm extends Ei{constructor(t){super(t,{code:Qm.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Qm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class eg extends Ei{constructor(t,{method:n}={}){super(t,{code:eg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class tg extends Ei{constructor(t){super(t,{code:tg.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Vd extends Ei{constructor(t){super(t,{code:Vd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Vd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class rp extends Ei{constructor(t){super(t,{code:rp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(rp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ng extends Ei{constructor(t){super(t,{code:ng.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class uu extends Ei{constructor(t){super(t,{code:uu.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(uu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class sp extends Ei{constructor(t){super(t,{code:sp.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(sp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Cd extends Ei{constructor(t,{method:n}={}){super(t,{code:Cd.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Cd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ip extends Ei{constructor(t){super(t,{code:ip.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(ip,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class rg extends Ei{constructor(t){super(t,{code:rg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let Br=class pF extends Vi{constructor(t){super(t,{code:pF.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(Br,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class sg extends Vi{constructor(t){super(t,{code:sg.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ig extends Vi{constructor(t,{method:n}={}){super(t,{code:ig.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(ig,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ag extends Vi{constructor(t){super(t,{code:ag.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ag,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class og extends Vi{constructor(t){super(t,{code:og.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(og,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Uo extends Vi{constructor(t){super(t,{code:Uo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Uo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class cg extends Vi{constructor(t){super(t,{code:cg.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(cg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class lg extends Vi{constructor(t){super(t,{code:lg.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(lg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class ug extends Vi{constructor(t){super(t,{code:ug.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(ug,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class dg extends Vi{constructor(t){super(t,{code:dg.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(dg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class fg extends Vi{constructor(t){super(t,{code:fg.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class hg extends Vi{constructor(t){super(t,{code:hg.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class pg extends Vi{constructor(t){super(t,{code:pg.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(pg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Ove extends Ei{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Rve=3;function xve(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:a}){const c=e instanceof hF?e:e instanceof Ce?e.walk(v=>"data"in v)||e.walk():{},{code:u,data:d,details:h,message:m,shortMessage:g}=c,w=e instanceof ST?new Nve({functionName:i}):[Rve,Vd.code].includes(u)&&(d||h||m||g)||u===rp.code&&h==="execution reverted"&&d?new Sve({abi:t,data:typeof d=="object"?d.data:d,functionName:i,message:c instanceof MT?h:g??m}):e;return new Ave(w,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:a})}const kve="0.1.1";function Pve(){return kve}let vp=class NN extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof NN){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof NN&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${s??""}`,c=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${a}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Pve()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=s,this.shortMessage=t}walk(t){return mF(this,t)}};function mF(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?mF(e.cause,t):t?null:e}function LT(e,t){if(ap(e)>t)throw new qve({givenSize:ap(e),maxSize:t})}function Uve(e,t){if(typeof t=="number"&&t>0&&t>ap(e)-1)throw new bF({offset:t,position:"start",size:ap(e)})}function $ve(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ap(e)!==n-t)throw new bF({offset:n,position:"end",size:ap(e)})}function gF(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Wve({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Dve="#__bigint";function Mve(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+Dve:s,n)}const Lve=new TextEncoder,Bve=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fve(e,t={}){const{strict:n=!1}=t;if(!e)throw new fU(e);if(typeof e!="string")throw new fU(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new hU(e);if(!e.startsWith("0x"))throw new hU(e)}function d3e(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function f3e(e){return e instanceof Uint8Array?TN(e):Array.isArray(e)?TN(new Uint8Array(e)):e}function h3e(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(LT(n,t.size),yF(n,t.size)):n}function TN(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Bve[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(LT(r,t.size),jve(r,t.size)):r}function Ic(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const d=typeof e=="bigint"?"n":"";throw new Hve({max:i?`${i}${d}`:void 0,min:`${a}${d}`,signed:n,size:r,value:`${e}${d}`})}const u=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?yF(u,r):u}function p3e(e,t={}){return TN(Lve.encode(e),t)}function yF(e,t){return gF(e,{dir:"left",size:t})}function jve(e,t){return gF(e,{dir:"right",size:t})}function m3e(e,t,n,r={}){const{strict:s}=r;Uve(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&$ve(i,t,n),i}function ap(e){return Math.ceil((e.length-2)/2)}function zve(e,t={}){const{signed:n}=t;t.size&&LT(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,a=i>>1n;return r<=a?r:r-i-1n}function g3e(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:zve(e,t))}function y3e(e,t={}){const{strict:n=!1}=t;try{return Fve(e,{strict:n}),!0}catch{return!1}}class Hve extends vp{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class fU extends vp{constructor(t){super(`Value \`${typeof t=="object"?Mve(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class hU extends vp{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class qve extends vp{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class bF extends vp{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Wve extends vp{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Vve(e){return{address:e.address,amount:Ic(e.amount),index:Ic(e.index),validatorIndex:Ic(e.validatorIndex)}}function Gve(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Ic(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Ic(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Ic(e.gasLimit)},...typeof e.number=="bigint"&&{number:Ic(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Ic(e.prevRandao)},...typeof e.time=="bigint"&&{time:Ic(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Vve)}}}const Kve="0x82ad56cb",Yve="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Zve="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",b3e="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Xve="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",DS="/docs/contract/encodeDeployData";function wF(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new ewe({docsPath:DS});if(!("inputs"in s))throw new Q4({docsPath:DS});if(!s.inputs||s.inputs.length===0)throw new Q4({docsPath:DS});const i=V7(s.inputs,n);return mv([r,i])}class _d extends Ce{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(_d,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(_d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class oE extends Ce{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${fi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(oE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class IN extends Ce{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${fi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(IN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ON extends Ce{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(ON,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class RN extends Ce{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(RN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class xN extends Ce{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(xN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class kN extends Ce{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(kN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class PN extends Ce{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(PN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class UN extends Ce{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(UN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class $N extends Ce{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty($N,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class cE extends Ce{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${fi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${fi(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(cE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class yv extends Ce{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function BT(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof Ce?e.walk(s=>s?.code===_d.code):e;return r instanceof Ce?new _d({cause:e,message:r.details}):_d.nodeMessage.test(n)?new _d({cause:e,message:e.details}):oE.nodeMessage.test(n)?new oE({cause:e,maxFeePerGas:t?.maxFeePerGas}):IN.nodeMessage.test(n)?new IN({cause:e,maxFeePerGas:t?.maxFeePerGas}):ON.nodeMessage.test(n)?new ON({cause:e,nonce:t?.nonce}):RN.nodeMessage.test(n)?new RN({cause:e,nonce:t?.nonce}):xN.nodeMessage.test(n)?new xN({cause:e,nonce:t?.nonce}):kN.nodeMessage.test(n)?new kN({cause:e}):PN.nodeMessage.test(n)?new PN({cause:e,gas:t?.gas}):UN.nodeMessage.test(n)?new UN({cause:e,gas:t?.gas}):$N.nodeMessage.test(n)?new $N({cause:e}):cE.nodeMessage.test(n)?new cE({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new yv({cause:e})}function Jve(e,{docsPath:t,...n}){const r=(()=>{const s=BT(e,n);return s instanceof yv?e:s})();return new _ve(r,{docsPath:t,...n})}function bv(e,{format:t}){if(!t)return{};const n={};function r(i){const a=Object.keys(i);for(const c of a)c in e&&(n[c]=e[c]),i[c]&&typeof i[c]=="object"&&!Array.isArray(i[c])&&r(i[c])}const s=t(e||{});return r(s),n}function FT(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,i)=>{const a=t(s,i);if(n)for(const c of n)delete a[c];return{...a,...r(s,i)}},type:e})}const Qve={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function wv(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=eCe(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>mi(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=Kt(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=Kt(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=Kt(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=Kt(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=Kt(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=Kt(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Qve[e.type]),typeof e.value<"u"&&(n.value=Kt(e.value)),n}function eCe(e){return e.map(t=>({address:t.address,r:t.r?Kt(BigInt(t.r)):t.r,s:t.s?Kt(BigInt(t.s)):t.s,chainId:Kt(t.chainId),nonce:Kt(t.nonce),...typeof t.yParity<"u"?{yParity:Kt(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:Kt(t.v)}:{}}))}function EF(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const MS=new Map;function vF({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const h=u();a();const m=h.map(({args:g})=>g);m.length!==0&&e(m).then(g=>{s&&Array.isArray(g)&&g.sort(s);for(let w=0;w<h.length;w++){const{resolve:v}=h[w];v?.([g[w],g])}}).catch(g=>{for(let w=0;w<h.length;w++){const{reject:v}=h[w];v?.(g)}})},a=()=>MS.delete(t),c=()=>u().map(({args:h})=>h),u=()=>MS.get(t)||[],d=h=>MS.set(t,[...u(),h]);return{flush:a,async schedule(h){const{promise:m,resolve:g,reject:w}=EF();return n?.([...c(),h])&&i(),u().length>0?(d({args:h,resolve:g,reject:w}),m):(d({args:h,resolve:g,reject:w}),setTimeout(i,r),m)}}}function pU(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new eU({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new eU({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function tCe(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,a={};if(i!==void 0&&(a.code=i),t!==void 0&&(a.balance=Kt(t)),n!==void 0&&(a.nonce=Kt(n)),r!==void 0&&(a.state=pU(r)),s!==void 0){if(a.state)throw new yve;a.stateDiff=pU(s)}return a}function CF(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Po(n,{strict:!1}))throw new Hd({address:n});if(t[n])throw new gve({address:n});t[n]=tCe(r)}return t}const nCe=2n**256n-1n;function ry(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,i=t?Sa(t):void 0;if(i&&!Po(i.address))throw new Hd({address:i.address});if(s&&!Po(s))throw new Hd({address:s});if(n&&n>nCe)throw new oE({maxFeePerGas:n});if(r&&n&&r>n)throw new cE({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function rCe(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:i,blockTag:a=e.experimental_blockTag??"latest",accessList:c,blobs:u,blockOverrides:d,code:h,data:m,factory:g,factoryData:w,gas:v,gasPrice:E,maxFeePerBlobGas:A,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:I,to:N,value:S,stateOverride:x,...P}=t,L=n?Sa(n):void 0;if(h&&(g||w))throw new Ce("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(h&&N)throw new Ce("Cannot provide both `code` & `to` as parameters.");const j=h&&m,W=g&&w&&N&&m,Y=j||W,G=j?_F({code:h,data:m}):W?aCe({data:m,factory:g,factoryData:w,to:N}):m;try{ry(t);const Z=(typeof i=="bigint"?Kt(i):void 0)||a,y=d?Gve(d):void 0,_=CF(x),T=e.chain?.formatters?.transactionRequest?.format,U=(T||wv)({...bv(P,{format:T}),accessList:c,account:L,authorizationList:r,blobs:u,data:G,gas:v,gasPrice:E,maxFeePerBlobGas:A,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:I,to:Y?void 0:N,value:S},"call");if(s&&sCe({request:U})&&!_&&!y)try{return await iCe(e,{...U,blockNumber:i,blockTag:a})}catch(z){if(!(z instanceof lF)&&!(z instanceof SN))throw z}const q=(()=>{const z=[U,Z];return _&&y?[...z,_,y]:_?[...z,_]:y?[...z,{},y]:z})(),M=await e.request({method:"eth_call",params:q});return M==="0x"?{data:void 0}:{data:M}}catch(K){const Z=oCe(K),{offchainLookup:y,offchainLookupSignature:_}=await ir(async()=>{const{offchainLookup:T,offchainLookupSignature:$}=await import("./ccip-CyvWl8UC.js");return{offchainLookup:T,offchainLookupSignature:$}},__vite__mapDeps([54,55]));if(e.ccipRead!==!1&&Z?.slice(0,10)===_&&N)return{data:await y(e,{data:Z,to:N})};throw Y&&Z?.slice(0,10)==="0x101bb98d"?new Tve({factory:g}):Jve(K,{...t,account:L,chain:e.chain})}}function sCe({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Kve)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function iCe(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:a=e.experimental_blockTag??"latest",data:c,to:u}=t,d=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return lve({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new lF})(),m=(typeof i=="bigint"?Kt(i):void 0)||a,{schedule:g}=vF({id:`${e.uid}.${m}`,wait:s,shouldSplitBatch(E){return E.reduce((R,{data:k})=>R+(k.length-2),0)>n*2},fn:async E=>{const A=E.map(I=>({allowFailure:!0,callData:I.data,target:I.to})),R=cF({abi:J4,args:[A],functionName:"aggregate3"}),k=await e.request({method:"eth_call",params:[{...d===null?{data:_F({code:Xve,data:R})}:{to:d,data:R}},m]});return ive({abi:J4,args:[A],functionName:"aggregate3",data:k||"0x"})}}),[{returnData:w,success:v}]=await g({data:c,to:u});if(!v)throw new hF({data:w});return w==="0x"?{data:void 0}:{data:w}}function _F(e){const{code:t,data:n}=e;return wF({abi:iF(["constructor(bytes, bytes)"]),bytecode:Yve,args:[t,n]})}function aCe(e){const{data:t,factory:n,factoryData:r,to:s}=e;return wF({abi:iF(["constructor(address, bytes, address, bytes)"]),bytecode:Zve,args:[s,t,n,r]})}function oCe(e){if(!(e instanceof Ce))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}function cCe(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:i,transport:a})=>{i==="success"&&t===r&&(n[s]=a.request)}),(r=>n[r]||e.request)}async function lCe(e){const t=cCe(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function uCe(e){const t=Qg(`0x${e.substring(4)}`).substring(26);return ty(`0x${t}`)}async function dCe({hash:e,signature:t}){const n=bu(e)?e:rE(e),{secp256k1:r}=await ir(async()=>{const{secp256k1:a}=await import("./secp256k1-BlX8f6SC.js");return{secp256k1:a}},[]);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:h,v:m,yParity:g}=t,w=Number(g??m),v=mU(w);return new r.Signature(ep(d),ep(h)).addRecoveryBit(v)}const a=bu(t)?t:rE(t);if(Hr(a)!==65)throw new Error("invalid signature length");const c=qd(`0x${a.slice(130)}`),u=mU(c);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function mU(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function fCe({hash:e,signature:t}){return uCe(await dCe({hash:e,signature:t}))}function hCe(e,t="hex"){const n=AF(e),r=IT(new Uint8Array(n.length));return n.encode(r),t==="hex"?mi(r.bytes):r.bytes}function AF(e){return Array.isArray(e)?pCe(e.map(t=>AF(t))):mCe(e)}function pCe(e){const t=e.reduce((s,i)=>s+i.length,0),n=SF(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function mCe(e){const t=typeof e=="string"?ko(e):e,n=SF(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function SF(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new Ce("Length is too large.")}function gCe(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=Qg(mv(["0x05",hCe([t?Kt(t):"0x",s,n?Kt(n):"0x"])]));return r==="bytes"?ko(i):i}async function NF(e){const{authorization:t,signature:n}=e;return fCe({hash:gCe(t),signature:n??t})}class yCe extends Ce{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:m,value:g}){const w=ny({from:n?.address,to:m,value:typeof g<"u"&&`${$T(g)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:typeof c<"u"&&`${fi(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${fi(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${fi(d)} gwei`,nonce:h});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",w].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function bCe(e,{docsPath:t,...n}){const r=(()=>{const s=BT(e,n);return s instanceof yv?e:s})();return new yCe(r,{docsPath:t,...n})}class TF extends Ce{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class jT extends Ce{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class wCe extends Ce{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${fi(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class IF extends Ce{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const OF={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ev(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?qd(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?qd(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?OF[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=ECe(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const w3e=FT("transaction",Ev);function ECe(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function RF(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Ev(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const E3e=FT("block",RF);async function op(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const i=s??!1,a=n!==void 0?Kt(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[a||r,i]},{dedupe:!!a}),!c)throw new IF({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||RF)(c,"getBlock")}async function xF(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function v3e(e,t){return kF(e,t)}async function kF(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const i=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof i=="function"){const c=n||await Kn(e,op,"getBlock")({}),u=await i({block:c,client:e,request:s});if(u===null)throw new Error;return u}if(typeof i<"u")return i;const a=await e.request({method:"eth_maxPriorityFeePerGas"});return ep(a)}catch{const[i,a]=await Promise.all([n?Promise.resolve(n):Kn(e,op,"getBlock")({}),Kn(e,xF,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new jT;const c=a-i.baseFeePerGas;return c<0n?0n:c}}async function C3e(e,t){return DN(e,t)}async function DN(e,t){const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},a=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new TF;const u=10**(a.toString().split(".")[1]?.length??0),d=g=>g*BigInt(Math.ceil(a*u))/BigInt(u),h=n||await Kn(e,op,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:d,request:s,type:i});if(g!==null)return g}if(i==="eip1559"){if(typeof h.baseFeePerGas!="bigint")throw new jT;const g=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await kF(e,{block:h,chain:r,request:s}),w=d(h.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??w+g,maxPriorityFeePerGas:g}}return{gasPrice:s?.gasPrice??d(await Kn(e,xF,"getGasPrice")({}))}}async function vCe(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?Kt(r):n]},{dedupe:!!r});return qd(s)}function PF(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>ko(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>mi(i))}function UF(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>ko(a)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(a=>ko(a)):e.commitments,i=[];for(let a=0;a<r.length;a++){const c=r[a],u=s[a];i.push(Uint8Array.from(t.computeBlobKzgProof(c,u)))}return n==="bytes"?i:i.map(a=>mi(a))}function CCe(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i),u=r?4:0,d=r?0:4;e.setUint32(t+u,a,r),e.setUint32(t+d,c,r)}function _Ce(e,t,n){return e&t^~e&n}function ACe(e,t,n){return e&t^e&n^t&n}class SCe extends D7{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=xS(this.buffer)}update(t){iE(this),t=NT(t),tp(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const u=xS(t);for(;s<=i-a;a+=s)this.process(u,a);continue}r.set(t.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){iE(this),$7(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,Zm(this.buffer.subarray(a)),this.padOffset>s-a&&(this.process(r,0),a=0);for(let m=a;m<s;m++)n[m]=0;CCe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=xS(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<d;m++)c.setUint32(4*m,h[m],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:c}=this;return t.destroyed=a,t.finished=i,t.length=s,t.pos=c,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const kl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),NCe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pl=new Uint32Array(64);class TCe extends SCe{constructor(t=32){super(64,t,8,!1),this.A=kl[0]|0,this.B=kl[1]|0,this.C=kl[2]|0,this.D=kl[3]|0,this.E=kl[4]|0,this.F=kl[5]|0,this.G=kl[6]|0,this.H=kl[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:a,G:c,H:u}=this;return[t,n,r,s,i,a,c,u]}set(t,n,r,s,i,a,c,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=u|0}process(t,n){for(let m=0;m<16;m++,n+=4)Pl[m]=t.getUint32(n,!1);for(let m=16;m<64;m++){const g=Pl[m-15],w=Pl[m-2],v=mo(g,7)^mo(g,18)^g>>>3,E=mo(w,17)^mo(w,19)^w>>>10;Pl[m]=E+Pl[m-7]+v+Pl[m-16]|0}let{A:r,B:s,C:i,D:a,E:c,F:u,G:d,H:h}=this;for(let m=0;m<64;m++){const g=mo(c,6)^mo(c,11)^mo(c,25),w=h+g+_Ce(c,u,d)+NCe[m]+Pl[m]|0,E=(mo(r,2)^mo(r,13)^mo(r,22))+ACe(r,s,i)|0;h=d,d=u,u=c,c=a+w|0,a=i,i=s,s=r,r=w+E|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,s,i,a,c,u,d,h)}roundClean(){Zm(Pl)}destroy(){this.set(0,0,0,0,0,0,0,0),Zm(this.buffer)}}const ICe=M7(()=>new TCe),OCe=ICe;function RCe(e,t){return OCe(bu(e,{strict:!1})?pv(e):e)}function xCe(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=RCe(t);return s.set([n],0),r==="bytes"?s:mi(s)}function kCe(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(xCe({commitment:i,to:r,version:n}));return s}const gU=6,$F=32,zT=4096,DF=$F*zT,yU=DF*gU-1-1*zT*gU,PCe=1;class UCe extends Ce{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class $Ce extends Ce{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class _3e extends Ce{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class A3e extends Ce{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${PCe}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function DCe(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?ko(e.data):e.data,r=Hr(n);if(!r)throw new $Ce;if(r>yU)throw new UCe({maxSize:yU,size:r});const s=[];let i=!0,a=0;for(;i;){const c=IT(new Uint8Array(DF));let u=0;for(;u<zT;){const d=n.slice(a,a+($F-1));if(c.pushByte(0),c.pushBytes(d),d.length<31){c.pushByte(128),i=!1;break}u++,a+=31}s.push(c)}return t==="bytes"?s.map(c=>c.bytes):s.map(c=>mi(c.bytes))}function MCe(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??DCe({data:t,to:r}),i=e.commitments??PF({blobs:s,kzg:n,to:r}),a=e.proofs??UF({blobs:s,commitments:i,kzg:n,to:r}),c=[];for(let u=0;u<s.length;u++)c.push({blob:s[u],commitment:i[u],proof:a[u]});return c}function LCe(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new wve({transaction:e})}function MF(e,{docsPath:t,...n}){const r=(()=>{const s=BT(e,n);return s instanceof yv?e:s})();return new Eve(r,{docsPath:t,...n})}async function HT(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return qd(t)}async function BCe(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:i=e.chain,blobVersionedHashes:a,blobs:c,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:g,maxPriorityFeePerGas:w,nonce:v,nonceManager:E,to:A,type:R,value:k,...I}=t,N=await(async()=>{if(!n||!E||typeof v<"u")return v;const L=Sa(n),j=i?i.id:await Kn(e,HT,"getChainId")({});return await E.consume({address:L.address,chainId:j,client:e})})();ry(t);const S=i?.formatters?.transactionRequest?.format,P=(S||wv)({...bv(I,{format:S}),account:n?Sa(n):void 0,accessList:r,authorizationList:s,blobs:c,blobVersionedHashes:a,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:m,maxFeePerGas:g,maxPriorityFeePerGas:w,nonce:N,to:A,type:R,value:k},"fillTransaction");try{const L=await e.request({method:"eth_fillTransaction",params:[P]}),W=(i?.formatters?.transaction?.format||Ev)(L.tx);delete W.blockHash,delete W.blockNumber,delete W.r,delete W.s,delete W.transactionIndex,delete W.v,delete W.yParity,W.data=W.input,W.gas&&(W.gas=t.gas??W.gas),W.gasPrice&&(W.gasPrice=t.gasPrice??W.gasPrice),W.maxFeePerBlobGas&&(W.maxFeePerBlobGas=t.maxFeePerBlobGas??W.maxFeePerBlobGas),W.maxFeePerGas&&(W.maxFeePerGas=t.maxFeePerGas??W.maxFeePerGas),W.maxPriorityFeePerGas&&(W.maxPriorityFeePerGas=t.maxPriorityFeePerGas??W.maxPriorityFeePerGas),W.nonce&&(W.nonce=t.nonce??W.nonce);const Y=await(async()=>{if(typeof i?.fees?.baseFeeMultiplier=="function"){const y=await Kn(e,op,"getBlock")({});return i.fees.baseFeeMultiplier({block:y,client:e,request:t})}return i?.fees?.baseFeeMultiplier??1.2})();if(Y<1)throw new TF;const K=10**(Y.toString().split(".")[1]?.length??0),Z=y=>y*BigInt(Math.ceil(Y*K))/BigInt(K);return W.maxFeePerGas&&!t.maxFeePerGas&&(W.maxFeePerGas=Z(W.maxFeePerGas)),W.gasPrice&&!t.gasPrice&&(W.gasPrice=Z(W.gasPrice)),{raw:L.raw,transaction:{from:P.from,...W}}}catch(L){throw MF(L,{...t,chain:e.chain})}}const LF=["blobVersionedHashes","chainId","fees","gas","nonce","type"],bU=new Map,LS=new ey(128);async function qT(e,t){let n=t;const{account:r=e.account,chain:s=e.chain,nonceManager:i,parameters:a=LF}=n,c=(()=>{if(typeof s?.prepareTransactionRequest=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s?.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let u;async function d(){return u||(typeof n.chainId<"u"?n.chainId:s?s.id:(u=await Kn(e,HT,"getChainId")({}),u))}const h=r&&Sa(r);let m=n.nonce;if(a.includes("nonce")&&typeof m>"u"&&h&&i){const N=await d();m=await i.consume({address:h.address,chainId:N,client:e})}c?.fn&&c.runAt?.includes("beforeFillTransaction")&&(n=await c.fn(n,{phase:"beforeFillTransaction"}),m??=n.nonce);const w=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||LS.get(e.uid)===!1||!["fees","gas"].some(S=>a.includes(S))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof m!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await Kn(e,BCe,"fillTransaction")({...n,nonce:m}).then(N=>{const{chainId:S,from:x,gas:P,gasPrice:L,nonce:j,maxFeePerBlobGas:W,maxFeePerGas:Y,maxPriorityFeePerGas:G,type:K,...Z}=N.transaction;return LS.set(e.uid,!0),{...n,...x?{from:x}:{},...K?{type:K}:{},...typeof S<"u"?{chainId:S}:{},...typeof P<"u"?{gas:P}:{},...typeof L<"u"?{gasPrice:L}:{},...typeof j<"u"?{nonce:j}:{},...typeof W<"u"?{maxFeePerBlobGas:W}:{},...typeof Y<"u"?{maxFeePerGas:Y}:{},...typeof G<"u"?{maxPriorityFeePerGas:G}:{},..."nonceKey"in Z&&typeof Z.nonceKey<"u"?{nonceKey:Z.nonceKey}:{}}}).catch(N=>(N.walk?.(P=>{const L=P;return L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError"})&&LS.set(e.uid,!1),n)):n;m??=w.nonce,n={...w,...h?{from:h?.address}:{},...m?{nonce:m}:{}};const{blobs:v,gas:E,kzg:A,type:R}=n;c?.fn&&c.runAt?.includes("beforeFillParameters")&&(n=await c.fn(n,{phase:"beforeFillParameters"}));let k;async function I(){return k||(k=await Kn(e,op,"getBlock")({blockTag:"latest"}),k)}if(a.includes("nonce")&&typeof m>"u"&&h&&!i&&(n.nonce=await Kn(e,vCe,"getTransactionCount")({address:h.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&v&&A){const N=PF({blobs:v,kzg:A});if(a.includes("blobVersionedHashes")){const S=kCe({commitments:N,to:"hex"});n.blobVersionedHashes=S}if(a.includes("sidecars")){const S=UF({blobs:v,commitments:N,kzg:A}),x=MCe({blobs:v,commitments:N,proofs:S,to:"hex"});n.sidecars=x}}if(a.includes("chainId")&&(n.chainId=await d()),(a.includes("fees")||a.includes("type"))&&typeof R>"u")try{n.type=LCe(n)}catch{let N=bU.get(e.uid);typeof N>"u"&&(N=typeof(await I())?.baseFeePerGas=="bigint",bU.set(e.uid,N)),n.type=N?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const N=await I(),{maxFeePerGas:S,maxPriorityFeePerGas:x}=await DN(e,{block:N,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<x)throw new wCe({maxPriorityFeePerGas:x});n.maxPriorityFeePerGas=x,n.maxFeePerGas=S}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new jT;if(typeof n.gasPrice>"u"){const N=await I(),{gasPrice:S}=await DN(e,{block:N,chain:s,request:n,type:"legacy"});n.gasPrice=S}}return a.includes("gas")&&typeof E>"u"&&(n.gas=await Kn(e,BF,"estimateGas")({...n,account:h,prepare:h?.type==="local"?[]:["blobVersionedHashes"]})),c?.fn&&c.runAt?.includes("afterFillParameters")&&(n=await c.fn(n,{phase:"afterFillParameters"})),ry(n),delete n.parameters,n}async function BF(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?Sa(n):void 0,i=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const a=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await NF({authorization:t.authorizationList[0]}).catch(()=>{throw new Ce("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:h,blockNumber:m,blockTag:g,data:w,gas:v,gasPrice:E,maxFeePerBlobGas:A,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:I,value:N,stateOverride:S,...x}=r?await qT(e,{...t,parameters:i,to:a}):t;if(v&&t.gas!==v)return v;const L=(typeof m=="bigint"?Kt(m):void 0)||g,j=CF(S);ry(t);const W=e.chain?.formatters?.transactionRequest?.format,G=(W||wv)({...bv(x,{format:W}),account:s,accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:h,data:w,gasPrice:E,maxFeePerBlobGas:A,maxFeePerGas:R,maxPriorityFeePerGas:k,nonce:I,to:a,value:N},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:j?[G,L??e.experimental_blockTag??"latest",j]:L?[G,L]:[G]}))}catch(a){throw bCe(a,{...t,account:s,chain:e.chain})}}async function FCe(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?Kt(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}const jCe=new Map,zCe=new Map;function HCe(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:a=>i.set(s,a)}),n=t(e,jCe),r=t(e,zCe);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function qCe(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=HCe(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const a=await i;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const WCe=e=>`blockNumber.${e}`;async function VCe(e,{cacheTime:t=e.cacheTime}={}){const n=await qCe(()=>e.request({method:"eth_blockNumber"}),{cacheKey:WCe(e.uid),cacheTime:t});return BigInt(n)}function GCe(e,t){if(!Po(e,{strict:!1}))throw new Hd({address:e});if(!Po(t,{strict:!1}))throw new Hd({address:t});return e.toLowerCase()===t.toLowerCase()}const wU="/docs/contract/decodeEventLog";function KCe(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[a,...c]=s;if(!a)throw new swe({docsPath:wU});const u=t.find(E=>E.type==="event"&&a===kT(yu(E)));if(!(u&&"name"in u)||u.type!=="event")throw new I7(a,{docsPath:wU});const{name:d,inputs:h}=u,m=h?.some(E=>!("name"in E&&E.name)),g=m?[]:{},w=h.map((E,A)=>[E,A]).filter(([E])=>"indexed"in E&&E.indexed);for(let E=0;E<w.length;E++){const[A,R]=w[E],k=c[E];if(!k)throw new O7({abiItem:u,param:A});g[m?R:A.name||R]=YCe({param:A,value:k})}const v=h.filter(E=>!("indexed"in E&&E.indexed));if(v.length>0){if(n&&n!=="0x")try{const E=gv(v,n);if(E)if(m)for(let A=0;A<h.length;A++)g[A]=g[A]??E.shift();else for(let A=0;A<v.length;A++)g[v[A].name]=E[A]}catch(E){if(i)throw E instanceof N7||E instanceof z7?new wN({abiItem:u,data:n,params:v,size:Hr(n)}):E}else if(i)throw new wN({abiItem:u,data:"0x",params:v,size:0})}return{eventName:d,args:Object.values(g).length>0?g:void 0}}function YCe({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(gv([e],t)||[])[0]}function ZCe(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(a=>{try{const c=t.find(d=>d.type==="event"&&a.topics[0]===kT(d));if(!c)return null;const u=KCe({...a,abi:[c],strict:s});return i&&!i.includes(u.eventName)||!XCe({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...a}}catch(c){let u,d;if(c instanceof I7)return null;if(c instanceof wN||c instanceof O7){if(s)return null;u=c.abiItem.name,d=c.abiItem.inputs?.some(h=>!("name"in h&&h.name))}return{...a,args:d?[]:{},eventName:u}}}).filter(Boolean)}function XCe(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,a,c){try{return i.type==="address"?GCe(a,c):i.type==="string"||i.type==="bytes"?Qg(pv(a))===c:a===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,a)=>{if(i==null)return!0;const c=n[a];return c?(Array.isArray(i)?i:[i]).some(d=>s(c,d,t[a])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,a])=>{if(a==null)return!0;const c=n.find(d=>d.name===i);return c?(Array.isArray(a)?a:[a]).some(d=>s(c,d,t[i])):!1}):!1}function FF(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function JCe(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>FF(i));return!("abi"in t)||!t.abi?s:ZCe({abi:t.abi,logs:s,strict:n})}const m1=new ey(8192);function QCe(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(m1.get(n))return m1.get(n);const r=e().finally(()=>m1.delete(n));return m1.set(n,r),r}async function lE(e){return new Promise(t=>setTimeout(t,e))}function uE(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const a=async({count:c=0}={})=>{const u=async({error:d})=>{const h=typeof t=="function"?t({count:c,error:d}):t;h&&await lE(h),a({count:c+1})};try{const d=await e();s(d)}catch(d){if(c<n&&await r({count:c,error:d}))return u({error:d});i(d)}};a()})}function e_e(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:i,retryDelay:a=150,retryCount:c=3,uid:u}={...t,...r},{method:d}=n;if(i?.exclude?.includes(d))throw new Cd(new Error("method not supported"),{method:d});if(i?.include&&!i.include.includes(d))throw new Cd(new Error("method not supported"),{method:d});const h=s?hv(`${u}.${Ca(n)}`):void 0;return QCe(()=>uE(async()=>{try{return await e(n)}catch(m){const g=m;switch(g.code){case Jm.code:throw new Jm(g);case Qm.code:throw new Qm(g);case eg.code:throw new eg(g,{method:n.method});case tg.code:throw new tg(g);case Vd.code:throw new Vd(g);case rp.code:throw new rp(g);case ng.code:throw new ng(g);case uu.code:throw new uu(g);case sp.code:throw new sp(g);case Cd.code:throw new Cd(g,{method:n.method});case ip.code:throw new ip(g);case rg.code:throw new rg(g);case Br.code:throw new Br(g);case sg.code:throw new sg(g);case ig.code:throw new ig(g);case ag.code:throw new ag(g);case og.code:throw new og(g);case Uo.code:throw new Uo(g);case cg.code:throw new cg(g);case lg.code:throw new lg(g);case ug.code:throw new ug(g);case dg.code:throw new dg(g);case fg.code:throw new fg(g);case hg.code:throw new hg(g);case pg.code:throw new pg(g);case 5e3:throw new Br(g);default:throw m instanceof Ce?m:new Ove(g)}}},{delay:({count:m,error:g})=>{if(g&&g instanceof hm){const w=g?.headers?.get("Retry-After");if(w?.match(/\d/))return Number.parseInt(w,10)*1e3}return~~(1<<m)*a},retryCount:c,shouldRetry:({error:m})=>t_e(m)}),{enabled:s,id:h})}}function t_e(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===ip.code||e.code===Vd.code:e instanceof hm&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function n_e({chain:e,currentChainId:t}){if(!e)throw new cve;if(t!==e.id)throw new ove({chain:e,currentChainId:t})}const r_e={"0x0":"reverted","0x1":"success"};function jF(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>FF(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?qd(e.transactionIndex):null,status:e.status?r_e[e.status]:null,type:e.type?OF[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const S3e=FT("transactionReceipt",jF);function zF(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let a;try{const c=new AbortController;n>0&&(a=setTimeout(()=>{r?c.abort():i(t)},n)),s(await e({signal:c?.signal||null}))}catch(c){c?.name==="AbortError"&&i(t),i(c)}finally{clearTimeout(a)}})()})}function s_e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const EU=s_e();function i_e(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:a=t.onResponse,timeout:c=t.timeout??1e4}=n,u={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:h,signal:m}=u;try{const g=await zF(async({signal:v})=>{const E={...u,body:Array.isArray(r)?Ca(r.map(I=>({jsonrpc:"2.0",id:I.id??EU.take(),...I}))):Ca({jsonrpc:"2.0",id:r.id??EU.take(),...r}),headers:{"Content-Type":"application/json",...d},method:h||"POST",signal:m||(c>0?v:null)},A=new Request(e,E),R=await i?.(A,E)??{...E,url:e};return await s(R.url??e,R)},{errorInstance:new dU({body:r,url:e}),timeout:c,signal:!0});a&&await a(g);let w;if(g.headers.get("Content-Type")?.startsWith("application/json"))w=await g.json();else{w=await g.text();try{w=JSON.parse(w||"{}")}catch(v){if(g.ok)throw v;w={error:w}}}if(!g.ok)throw new hm({body:r,details:Ca(w.error)||g.statusText,headers:g.headers,status:g.status,url:e});return w}catch(g){throw g instanceof hm||g instanceof dU?g:new hm({body:r,cause:g,url:e})}}}}class a_e extends Ce{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function o_e(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new a_e({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[i,a,c]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],u=Math.round(+`${a}.${c}`);u>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${u}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}async function HF(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i,sender:a,nonce:c}){const u=r||"latest",d=n!==void 0?Kt(n):void 0;let h=null;if(s?h=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?h=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,Kt(i)]},{dedupe:!0}):typeof i=="number"?h=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[d||u,Kt(i)]},{dedupe:!!d}):a&&typeof c=="number"&&(h=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[a,Kt(c)]},{dedupe:!0})),!h)throw new dF({blockHash:t,blockNumber:n,blockTag:u,hash:s,index:i});return(e.chain?.formatters?.transaction?.format||Ev)(h,"getTransaction")}async function BS(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new fF({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||jF)(n,"getTransactionReceipt")}async function c_e(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const FS=new Map,vU=new Map;let l_e=0;function dE(e,t,n){const r=++l_e,s=()=>FS.get(e)||[],i=()=>{const h=s();FS.set(e,h.filter(m=>m.id!==r))},a=()=>{const h=s();if(!h.some(g=>g.id===r))return;const m=vU.get(e);if(h.length===1&&m){const g=m();g instanceof Promise&&g.catch(()=>{})}i()},c=s();if(FS.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return a;const u={};for(const h in t)u[h]=((...m)=>{const g=s();if(g.length!==0)for(const w of g)w.fns[h]?.(...m)});const d=n(u);return typeof d=="function"&&vU.set(e,d),a}function qF(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:i}));const u=await n?.(c)??r;await lE(u);const d=async()=>{s&&(await e({unpoll:i}),await lE(r),d())};d()})(),i}function u_e(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:a=e.pollingInterval}){const c=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let u;return c?(()=>{const m=Ca(["watchBlockNumber",e.uid,t,n,a]);return dE(m,{onBlockNumber:r,onError:s},g=>qF(async()=>{try{const w=await Kn(e,VCe,"getBlockNumber")({cacheTime:0});if(u!==void 0){if(w===u)return;if(w-u>1&&n)for(let v=u+1n;v<w;v++)g.onBlockNumber(v,u),u=v}(u===void 0||w>u)&&(g.onBlockNumber(w,u),u=w)}catch(w){g.onError?.(w)}},{emitOnBegin:t,interval:a}))})():(()=>{const m=Ca(["watchBlockNumber",e.uid,t,n]);return dE(m,{onBlockNumber:r,onError:s},g=>{let w=!0,v=()=>w=!1;return(async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const R=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return R?R.value:e.transport}return e.transport})(),{unsubscribe:A}=await E.subscribe({params:["newHeads"],onData(R){if(!w)return;const k=ep(R.result?.number);g.onBlockNumber(k,u),u=k},onError(R){g.onError?.(R)}});v=A,w||v()}catch(E){s?.(E)}})(),()=>v()})})()}async function d_e(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:a=6,retryDelay:c=({count:S})=>~~(1<<S)*200,timeout:u=18e4}=t,d=Ca(["waitForTransactionReceipt",e.uid,s]),h=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let m,g,w,v=!1,E,A;const{promise:R,resolve:k,reject:I}=EF(),N=u?setTimeout(()=>{A?.(),E?.(),I(new vve({hash:s}))},u):void 0;return E=dE(d,{onReplaced:i,resolve:k,reject:I},async S=>{if(w=await Kn(e,BS,"getTransactionReceipt")({hash:s}).catch(()=>{}),w&&r<=1){clearTimeout(N),S.resolve(w),E?.();return}A=Kn(e,u_e,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:h,async onBlockNumber(x){const P=j=>{clearTimeout(N),A?.(),j(),E?.()};let L=x;if(!v)try{if(w){if(r>1&&(!w.blockNumber||L-w.blockNumber+1n<r))return;P(()=>S.resolve(w));return}if(n&&!m&&(v=!0,await uE(async()=>{m=await Kn(e,HF,"getTransaction")({hash:s}),m.blockNumber&&(L=m.blockNumber)},{delay:c,retryCount:a}),v=!1),w=await Kn(e,BS,"getTransactionReceipt")({hash:s}),r>1&&(!w.blockNumber||L-w.blockNumber+1n<r))return;P(()=>S.resolve(w))}catch(j){if(j instanceof dF||j instanceof fF){if(!m){v=!1;return}try{g=m,v=!0;const W=await uE(()=>Kn(e,op,"getBlock")({blockNumber:L,includeTransactions:!0}),{delay:c,retryCount:a,shouldRetry:({error:K})=>K instanceof IF});v=!1;const Y=W.transactions.find(({from:K,nonce:Z})=>K===g.from&&Z===g.nonce);if(!Y||(w=await Kn(e,BS,"getTransactionReceipt")({hash:Y.hash}),r>1&&(!w.blockNumber||L-w.blockNumber+1n<r)))return;let G="replaced";Y.to===g.to&&Y.value===g.value&&Y.input===g.input?G="repriced":Y.from===Y.to&&Y.value===0n&&(G="cancelled"),P(()=>{S.onReplaced?.({reason:G,replacedTransaction:g,transaction:Y,transactionReceipt:w}),S.resolve(w)})}catch(W){P(()=>S.reject(W))}}else P(()=>S.reject(j))}}})}),R}function f_e(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const d=Ca(["watchPendingTransactions",e.uid,t,i]);return dE(d,{onTransactions:r,onError:n},h=>{let m;const g=qF(async()=>{try{if(!m)try{m=await Kn(e,lCe,"createPendingTransactionFilter")({});return}catch(v){throw g(),v}const w=await Kn(e,JCe,"getFilterChanges")({filter:m});if(w.length===0)return;if(t)h.onTransactions(w);else for(const v of w)h.onTransactions([v])}catch(w){h.onError?.(w)}},{emitOnBegin:!0,interval:i});return async()=>{m&&await Kn(e,c_e,"uninstallFilter")({filter:m}),g()}})})():(()=>{let d=!0,h=()=>d=!1;return(async()=>{try{const{unsubscribe:m}=await e.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!d)return;const w=g.result;r([w])},onError(g){n?.(g)}});h=m,d||h()}catch(m){n?.(m)}})(),()=>h()})()}class WT extends Ce{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class jS extends Ce{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function h_e(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const zS=new ey(128);async function WF(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,type:v,value:E,...A}=t;if(typeof n>"u")throw new WT({docsPath:"/docs/actions/wallet/sendTransaction"});const R=n?Sa(n):null;try{ry(t);const k=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await NF({authorization:i[0]}).catch(()=>{throw new Ce("`to` is required. Could not infer from `authorizationList`.")})})();if(R?.type==="json-rpc"||R===null){let I;r!==null&&(I=await Kn(e,HT,"getChainId")({}),n_e({currentChainId:I,chain:r}));const N=e.chain?.formatters?.transactionRequest?.format,x=(N||wv)({...bv(A,{format:N}),accessList:s,account:R,authorizationList:i,blobs:a,chainId:I,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,to:k,type:v,value:E},"sendTransaction"),P=zS.get(e.uid),L=P?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:L,params:[x]},{retryCount:0})}catch(j){if(P===!1)throw j;const W=j;if(W.name==="InvalidInputRpcError"||W.name==="InvalidParamsRpcError"||W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[x]},{retryCount:0}).then(Y=>(zS.set(e.uid,!0),Y)).catch(Y=>{const G=Y;throw G.name==="MethodNotFoundRpcError"||G.name==="MethodNotSupportedRpcError"?(zS.set(e.uid,!1),W):G});throw W}}if(R?.type==="local"){const I=await Kn(e,qT,"prepareTransactionRequest")({account:R,accessList:s,authorizationList:i,blobs:a,chain:r,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:w,nonceManager:R.nonceManager,parameters:[...LF,"sidecars"],type:v,value:E,...A,to:k}),N=r?.serializers?.transaction,S=await R.signTransaction(I,{serializer:N});return await Kn(e,h_e,"sendRawTransaction")({serializedTransaction:S})}throw R?.type==="smart"?new jS({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new jS({docsPath:"/docs/actions/wallet/sendTransaction",type:R?.type})}catch(k){throw k instanceof jS?k:MF(k,{...t,account:R,chain:t.chain||void 0})}}async function p_e(e,{account:t=e.account,message:n}){if(!t)throw new WT({docsPath:"/docs/actions/wallet/signMessage"});const r=Sa(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?hv(n):n.raw instanceof Uint8Array?rE(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function fE(e,t){return fE.internal(e,WF,"sendTransaction",t)}(function(e){async function t(n,r,s,i){const{abi:a,account:c=n.account,address:u,args:d,dataSuffix:h,functionName:m,...g}=i;if(typeof c>"u")throw new WT({docsPath:"/docs/contract/writeContract"});const w=c?Sa(c):null,v=cF({abi:a,args:d,functionName:m});try{return await Kn(n,r,s)({data:`${v}${h?h.replace("0x",""):""}`,to:u,account:w,...g})}catch(E){throw xve(E,{abi:a,address:u,args:d,docsPath:"/docs/contract/writeContract",functionName:m,sender:w?.address})}}e.internal=t})(fE||(fE={}));function To(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}const Y1="3.0.0",m_e=()=>`@wagmi/core@${Y1}`;var VF=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},hE,GF;class no extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return m_e()}constructor(t,n={}){super(),hE.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof no?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof no&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return VF(this,hE,"m",GF).call(this,this,t)}}hE=new WeakSet,GF=function e(t,n){return n?.(t)?t:t.cause?VF(this,hE,"m",e).call(this,t.cause,n):t};class mg extends no{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class g_e extends no{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class y_e extends no{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class b_e extends no{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class w_e extends no{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class E_e extends no{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function HS(e,t){let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new g_e;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=t,i=await n.connect(s);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:s.withCapabilities?i.accounts.map(c=>typeof c=="object"?c.address:c):i.accounts,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s.withCapabilities?i.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):i.accounts,chainId:i.chainId}}catch(r){throw e.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}const MN=256;let g1=MN,y1;function KF(e=11){if(!y1||g1+e>MN*2){y1="",g1=0;for(let t=0;t<MN;t++)y1+=(256+Math.random()*256|0).toString(16).substring(1)}return y1.substring(g1,g1+++e)}function YF(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),h=e.pollingInterval??d,m=e.cacheTime??h,g=e.account?Sa(e.account):void 0,{config:w,request:v,value:E}=e.transport({account:g,chain:n,pollingInterval:h}),A={...w,...E},R={account:g,batch:t,cacheTime:m,ccipRead:r,chain:n,key:s,name:i,pollingInterval:h,request:v,transport:A,type:a,uid:KF(),...c?{experimental_blockTag:c}:{}};function k(I){return N=>{const S=N(I);for(const P in R)delete S[P];const x={...I,...S};return Object.assign(x,{extend:k(x)})}}return Object.assign(R,{extend:k(R)})}function VT({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:a,type:c},u){const d=KF();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:a,type:c},request:e_e(r,{methods:t,retryCount:s,retryDelay:i,uid:d}),value:u}}function v_e(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=t;return({retryCount:a})=>VT({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:i,type:"custom"})}function CU(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=C_e,retryCount:a,retryDelay:c}=t;return(({chain:u,pollingInterval:d=4e3,timeout:h,...m})=>{let g=e,w=()=>{};const v=VT({key:n,name:r,async request({method:E,params:A}){let R;const k=async(I=0)=>{const N=g[I]({...m,chain:u,retryCount:0,timeout:h});try{const S=await N.request({method:E,params:A});return w({method:E,params:A,response:S,transport:N,status:"success"}),S}catch(S){if(w({error:S,method:E,params:A,transport:N,status:"error"}),i(S)||I===g.length-1||(R??=g.slice(I+1).some(x=>{const{include:P,exclude:L}=x({chain:u}).config.methods||{};return P?P.includes(E):L?!L.includes(E):!0}),!R))throw S;return k(I+1)}};return k()},retryCount:a,retryDelay:c,type:"fallback"},{onResponse:E=>w=E,transports:g.map(E=>E({chain:u,retryCount:0}))});if(s){const E=typeof s=="object"?s:{};__e({chain:u,interval:E.interval??d,onTransports:A=>g=A,ping:E.ping,sampleCount:E.sampleCount,timeout:E.timeout,transports:g,weights:E.weights})}return v})}function C_e(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===sp.code||e.code===Br.code||_d.nodeMessage.test(e.message)||e.code===5e3))}function __e({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:a,weights:c={}}){const{stability:u=.7,latency:d=.3}=c,h=[],m=async()=>{const g=await Promise.all(a.map(async E=>{const A=E({chain:e,retryCount:0,timeout:i}),R=Date.now();let k,I;try{await(r?r({transport:A}):A.request({method:"net_listening"})),I=1}catch{I=0}finally{k=Date.now()}return{latency:k-R,success:I}}));h.push(g),h.length>s&&h.shift();const w=Math.max(...h.map(E=>Math.max(...E.map(({latency:A})=>A)))),v=a.map((E,A)=>{const R=h.map(x=>x[A].latency),I=1-R.reduce((x,P)=>x+P,0)/R.length/w,N=h.map(x=>x[A].success),S=N.reduce((x,P)=>x+P,0)/N.length;return S===0?[0,A]:[d*I+u*S,A]}).sort((E,A)=>A[0]-E[0]);n(v.map(([,E])=>a[E])),await lE(t),m()};m()}class A_e extends Ce{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function b1(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:a,name:c="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:d,retryDelay:h,raw:m}=t;return({chain:g,retryCount:w,timeout:v})=>{const{batchSize:E=1e3,wait:A=0}=typeof n=="object"?n:{},R=t.retryCount??w,k=v??t.timeout??1e4,I=e||g?.rpcUrls.default.http[0];if(!I)throw new A_e;const N=i_e(I,{fetchFn:r,fetchOptions:s,onRequest:u,onResponse:d,timeout:k});return VT({key:i,methods:a,name:c,async request({method:S,params:x}){const P={method:S,params:x},{schedule:L}=vF({id:I,wait:A,shouldSplitBatch(G){return G.length>E},fn:G=>N.request({body:G}),sort:(G,K)=>G.id-K.id}),j=async G=>n?L(G):[await N.request({body:G})],[{error:W,result:Y}]=await j(P);if(m)return{error:W,result:Y};if(W)throw new MT({body:P,error:W,url:I});return Y},retryCount:R,retryDelay:h,timeout:k,type:"http"},{fetchOptions:s,url:I})}}async function vv(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:h}=t;if(e.state.status==="reconnecting"&&!h.getAccounts&&!h.getChainId)throw new E_e({connector:h});const[m,g]=await Promise.all([h.getAccounts().catch(w=>{if(t.account===null)return[];throw w}),h.getChainId()]);r={accounts:m,chainId:g,connector:h}}else r=e.state.connections.get(e.state.current);if(!r)throw new y_e;const s=t.chainId??r.chainId,i=await r.connector.getChainId();if(n&&i!==s)throw new w_e({connectionChainId:s,connectorChainId:i});const a=r.connector;if(a.getClient)return a.getClient({chainId:s});const c=Sa(t.account??r.accounts[0]);if(c&&(c.address=vd(c.address)),t.account&&!r.accounts.some(h=>h.toLowerCase()===c.address.toLowerCase()))throw new b_e({address:c.address,connector:a});const u=e.chains.find(h=>h.id===s),d=await r.connector.getProvider({chainId:s});return YF({account:c,chain:u,name:"Connector Client",transport:h=>v_e(d)({...h,retryCount:0})})}async function _U(e,t={}){let n;if(t.connector)n=t.connector;else{const{connections:s,current:i}=e.state;n=s.get(i)?.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const i=r.values().next().value;return{...s,connections:new Map(r),current:i.connector.uid}});{const s=e.state.current;if(!s)return;const i=e.state.connections.get(s)?.connector;if(!i)return;await e.storage?.setItem("recentConnectorId",i.id)}}async function S_e(e,t){const{chainId:n,connector:r,...s}=t;let i;t.account?i=t.account:i=(await vv(e,{account:t.account,assertChainId:!1,chainId:n,connector:r})).account;const a=e.getClient({chainId:n});return To(a,BF,"estimateGas")({...s,account:i})}async function N_e(e,t){const{address:n,blockNumber:r,blockTag:s,chainId:i}=t,a=e.getClient({chainId:i}),u=await To(a,FCe,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=e.chains.find(h=>h.id===i)??a.chain;return{decimals:d.nativeCurrency.decimals,symbol:d.nativeCurrency.symbol,value:u}}function gg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!gg(e[r],t[r]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!gg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function pm(e){const t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,s=r?.[0],i=e.chains.find(c=>c.id===n?.chainId),a=e.state.status;switch(a){case"connected":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}let w1=[];function vc(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||gg(w1,t)?w1:(w1=t,t)}async function T_e(e,t){const{account:n,chainId:r,...s}=t,i=n??pm(e).address,a=e.getClient({chainId:r});return To(a,qT,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let qS=!1;async function WS(e,t={}){if(qS)return[];qS=!0,e.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const d of t.connectors){let h;typeof d=="function"?h=e._internal.connectors.setup(d):h=d,n.push(h)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,d]of e.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,h)=>(s[d.id]??10)-(s[h.id]??10)):n;let a=!1;const c=[],u=[];for(const d of i){const h=await d.getProvider().catch(()=>{});if(!h||u.some(w=>w===h)||!await d.isAuthorized())continue;const g=await d.connect({isReconnecting:!0}).catch(()=>null);g&&(d.emitter.off("connect",e._internal.events.connect),d.emitter.on("change",e._internal.events.change),d.emitter.on("disconnect",e._internal.events.disconnect),e.setState(w=>{const v=new Map(a?w.connections:new Map).set(d.uid,{accounts:g.accounts,chainId:g.chainId,connector:d});return{...w,current:a?w.current:d.uid,connections:v}}),c.push({accounts:g.accounts,chainId:g.chainId,connector:d}),u.push(h),a=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(a?e.setState(d=>({...d,status:"connected"})):e.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),qS=!1,c}async function I_e(e,t){const{account:n,chainId:r,connector:s,...i}=t;let a;return typeof n=="object"&&n?.type==="local"?a=e.getClient({chainId:r}):a=await vv(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s}),await To(a,WF,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function O_e(e,t){const{account:n,connector:r,...s}=t;let i;return typeof n=="object"&&n.type==="local"?i=e.getClient():i=await vv(e,{account:n,connector:r}),To(i,p_e,"signMessage")({...s,...n?{account:n}:{}})}class jl extends no{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class R_e extends no{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function AU(e,t){const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(t.connector?.uid??e.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new R_e({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=e.chains.find(a=>a.id===r);if(!i)throw new mg;return e.setState(a=>({...a,chainId:r})),i}async function x_e(e,t){const{chainId:n,timeout:r=0,...s}=t,i=e.getClient({chainId:n}),c=await To(i,d_e,"waitForTransactionReceipt")({...s,timeout:r});if(c.status==="reverted"){const u=To(i,HF,"getTransaction"),{from:d,...h}=await u({hash:c.transactionHash}),g=await To(i,rCe,"call")({...h,account:d,data:h.input,gasPrice:h.type!=="eip1559"?h.gasPrice:void 0,maxFeePerGas:h.type==="eip1559"?h.maxFeePerGas:void 0,maxPriorityFeePerGas:h.type==="eip1559"?h.maxPriorityFeePerGas:void 0}),w=g?.data?mwe(`0x${g.data.substring(138)}`):"unknown reason";throw new Error(w)}return{...c,chainId:i.chain.id}}function k_e(e,t){const{onChange:n}=t;return e.subscribe(()=>pm(e),n,{equalityFn(r,s){const{connector:i,...a}=r,{connector:c,...u}=s;return gg(a,u)&&i?.id===c?.id&&i?.uid===c?.uid}})}function P_e(e,t){const{onChange:n}=t;return e.subscribe(()=>vc(e),n,{equalityFn:gg})}function U_e(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function $_e(e,t){const{syncConnectedChain:n=e._internal.syncConnectedChain,...r}=t;let s;const i=u=>{s&&s();const d=e.getClient({chainId:u});return s=To(d,f_e,"watchPendingTransactions")(r),s},a=i(t.chainId);let c;return n&&!t.chainId&&(c=e.subscribe(({chainId:u})=>u,async u=>i(u))),()=>{a?.(),c?.()}}async function D_e(e,t){const{account:n,chainId:r,connector:s,...i}=t;let a;return typeof n=="object"&&n?.type==="local"?a=e.getClient({chainId:r}):a=await vv(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s}),await To(a,fE,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function N3e(e){return e}Cv.type="injected";function Cv(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const u=e.target;if(typeof u=="function"){const d=u();if(d)return d}return typeof u=="object"?u:typeof u=="string"?{...M_e[u]??{id:u,name:`${u[0].toUpperCase()}${u.slice(1)}`,provider:`is${u[0].toUpperCase()}${u.slice(1)}`}}:{id:"injected",name:"Injected",provider(d){return d?.ethereum}}}let s,i,a,c;return u=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},type:Cv.type,async setup(){const d=await this.getProvider();d?.on&&e.target&&(a||(a=this.onConnect.bind(this),d.on("connect",a)),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)))},async connect({chainId:d,isReconnecting:h,withCapabilities:m}={}){const g=await this.getProvider();if(!g)throw new jl;let w=[];if(h)w=await this.getAccounts().catch(()=>[]);else if(t)try{w=(await g.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(E=>vd(E)),w.length>0&&(w=await this.getAccounts())}catch(v){const E=v;if(E.code===Br.code)throw new Br(E);if(E.code===uu.code)throw E}try{!w?.length&&!h&&(w=(await g.request({method:"eth_requestAccounts"})).map(A=>vd(A))),a&&(g.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),g.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),g.on("disconnect",c));let v=await this.getChainId();return d&&v!==d&&(v=(await this.switchChain({chainId:d}).catch(A=>{if(A.code===Br.code)throw A;return{id:v}}))?.id??v),t&&await u.storage?.removeItem(`${this.id}.disconnected`),e.target||await u.storage?.setItem("injected.connected",!0),{accounts:m?w.map(E=>({address:E,capabilities:{}})):w,chainId:v}}catch(v){const E=v;throw E.code===Br.code?new Br(E):E.code===uu.code?new uu(E):E}},async disconnect(){const d=await this.getProvider();if(!d)throw new jl;i&&(d.removeListener("chainChanged",i),i=void 0),c&&(d.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),d.on("connect",a));try{await zF(()=>d.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await u.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await u.storage?.removeItem("injected.connected")},async getAccounts(){const d=await this.getProvider();if(!d)throw new jl;return(await d.request({method:"eth_accounts"})).map(m=>vd(m))},async getChainId(){const d=await this.getProvider();if(!d)throw new jl;const h=await d.request({method:"eth_chainId"});return Number(h)},async getProvider(){if(typeof window>"u")return;let d;const h=r();return typeof h.provider=="function"?d=h.provider(window):typeof h.provider=="string"?d=Z1(window,h.provider):d=h.provider,d&&!d.removeListener&&("off"in d&&typeof d.off=="function"?d.removeListener=d.off:d.removeListener=()=>{}),d},async isAuthorized(){try{if(t&&await u.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await u.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const g=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",g),!!await this.getProvider()),w=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(E=>window.addEventListener("ethereum#initialized",()=>E(g()),{once:!0}))]:[],new Promise(E=>setTimeout(()=>E(g()),w))]))return!0}throw new jl}return!!(await uE(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){const m=await this.getProvider();if(!m)throw new jl;const g=u.chains.find(v=>v.id===h);if(!g)throw new Uo(new mg);const w=new Promise(v=>{const E=(A=>{"chainId"in A&&A.chainId===h&&(u.emitter.off("change",E),v())});u.emitter.on("change",E)});try{return await Promise.all([m.request({method:"wallet_switchEthereumChain",params:[{chainId:Kt(h)}]}).then(async()=>{await this.getChainId()===h&&u.emitter.emit("change",{chainId:h})}),w]),g}catch(v){const E=v;if(E.code===4902||E?.data?.originalError?.code===4902)try{const{default:A,...R}=g.blockExplorers??{};let k;d?.blockExplorerUrls?k=d.blockExplorerUrls:A&&(k=[A.url,...Object.values(R).map(S=>S.url)]);let I;d?.rpcUrls?.length?I=d.rpcUrls:I=[g.rpcUrls.default?.http[0]??""];const N={blockExplorerUrls:k,chainId:Kt(h),chainName:d?.chainName??g.name,iconUrls:d?.iconUrls,nativeCurrency:d?.nativeCurrency??g.nativeCurrency,rpcUrls:I};return await Promise.all([m.request({method:"wallet_addEthereumChain",params:[N]}).then(async()=>{if(await this.getChainId()===h)u.emitter.emit("change",{chainId:h});else throw new Br(new Error("User rejected switch after adding network."))}),w]),g}catch(A){throw new Br(A)}throw E.code===Br.code?new Br(E):new Uo(E)}},async onAccountsChanged(d){if(d.length===0)this.onDisconnect();else if(u.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),t&&await u.storage?.removeItem(`${this.id}.disconnected`)}else u.emitter.emit("change",{accounts:d.map(h=>vd(h))})},onChainChanged(d){const h=Number(d);u.emitter.emit("change",{chainId:h})},async onConnect(d){const h=await this.getAccounts();if(h.length===0)return;const m=Number(d.chainId);u.emitter.emit("connect",{accounts:h,chainId:m});const g=await this.getProvider();g&&(a&&(g.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),g.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),g.on("disconnect",c)))},async onDisconnect(d){const h=await this.getProvider();d&&d.code===1013&&h&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),h&&(i&&(h.removeListener("chainChanged",i),i=void 0),c&&(h.removeListener("disconnect",c),c=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))))}})}const M_e={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:Z1(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return Z1(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:Z1(e,"isPhantom")}}};function Z1(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function L_e(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function B_e(){const e=new Set;let t=[];const n=()=>L_e(s=>{t.some(({info:i})=>i.uuid===s.info.uuid)||(t=[...t,s],e.forEach(i=>i(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider({rdns:s}){return t.find(i=>i.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:i}={}){return e.add(s),i&&s(t,{added:t}),()=>e.delete(s)}}}const F_e=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(a,c,u)=>{let d=a;if(c){const h=u?.equalityFn||Object.is;let m=a(r.getState());d=g=>{const w=a(g);if(!h(m,w)){const v=m;c(m=w,v)}},u?.fireImmediately&&c(m,m)}return s(d)},e(t,n,r)},j_e=F_e;function z_e(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const a=u=>u===null?null:JSON.parse(u,void 0),c=(i=n.getItem(s))!=null?i:null;return c instanceof Promise?c.then(a):a(c)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const LN=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return LN(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return LN(r)(n)}}}},H_e=(e,t)=>(n,r,s)=>{let i={storage:z_e(()=>localStorage),partialize:E=>E,version:0,merge:(E,A)=>({...A,...E}),...t},a=!1;const c=new Set,u=new Set;let d=i.storage;if(!d)return e((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...E)},r,s);const h=()=>{const E=i.partialize({...r()});return d.setItem(i.name,{state:E,version:i.version})},m=s.setState;s.setState=(E,A)=>{m(E,A),h()};const g=e((...E)=>{n(...E),h()},r,s);s.getInitialState=()=>g;let w;const v=()=>{var E,A;if(!d)return;a=!1,c.forEach(k=>{var I;return k((I=r())!=null?I:g)});const R=((A=i.onRehydrateStorage)==null?void 0:A.call(i,(E=r())!=null?E:g))||void 0;return LN(d.getItem.bind(d))(i.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==i.version){if(i.migrate)return[!0,i.migrate(k.state,k.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var I;const[N,S]=k;if(w=i.merge(S,(I=r())!=null?I:g),n(w,!0),N)return h()}).then(()=>{R?.(w,void 0),w=r(),a=!0,u.forEach(k=>k(w))}).catch(k=>{R?.(void 0,k)})};return s.persist={setOptions:E=>{i={...i,...E},E.storage&&(d=E.storage)},clearStorage:()=>{d?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:E=>(c.add(E),()=>{c.delete(E)}),onFinishHydration:E=>(u.add(E),()=>{u.delete(E)})},i.skipHydration||v(),w||g},q_e=H_e,SU=e=>{let t;const n=new Set,r=(d,h)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const g=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(w=>w(t,g))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,s,c);return c},VS=e=>e?SU(e):SU;var GS={exports:{}},NU;function W_e(){return NU||(NU=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function i(u,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new s(h,m||u,g),v=n?n+d:d;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],w]:u._events[v].push(w):(u._events[v]=w,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,w=m.length,v=new Array(w);g<w;g++)v[g]=m[g].fn;return v},c.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},c.prototype.emit=function(d,h,m,g,w,v){var E=n?n+d:d;if(!this._events[E])return!1;var A=this._events[E],R=arguments.length,k,I;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),R){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,m),!0;case 4:return A.fn.call(A.context,h,m,g),!0;case 5:return A.fn.call(A.context,h,m,g,w),!0;case 6:return A.fn.call(A.context,h,m,g,w,v),!0}for(I=1,k=new Array(R-1);I<R;I++)k[I-1]=arguments[I];A.fn.apply(A.context,k)}else{var N=A.length,S;for(I=0;I<N;I++)switch(A[I].once&&this.removeListener(d,A[I].fn,void 0,!0),R){case 1:A[I].fn.call(A[I].context);break;case 2:A[I].fn.call(A[I].context,h);break;case 3:A[I].fn.call(A[I].context,h,m);break;case 4:A[I].fn.call(A[I].context,h,m,g);break;default:if(!k)for(S=1,k=new Array(R-1);S<R;S++)k[S-1]=arguments[S];A[I].fn.apply(A[I].context,k)}}return!0},c.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},c.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},c.prototype.removeListener=function(d,h,m,g){var w=n?n+d:d;if(!this._events[w])return this;if(!h)return a(this,w),this;var v=this._events[w];if(v.fn)v.fn===h&&(!g||v.once)&&(!m||v.context===m)&&a(this,w);else{for(var E=0,A=[],R=v.length;E<R;E++)(v[E].fn!==h||g&&!v[E].once||m&&v[E].context!==m)&&A.push(v[E]);A.length?this._events[w]=A.length===1?A[0]:A:a(this,w)}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(GS)),GS.exports}var V_e=W_e();const G_e=Wc(V_e);class K_e{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new G_e})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function Y_e(e){return new K_e(e)}function Z_e(e,t){return JSON.parse(e,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),t?.(n,s)??s})}function TU(e,t){return e.slice(0,t).join(".")||"."}function IU(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function X_e(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],i=[];return function(c,u){if(typeof u=="object")if(s.length){const d=IU(s,this);d===0?s[s.length]=this:(s.splice(d),i.splice(d)),i[i.length]=c;const h=IU(s,u);if(h!==0)return r?t.call(this,c,u,TU(i,h)):`[ref=${TU(i,h)}]`}else s[0]=u,i[0]=c;return n?e.call(this,c,u):u}}function J_e(e,t,n,r){return JSON.stringify(e,X_e((s,i)=>{let a=i;return typeof a=="bigint"&&(a={__type:"bigint",value:i.toString()}),a instanceof Map&&(a={__type:"Map",value:Array.from(i.entries())}),t?.(s,a)??a},r),n??void 0)}function Q_e(e){const{deserialize:t=Z_e,key:n="wagmi",serialize:r=J_e,storage:s=ZF}=e;function i(a){return a instanceof Promise?a.then(c=>c).catch(()=>null):a}return{...s,key:n,async getItem(a,c){const u=s.getItem(`${n}.${a}`),d=await i(u);return d?t(d)??null:c??null},async setItem(a,c){const u=`${n}.${a}`;c===null?await i(s.removeItem(u)):await i(s.setItem(u,r(c)))},async removeItem(a){await i(s.removeItem(`${n}.${a}`))}}}const ZF={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function eAe(){const e=typeof window<"u"&&window.localStorage?window.localStorage:ZF;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const BN=256;let E1=BN,v1;function tAe(e=11){if(!v1||E1+e>BN*2){v1="",E1=0;for(let t=0;t<BN;t++)v1+=(256+Math.random()*256|0).toString(16).substring(1)}return v1.substring(E1,E1+++e)}function nAe(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=Q_e({storage:eAe()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=e,a=typeof window<"u"&&t?B_e():void 0,c=VS(()=>i.chains),u=VS(()=>{const S=[],x=new Set;for(const P of i.connectors??[]){const L=d(P);if(S.push(L),!s&&L.rdns){const j=typeof L.rdns=="string"?[L.rdns]:L.rdns;for(const W of j)x.add(W)}}if(!s&&a){const P=a.getProviders();for(const L of P)x.has(L.info.rdns)||S.push(d(h(L)))}return S});function d(S){const x=Y_e(tAe()),P={...S({emitter:x,chains:c.getState(),storage:n,transports:i.transports}),emitter:x,uid:x.uid};return x.on("connect",I),P.setup?.(),P}function h(S){const{info:x}=S,P=S.provider;return Cv({target:{...x,id:x.rdns,provider:P}})}const m=new Map;function g(S={}){const x=S.chainId??A.getState().chainId,P=c.getState().find(j=>j.id===x);if(S.chainId&&!P)throw new mg;{const j=m.get(A.getState().chainId);if(j&&!P)return j;if(!P)throw new mg}{const j=m.get(x);if(j)return j}let L;if(i.client)L=i.client({chain:P});else{const j=P.id,W=c.getState().map(K=>K.id),Y={},G=Object.entries(i);for(const[K,Z]of G)if(!(K==="chains"||K==="client"||K==="connectors"||K==="transports"))if(typeof Z=="object")if(j in Z)Y[K]=Z[j];else{if(W.some(_=>_ in Z))continue;Y[K]=Z}else Y[K]=Z;L=YF({...Y,chain:P,batch:Y.batch??{multicall:!0},transport:K=>i.transports[j]({...K,connectors:u})})}return m.set(x,L),L}function w(){return{chainId:c.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let v;const E="0.0.0-canary-";Y1.startsWith(E)?v=Number.parseInt(Y1.replace(E,""),10):v=Number.parseInt(Y1.split(".")[0]??"0",10);const A=VS(j_e(n?q_e(w,{migrate(S,x){if(x===v)return S;const P=w(),L=R(S,P.chainId);return{...P,chainId:L}},name:"store",partialize(S){return{connections:{__type:"Map",value:Array.from(S.connections.entries()).map(([x,P])=>{const{id:L,name:j,type:W,uid:Y}=P.connector;return[x,{...P,connector:{id:L,name:j,type:W,uid:Y}}]})},chainId:S.chainId,current:S.current}},merge(S,x){typeof S=="object"&&S&&"status"in S&&delete S.status;const P=R(S,x.chainId);return{...x,...S,chainId:P}},skipHydration:s,storage:n,version:v}):w));A.setState(w());function R(S,x){return S&&typeof S=="object"&&"chainId"in S&&typeof S.chainId=="number"&&c.getState().some(P=>P.id===S.chainId)?S.chainId:x}r&&A.subscribe(({connections:S,current:x})=>x?S.get(x)?.chainId:void 0,S=>{if(c.getState().some(P=>P.id===S))return A.setState(P=>({...P,chainId:S??P.chainId}))}),a?.subscribe(S=>{const x=new Set,P=new Set;for(const j of u.getState())if(x.add(j.id),j.rdns){const W=typeof j.rdns=="string"?[j.rdns]:j.rdns;for(const Y of W)P.add(Y)}const L=[];for(const j of S){if(P.has(j.info.rdns))continue;const W=d(h(j));x.has(W.id)||L.push(W)}n&&!A.persist.hasHydrated()||u.setState(j=>[...j,...L],!0)});function k(S){A.setState(x=>{const P=x.connections.get(S.uid);return P?{...x,connections:new Map(x.connections).set(S.uid,{accounts:S.accounts??P.accounts,chainId:S.chainId??P.chainId,connector:P.connector})}:x})}function I(S){A.getState().status==="connecting"||A.getState().status==="reconnecting"||A.setState(x=>{const P=u.getState().find(L=>L.uid===S.uid);return P?(P.emitter.listenerCount("connect")&&P.emitter.off("connect",k),P.emitter.listenerCount("change")||P.emitter.on("change",k),P.emitter.listenerCount("disconnect")||P.emitter.on("disconnect",N),{...x,connections:new Map(x.connections).set(S.uid,{accounts:S.accounts,chainId:S.chainId,connector:P}),current:S.uid,status:"connected"}):x})}function N(S){A.setState(x=>{const P=x.connections.get(S.uid);if(P){const j=P.connector;j.emitter.listenerCount("change")&&P.connector.emitter.off("change",k),j.emitter.listenerCount("disconnect")&&P.connector.emitter.off("disconnect",N),j.emitter.listenerCount("connect")||P.connector.emitter.on("connect",I)}if(x.connections.delete(S.uid),x.connections.size===0)return{...x,connections:new Map,current:null,status:"disconnected"};const L=x.connections.values().next().value;return{...x,connections:new Map(x.connections),current:L.connector.uid}})}return{get chains(){return c.getState()},get connectors(){return u.getState()},storage:n,getClient:g,get state(){return A.getState()},setState(S){let x;typeof S=="function"?x=S(A.getState()):x=S;const P=w();typeof x!="object"&&(x=P),Object.keys(P).some(j=>!(j in x))&&(x=P),A.setState(x,!0)},subscribe(S,x,P){return A.subscribe(S,x,P?{...P,fireImmediately:P.emitImmediately}:void 0)},_internal:{mipd:a,async revalidate(){const S=A.getState(),x=S.connections;let P=S.current;for(const[,L]of x){const j=L.connector;j.isAuthorized&&await j.isAuthorized()||(x.delete(j.uid),P===j.uid&&(P=null))}A.setState(L=>({...L,connections:x,current:P}))},store:A,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(S){const x=typeof S=="function"?S(c.getState()):S;if(x.length!==0)return c.setState(x,!0)},subscribe(S){return c.subscribe(S)}},connectors:{providerDetailToConnector:h,setup:d,setState(S){return u.setState(typeof S=="function"?S(u.getState()):S,!0)},subscribe(S){return u.subscribe(S)}},events:{change:k,connect:I,disconnect:N}}}}var OU={};const ie={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof OU<"u"?OU.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}},HEADLESS_NOT_ENABLED:{DEFAULT:{displayMessage:"",debugMessage:"Headless support is not enabled. Please enable it with the features.headless option in the AppKit configuration and make sure your current plan supports it."}}},IS_DEVELOPMENT:typeof process<"u"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"],METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH"},yg={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;const n=e.find(s=>s.caipNetworkId===t);if(n)return n.name;const[r]=t.split(":");return ie.CHAIN_NAME_MAP?.[r]||void 0}},_v=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var rAe=20,sAe=1,Gd=1e6,RU=1e6,iAe=-7,aAe=21,oAe=!1,sy="[big.js] ",cf=sy+"Invalid ",Av=cf+"decimal places",cAe=cf+"rounding mode",XF=sy+"Division by zero",Un={},Io=void 0,lAe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function JF(){function e(t){var n=this;if(!(n instanceof e))return t===Io?JF():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(cf+"value");t=t===0&&1/t<0?"-0":String(t)}uAe(n,t)}n.constructor=e}return e.prototype=Un,e.DP=rAe,e.RM=sAe,e.NE=iAe,e.PE=aAe,e.strict=oAe,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function uAe(e,t){var n,r,s;if(!lAe.test(t))throw Error(cf+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),s=t.length,r=0;r<s&&t.charAt(r)=="0";)++r;if(r==s)e.c=[e.e=0];else{for(;s>0&&t.charAt(--s)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=s;)e.c[n++]=+t.charAt(r++)}return e}function lf(e,t,n,r){var s=e.c;if(n===Io&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(cAe);if(t<1)r=n===3&&(r||!!s[0])||t===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Io))),s.length=1,r?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){if(r=n===1&&s[t]>=5||n===2&&(s[t]>5||s[t]===5&&(r||s[t+1]!==Io||s[t-1]&1))||n===3&&(r||!!s[0]),s.length=t,r){for(;++s[--t]>9;)if(s[t]=0,t===0){++e.e,s.unshift(1);break}}for(t=s.length;!s[--t];)s.pop()}return e}function uf(e,t,n){var r=e.e,s=e.c.join(""),i=s.length;if(t)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&n?"-"+s:s}Un.abs=function(){var e=new this.constructor(this);return e.s=1,e};Un.cmp=function(e){var t,n=this,r=n.c,s=(e=new n.constructor(e)).c,i=n.s,a=e.s,c=n.e,u=e.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-a:0;if(i!=a)return i;if(t=i<0,c!=u)return c>u^t?1:-1;for(a=(c=r.length)<(u=s.length)?c:u,i=-1;++i<a;)if(r[i]!=s[i])return r[i]>s[i]^t?1:-1;return c==u?0:c>u^t?1:-1};Un.div=function(e){var t=this,n=t.constructor,r=t.c,s=(e=new n(e)).c,i=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>Gd)throw Error(Av);if(!s[0])throw Error(XF);if(!r[0])return e.s=i,e.c=[e.e=0],e;var c,u,d,h,m,g=s.slice(),w=c=s.length,v=r.length,E=r.slice(0,c),A=E.length,R=e,k=R.c=[],I=0,N=a+(R.e=t.e-e.e)+1;for(R.s=i,i=N<0?0:N,g.unshift(0);A++<c;)E.push(0);do{for(d=0;d<10;d++){if(c!=(A=E.length))h=c>A?1:-1;else for(m=-1,h=0;++m<c;)if(s[m]!=E[m]){h=s[m]>E[m]?1:-1;break}if(h<0){for(u=A==c?s:g;A;){if(E[--A]<u[A]){for(m=A;m&&!E[--m];)E[m]=9;--E[m],E[A]+=10}E[A]-=u[A]}for(;!E[0];)E.shift()}else break}k[I++]=h?d:++d,E[0]&&h?E[A]=r[w]||0:E=[r[w]]}while((w++<v||E[0]!==Io)&&i--);return!k[0]&&I!=1&&(k.shift(),R.e--,N--),I>N&&lf(R,N,n.RM,E[0]!==Io),R};Un.eq=function(e){return this.cmp(e)===0};Un.gt=function(e){return this.cmp(e)>0};Un.gte=function(e){return this.cmp(e)>-1};Un.lt=function(e){return this.cmp(e)<0};Un.lte=function(e){return this.cmp(e)<1};Un.minus=Un.sub=function(e){var t,n,r,s,i=this,a=i.constructor,c=i.s,u=(e=new a(e)).s;if(c!=u)return e.s=-u,i.plus(e);var d=i.c.slice(),h=i.e,m=e.c,g=e.e;if(!d[0]||!m[0])return m[0]?e.s=-u:d[0]?e=new a(i):e.s=1,e;if(c=h-g){for((s=c<0)?(c=-c,r=d):(g=h,r=m),r.reverse(),u=c;u--;)r.push(0);r.reverse()}else for(n=((s=d.length<m.length)?d:m).length,c=u=0;u<n;u++)if(d[u]!=m[u]){s=d[u]<m[u];break}if(s&&(r=d,d=m,m=r,e.s=-e.s),(u=(n=m.length)-(t=d.length))>0)for(;u--;)d[t++]=0;for(u=t;n>c;){if(d[--n]<m[n]){for(t=n;t&&!d[--t];)d[t]=9;--d[t],d[n]+=10}d[n]-=m[n]}for(;d[--u]===0;)d.pop();for(;d[0]===0;)d.shift(),--g;return d[0]||(e.s=1,d=[g=0]),e.c=d,e.e=g,e};Un.mod=function(e){var t,n=this,r=n.constructor,s=n.s,i=(e=new r(e)).s;if(!e.c[0])throw Error(XF);return n.s=e.s=1,t=e.cmp(n)==1,n.s=s,e.s=i,t?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=s,r.RM=i,this.minus(n.times(e)))};Un.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};Un.plus=Un.add=function(e){var t,n,r,s=this,i=s.constructor;if(e=new i(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var a=s.e,c=s.c,u=e.e,d=e.c;if(!c[0]||!d[0])return d[0]||(c[0]?e=new i(s):e.s=s.s),e;if(c=c.slice(),t=a-u){for(t>0?(u=a,r=d):(t=-t,r=c),r.reverse();t--;)r.push(0);r.reverse()}for(c.length-d.length<0&&(r=d,d=c,c=r),t=d.length,n=0;t;c[t]%=10)n=(c[--t]=c[t]+d[t]+n)/10|0;for(n&&(c.unshift(n),++u),t=c.length;c[--t]===0;)c.pop();return e.c=c,e.e=u,e};Un.pow=function(e){var t=this,n=new t.constructor("1"),r=n,s=e<0;if(e!==~~e||e<-RU||e>RU)throw Error(cf+"exponent");for(s&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return s?n.div(r):r};Un.prec=function(e,t){if(e!==~~e||e<1||e>Gd)throw Error(cf+"precision");return lf(new this.constructor(this),e,t)};Un.round=function(e,t){if(e===Io)e=0;else if(e!==~~e||e<-Gd||e>Gd)throw Error(Av);return lf(new this.constructor(this),e+this.e+1,t)};Un.sqrt=function(){var e,t,n,r=this,s=r.constructor,i=r.s,a=r.e,c=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(sy+"No square root");i=Math.sqrt(+uf(r,!0,!0)),i===0||i===1/0?(t=r.c.join(""),t.length+a&1||(t+="0"),i=Math.sqrt(t),a=((a+1)/2|0)-(a<0||a&1),e=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+a)):e=new s(i+""),a=e.e+(s.DP+=4);do n=e,e=c.times(n.plus(r.div(n)));while(n.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return lf(e,(s.DP-=4)+e.e+1,s.RM)};Un.times=Un.mul=function(e){var t,n=this,r=n.constructor,s=n.c,i=(e=new r(e)).c,a=s.length,c=i.length,u=n.e,d=e.e;if(e.s=n.s==e.s?1:-1,!s[0]||!i[0])return e.c=[e.e=0],e;for(e.e=u+d,a<c&&(t=s,s=i,i=t,d=a,a=c,c=d),t=new Array(d=a+c);d--;)t[d]=0;for(u=c;u--;){for(c=0,d=a+u;d>u;)c=t[d]+i[u]*s[d-u-1]+c,t[d--]=c%10,c=c/10|0;t[d]=c}for(c?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e};Un.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==Io){if(e!==~~e||e<0||e>Gd)throw Error(Av);for(n=lf(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return uf(n,!0,!!r)};Un.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==Io){if(e!==~~e||e<0||e>Gd)throw Error(Av);for(n=lf(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return uf(n,!1,!!r)};Un[Symbol.for("nodejs.util.inspect.custom")]=Un.toJSON=Un.toString=function(){var e=this,t=e.constructor;return uf(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};Un.toNumber=function(){var e=+uf(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(sy+"Imprecise conversion");return e};Un.toPrecision=function(e,t){var n=this,r=n.constructor,s=n.c[0];if(e!==Io){if(e!==~~e||e<1||e>Gd)throw Error(cf+"precision");for(n=lf(new r(n),e,t);n.c.length<e;)n.c.push(0)}return uf(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Un.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(sy+"valueOf disallowed");return uf(e,e.e<=t.NE||e.e>=t.PE,!0)};var Ul=JF();const QF={bigNumber(e){return e?new Ul(e):new Ul(0)},multiply(e,t){if(e===void 0||t===void 0)return new Ul(0);const n=new Ul(e),r=new Ul(t);return n.times(r)},toFixed(e,t=2){return e===void 0||e===""?new Ul(0).toFixed(t):new Ul(e).toFixed(t)},formatNumberToLocalString(e,t=2){return e===void 0||e===""?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber(e){if(e===void 0||e==="")return 0;const t=e.replace(/,/gu,"");return new Ul(t).toNumber()}},dAe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],fAe=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],hAe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ej={getERC20Abi:e=>ie.USDT_CONTRACT_ADDRESSES.includes(e)?hAe:dAe,getSwapAbi:()=>fAe},hc={ConnectorExplorerIds:{[ie.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ie.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ie.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ie.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ie.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ie.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[ie.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[ie.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[ie.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[ie.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[ie.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[ie.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[ie.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[ie.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[ie.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[ie.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[ie.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[ie.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[ie.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},ConnectorImageIds:{[ie.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ie.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ie.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[ie.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ie.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ie.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ie.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ie.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ie.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ie.CONNECTOR_ID.COINBASE]:"Coinbase",[ie.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ie.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[ie.CONNECTOR_ID.LEDGER]:"Ledger",[ie.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ie.CONNECTOR_ID.INJECTED]:"INJECTED",[ie.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ie.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ie.CONNECTOR_ID.AUTH]:"AUTH"}},kr={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,r,s]=t;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}},wa={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(e){try{if(typeof e=="object"&&e!==null){const t=e,n=typeof t.message=="string",r=typeof t.code=="number";return n&&r}return!1}catch{return!1}},isUserRejectedMessage(e){return e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled")},isUserRejectedRequestError(e){if(wa.isRpcProviderError(e)){const t=e.code===wa.RPC_ERROR_CODE.USER_REJECTED_REQUEST,n=e.code===wa.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||n||wa.isUserRejectedMessage(e.message)}return e instanceof Error?wa.isUserRejectedMessage(e.message):!1}};class pAe extends Error{constructor(t,n){super(n.message,{cause:t}),this.name=wa.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=n.code}}class Ad extends pAe{constructor(t){super(t,{code:wa.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=wa.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}const pe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};function $h(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const fe={setItem(e,t){C1()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(C1())return localStorage.getItem(e)||void 0},removeItem(e){C1()&&localStorage.removeItem(e)},clear(){C1()&&localStorage.clear()}};function C1(){return typeof window<"u"&&typeof localStorage<"u"}function wu(e,t){const n=e?.["--apkt-accent"]??e?.["--w3m-accent"];return t==="light"?{"--w3m-accent":n||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":n||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}const mAe=Symbol(),xU=Object.getPrototypeOf,FN=new WeakMap,gAe=e=>e&&(FN.has(e)?FN.get(e):xU(e)===Object.prototype||xU(e)===Array.prototype),yAe=e=>gAe(e)&&e[mAe]||null,kU=(e,t=!0)=>{FN.set(e,t)},pE={},GT=e=>typeof e=="object"&&e!==null,bAe=e=>GT(e)&&!iy.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),tj=(e,t)=>{const n=jN.get(e);if(n?.[0]===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return kU(r,!0),jN.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(e,s),{enumerable:a}=Reflect.getOwnPropertyDescriptor(e,s),c={value:i,enumerable:a,configurable:!0};if(iy.has(i))kU(i,!1);else if(Eu.has(i)){const[u,d]=Eu.get(i);c.value=tj(u,d())}Object.defineProperty(r,s,c)}),Object.preventExtensions(r)},wAe=(e,t,n,r)=>({deleteProperty(s,i){const a=Reflect.get(s,i);n(i);const c=Reflect.deleteProperty(s,i);return c&&r(["delete",[i],a]),c},set(s,i,a,c){const u=!e()&&Reflect.has(s,i),d=Reflect.get(s,i,c);if(u&&(PU(d,a)||bg.has(a)&&PU(d,bg.get(a))))return!0;n(i),GT(a)&&(a=yAe(a)||a);const h=!Eu.has(a)&&vAe(a)?Tt(a):a;return t(i,h),Reflect.set(s,i,h,c),r(["set",[i],a,d]),!0}}),Eu=new WeakMap,iy=new WeakSet,jN=new WeakMap,X1=[1],bg=new WeakMap;let PU=Object.is,EAe=(e,t)=>new Proxy(e,t),vAe=bAe,CAe=tj,_Ae=wAe;function Tt(e={}){if(!GT(e))throw new Error("object required");const t=bg.get(e);if(t)return t;let n=X1[0];const r=new Set,s=(A,R=++X1[0])=>{n!==R&&(i=n=R,r.forEach(k=>k(A,R)))};let i=n;const a=(A=X1[0])=>(i!==A&&(i=A,u.forEach(([R])=>{const k=R[1](A);k>n&&(n=k)})),n),c=A=>(R,k)=>{const I=[...R];I[1]=[A,...I[1]],s(I,k)},u=new Map,d=(A,R)=>{const k=!iy.has(R)&&Eu.get(R);if(k){if((pE?"production":void 0)!=="production"&&u.has(A))throw new Error("prop listener already exists");if(r.size){const I=k[2](c(A));u.set(A,[k,I])}else u.set(A,[k])}},h=A=>{var R;const k=u.get(A);k&&(u.delete(A),(R=k[1])==null||R.call(k))},m=A=>(r.add(A),r.size===1&&u.forEach(([k,I],N)=>{if((pE?"production":void 0)!=="production"&&I)throw new Error("remove already exists");const S=k[2](c(N));u.set(N,[k,S])}),()=>{r.delete(A),r.size===0&&u.forEach(([k,I],N)=>{I&&(I(),u.set(N,[k]))})});let g=!0;const w=_Ae(()=>g,d,h,s),v=EAe(e,w);bg.set(e,v);const E=[e,a,m];return Eu.set(v,E),Reflect.ownKeys(e).forEach(A=>{const R=Object.getOwnPropertyDescriptor(e,A);"value"in R&&R.writable&&(v[A]=e[A])}),g=!1,v}function On(e,t,n){const r=Eu.get(e);(pE?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],a=r[2];let c=!1;const d=a(h=>{i.push(h),s||(s=Promise.resolve().then(()=>{s=void 0,c&&t(i.splice(0))}))});return c=!0,()=>{c=!1,d()}}function $o(e){const t=Eu.get(e);(pE?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return CAe(n,r())}function Do(e){return iy.add(e),e}function AAe(){return{proxyStateMap:Eu,refSet:iy,snapCache:jN,versionHolder:X1,proxyCache:bg}}function Sn(e,t,n,r){let s=e[t];return On(e,()=>{const i=e[t];Object.is(s,i)||n(s=i)})}const{proxyStateMap:SAe,snapCache:NAe}=AAe(),_1=e=>SAe.has(e);function nj(e){const t=[];let n=0;const r=new Map,s=new WeakMap,i=()=>{const d=NAe.get(c),h=d?.[1];if(h&&!s.has(h)){const m=new Map(r);s.set(h,m)}},a=d=>s.get(d)||r,c={data:t,index:n,epoch:0,get size(){return _1(this)||i(),a(this).size},get(d){const m=a(this).get(d);if(m===void 0){this.epoch;return}return this.data[m]},has(d){const h=a(this);return this.epoch,h.has(d)},set(d,h){if(!_1(this))throw new Error("Cannot perform mutations on a snapshot");const m=r.get(d);return m===void 0?(r.set(d,this.index),this.data[this.index++]=h):this.data[m]=h,this.epoch++,this},delete(d){if(!_1(this))throw new Error("Cannot perform mutations on a snapshot");const h=r.get(d);return h===void 0?!1:(delete this.data[h],r.delete(d),this.epoch++,!0)},clear(){if(!_1(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(d){this.epoch,a(this).forEach((m,g)=>{d(this.data[m],g,this)})},*entries(){this.epoch;const d=a(this);for(const[h,m]of d)yield[h,this.data[m]]},*keys(){this.epoch;const d=a(this);for(const h of d.keys())yield h},*values(){this.epoch;const d=a(this);for(const h of d.values())yield this.data[h]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},u=Tt(c);return Object.defineProperties(u,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(u),u}const _s={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",NAMES_SUPPORTED_CHAIN_NAMESPACES:[ie.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,DEFAULT_REMOTE_FEATURES:{socials:["google","x","discord","farcaster","github","apple","facebook"]},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1,headless:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},Ue={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=Ue.getActiveNamespace(),t=Ue.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{fe.setItem(pe.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=fe.getItem(pe.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{fe.removeItem(pe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{fe.setItem(pe.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{fe.setItem(pe.ACTIVE_CAIP_NETWORK_ID,e),Ue.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return fe.getItem(pe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{fe.removeItem(pe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=$h(e);fe.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=Ue.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),fe.setItem(pe.RECENT_WALLETS,JSON.stringify(t)),fe.setItem(pe.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=fe.getItem(pe.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const e=fe.getItem(pe.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{fe.removeItem(pe.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{const n=$h(e);fe.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return fe.getItem(pe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=$h(e);return fe.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{fe.setItem(pe.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return fe.getItem(pe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{fe.removeItem(pe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return fe.getItem(pe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return fe.getItem(pe.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{fe.setItem(pe.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return fe.getItem(pe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=fe.getItem(pe.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));fe.setItem(pe.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=Ue.getConnectedNamespaces();t.includes(e)||(t.push(e),Ue.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=Ue.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),Ue.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return fe.getItem(pe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{fe.setItem(pe.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{fe.removeItem(pe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=fe.getItem(pe.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=Ue.getBalanceCache();fe.setItem(pe.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const n=Ue.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Ue.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=Ue.getBalanceCache();t[e.caipAddress]=e,fe.setItem(pe.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=fe.getItem(pe.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=Ue.getBalanceCache();fe.setItem(pe.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const n=Ue.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),Ue.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=Ue.getNativeBalanceCache();t[e.caipAddress]=e,fe.setItem(pe.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=fe.getItem(pe.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const n=Ue.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Ue.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=Ue.getEnsCache();t[e.address]=e,fe.setItem(pe.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=Ue.getEnsCache();fe.setItem(pe.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=fe.getItem(pe.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const n=Ue.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Ue.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=Ue.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},fe.setItem(pe.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=Ue.getIdentityCache();fe.setItem(pe.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},getTonWalletsCache(){try{const e=fe.getItem(pe.TON_WALLETS_CACHE),t=e?JSON.parse(e):void 0;if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tonWallets))return t;Ue.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(e){try{const t=Ue.getTonWalletsCache()||{timestamp:0,wallets:[]};t.timestamp=new Date().getTime(),t.wallets=e,fe.setItem(pe.TON_WALLETS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ton wallets cache",e)}},removeTonWalletsCache(){try{fe.removeItem(pe.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{fe.removeItem(pe.PORTFOLIO_CACHE),fe.removeItem(pe.NATIVE_BALANCE_CACHE),fe.removeItem(pe.ENS_CACHE),fe.removeItem(pe.IDENTITY_CACHE),fe.removeItem(pe.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{fe.setItem(pe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=fe.getItem(pe.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=Ue.getConnections(),r=n[t]??[],s=new Map;for(const a of r)s.set(a.connectorId,{...a});for(const a of e){const c=s.get(a.connectorId),u=a.connectorId===ie.CONNECTOR_ID.AUTH;if(c&&!u){const d=new Set(c.accounts.map(m=>m.address.toLowerCase())),h=a.accounts.filter(m=>!d.has(m.address.toLowerCase()));c.accounts.push(...h)}else s.set(a.connectorId,{...a})}const i={...n,[t]:Array.from(s.values())};fe.setItem(pe.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=fe.getItem(pe.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const r=Ue.getConnections(),s=r[n]??[],i=new Map(s.map(c=>[c.connectorId,c])),a=i.get(e);a&&(a.accounts.filter(u=>u.address.toLowerCase()!==t.toLowerCase()).length===0?i.delete(e):i.set(e,{...a,accounts:a.accounts.filter(u=>u.address.toLowerCase()!==t.toLowerCase())})),fe.setItem(pe.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=fe.getItem(pe.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=Ue.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),fe.setItem(pe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=Ue.getDisconnectedConnectorIds();let r=n[t]??[];r=r.filter(s=>s.toLowerCase()!==e.toLowerCase()),fe.setItem(pe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(Ue.getDisconnectedConnectorIds()[t]??[]).some(s=>s.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=fe.getItem(pe.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{const r=Ue.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;Ue.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{const s=Ue.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:n,transactions:r}},fe.setItem(pe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{const n=Ue.getTransactionsCache(),r=n?.[e]||{},{[t]:s,...i}=r;fe.setItem(pe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:i}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=fe.getItem(pe.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const n=Ue.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;Ue.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=Ue.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},fe.setItem(pe.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=Ue.getTokenPriceCache();fe.setItem(pe.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{const e=this.getLatestAppKitVersionCache(),t=e?.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const e=fe.getItem(pe.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{const t=Ue.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,fe.setItem(pe.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}},at={getWindow(){if(!(typeof window>"u"))return window},isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return at.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=_s.TEN_SEC_MS:!0},isAllowedRetry(e,t=_s.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(at.isClient()&&window.self!==window.top)try{const e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){const n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+_s.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function s(){e(...r)}n&&clearTimeout(n),n=setTimeout(s,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(at.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,s=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!s?.endsWith("/")&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const i=encodeURIComponent(t);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(e,t){if(!at.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?Ue.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=e});return Promise.race([t,at.wait(2e3)])},parseBalance(e,t){let n="0.000";if(typeof e=="string"){const u=Number(e);if(!isNaN(u)){const d=(Math.floor(u*1e3)/1e3).toFixed(3);d&&(n=d)}}const[r,s]=n.split("."),i=r||"0",a=s||"000";return{formattedText:`${i}.${a}${t?` ${t}`:""}`,value:i,decimals:a,symbol:t}},getApiUrl(){return ie.W3M_API_URL},getBlockchainApiUrl(){return ie.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ie.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,s)=>{n[r]=s}),t.sort((r,s)=>{const i=n[r.id],a=n[s.id];return i!==void 0&&a!==void 0?i-a:i!==void 0?-1:a!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const s=r[t];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(e,t,n){const s=e.length===0?_s.ADAPTER_TYPES.UNIVERSAL:e.map(i=>i.adapterType).join(",");return`${t}-${s}-${n}`},createAccount(e,t,n,r,s){return{namespace:e,address:t,type:n,publicKey:r,path:s}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in ie.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const s="provider_authorization_url=",i=e.substring(e.indexOf(s)+s.length),a=this.injectIntoUrl(decodeURIComponent(i),n,t);return e.replace(i,encodeURIComponent(a))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const s=e.indexOf("&",r),i=t.length,a=s!==-1?s:e.length,c=e.substring(0,r+i),u=e.substring(r+i,a),d=e.substring(s),h=u+n;return c+h+d}};var cp={};const TAe="https://secure.walletconnect.org/sdk",IAe=(typeof process<"u"&&typeof cp<"u"?cp.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||TAe,OAe=(typeof process<"u"&&typeof cp<"u"?cp.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",RAe=(typeof process<"u"&&typeof cp<"u"?cp.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ve={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Wn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},UU={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Tr={set(e,t){Eo.isClient&&localStorage.setItem(`${Ve.STORAGE_KEY}${e}`,t)},get(e){return Eo.isClient?localStorage.getItem(`${Ve.STORAGE_KEY}${e}`):null},delete(e,t){Eo.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${Ve.STORAGE_KEY}${e}`))}},A1=30*1e3,Eo={checkIfAllowedToTriggerEmail(){const e=Tr.get(Ve.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<A1){const n=Math.ceil((A1-t)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const e=Tr.get(Ve.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<A1)return Math.ceil((A1-t)/1e3)}return 0},checkIfRequestExists(e){return Wn.NOT_SAFE_RPC_METHODS.includes(e.method)||Wn.SAFE_RPC_METHODS.includes(e.method)},getResponseType(e){return typeof e=="string"&&(e?.match(UU.transactionHash)||e?.match(UU.signedMessage))?Ve.RPC_RESPONSE_TYPE_TX:Ve.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(e){return Wn.SAFE_RPC_METHODS.includes(e.method)},isClient:typeof window<"u"};var Cn;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),a={};for(const c of i)a[c]=s[c];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Cn||(Cn={}));var zN;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(zN||(zN={}));const Fe=Cn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zl=e=>{switch(typeof e){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return isNaN(e)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(e)?Fe.array:e===null?Fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Fe.promise:typeof Map<"u"&&e instanceof Map?Fe.map:typeof Set<"u"&&e instanceof Set?Fe.set:typeof Date<"u"&&e instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},Ne=Cn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),xAe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Xa extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(a))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Cn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Xa.create=e=>new Xa(e);const wg=(e,t)=>{let n;switch(e.code){case Ne.invalid_type:e.received===Fe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Cn.jsonStringifyReplacer)}`;break;case Ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${Cn.joinValues(e.keys,", ")}`;break;case Ne.invalid_union:n="Invalid input";break;case Ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Cn.joinValues(e.options)}`;break;case Ne.invalid_enum_value:n=`Invalid enum value. Expected ${Cn.joinValues(e.options)}, received '${e.received}'`;break;case Ne.invalid_arguments:n="Invalid function arguments";break;case Ne.invalid_return_type:n="Invalid function return type";break;case Ne.invalid_date:n="Invalid date";break;case Ne.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Cn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Ne.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Ne.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Ne.custom:n="Invalid input";break;case Ne.invalid_intersection_types:n="Intersection results could not be merged";break;case Ne.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ne.not_finite:n="Number must be finite";break;default:n=t.defaultError,Cn.assertNever(e)}return{message:n}};let rj=wg;function kAe(e){rj=e}function mE(){return rj}const gE=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};let c="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)c=d(a,{data:t,defaultError:c}).message;return{...s,path:i,message:s.message||c}},PAe=[];function Ke(e,t){const n=gE({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,mE(),wg].filter(r=>!!r)});e.common.issues.push(n)}class Ss{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return xt;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Ss.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return xt;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}}const xt=Object.freeze({status:"aborted"}),sj=e=>({status:"dirty",value:e}),Bs=e=>({status:"valid",value:e}),HN=e=>e.status==="aborted",qN=e=>e.status==="dirty",Eg=e=>e.status==="valid",yE=e=>typeof Promise<"u"&&e instanceof Promise;var ft;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(ft||(ft={}));class Mo{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $U=(e,t)=>{if(Eg(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xa(e.common.issues);return this._error=n,this._error}}};function Mt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,c)=>a.code!=="invalid_type"?{message:c.defaultError}:typeof c.data>"u"?{message:r??c.defaultError}:{message:n??c.defaultError},description:s}}class zt{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Zl(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Zl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ss,ctx:{common:t.parent.common,data:t.data,parsedType:Zl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(yE(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zl(t)},i=this._parseSync({data:t,path:s.path,parent:s});return $U(s,i)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zl(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(yE(s)?s:Promise.resolve(s));return $U(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=t(s),c=()=>i.addIssue({code:Ne.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new ro({schema:this,typeName:bt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Fc.create(this,this._def)}nullable(){return Zd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ja.create(this,this._def)}promise(){return up.create(this,this._def)}or(t){return Ag.create([this,t],this._def)}and(t){return Sg.create(this,t,this._def)}transform(t){return new ro({...Mt(this._def),schema:this,typeName:bt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Rg({...Mt(this._def),innerType:this,defaultValue:n,typeName:bt.ZodDefault})}brand(){return new aj({typeName:bt.ZodBranded,type:this,...Mt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new vE({...Mt(this._def),innerType:this,catchValue:n,typeName:bt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return ay.create(this,t)}readonly(){return _E.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UAe=/^c[^\s-]{8,}$/i,$Ae=/^[a-z][a-z0-9]*$/,DAe=/^[0-9A-HJKMNP-TV-Z]{26}$/,MAe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,LAe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BAe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let KS;const FAe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,jAe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,zAe=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function HAe(e,t){return!!((t==="v4"||!t)&&FAe.test(e)||(t==="v6"||!t)&&jAe.test(e))}class Ga extends zt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Fe.string){const i=this._getOrReturnCtx(t);return Ke(i,{code:Ne.invalid_type,expected:Fe.string,received:i.parsedType}),xt}const r=new Ss;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Ke(s,{code:Ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Ke(s,{code:Ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,c=t.data.length<i.value;(a||c)&&(s=this._getOrReturnCtx(t,s),a?Ke(s,{code:Ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&Ke(s,{code:Ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")LAe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ke(s,{validation:"email",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")KS||(KS=new RegExp(BAe,"u")),KS.test(t.data)||(s=this._getOrReturnCtx(t,s),Ke(s,{validation:"emoji",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")MAe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ke(s,{validation:"uuid",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")UAe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ke(s,{validation:"cuid",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")$Ae.test(t.data)||(s=this._getOrReturnCtx(t,s),Ke(s,{validation:"cuid2",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")DAe.test(t.data)||(s=this._getOrReturnCtx(t,s),Ke(s,{validation:"ulid",code:Ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ke(s,{validation:"url",code:Ne.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ke(s,{validation:"regex",code:Ne.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Ke(s,{code:Ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ke(s,{code:Ne.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ke(s,{code:Ne.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?zAe(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ke(s,{code:Ne.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?HAe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ke(s,{validation:"ip",code:Ne.invalid_string,message:i.message}),r.dirty()):Cn.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:Ne.invalid_string,...ft.errToObj(r)})}_addCheck(t){return new Ga({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ft.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ft.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ft.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ft.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ft.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ft.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ft.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ft.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,...ft.errToObj(t?.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ft.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...ft.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ft.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ft.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ft.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ft.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ft.errToObj(n)})}nonempty(t){return this.min(1,ft.errToObj(t))}trim(){return new Ga({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ga({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ga({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ga.create=e=>{var t;return new Ga({checks:[],typeName:bt.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Mt(e)})};function qAe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class vu extends zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Fe.number){const i=this._getOrReturnCtx(t);return Ke(i,{code:Ne.invalid_type,expected:Fe.number,received:i.parsedType}),xt}let r;const s=new Ss;for(const i of this._def.checks)i.kind==="int"?Cn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ke(r,{code:Ne.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Ke(r,{code:Ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Ke(r,{code:Ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?qAe(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),Ke(r,{code:Ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ke(r,{code:Ne.not_finite,message:i.message}),s.dirty()):Cn.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ft.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ft.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ft.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ft.toString(n))}setLimit(t,n,r,s){return new vu({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ft.toString(s)}]})}_addCheck(t){return new vu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ft.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ft.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ft.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ft.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ft.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ft.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ft.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ft.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ft.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Cn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}vu.create=e=>new vu({checks:[],typeName:bt.ZodNumber,coerce:e?.coerce||!1,...Mt(e)});class Cu extends zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Fe.bigint){const i=this._getOrReturnCtx(t);return Ke(i,{code:Ne.invalid_type,expected:Fe.bigint,received:i.parsedType}),xt}let r;const s=new Ss;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Ke(r,{code:Ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Ke(r,{code:Ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ke(r,{code:Ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Cn.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ft.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ft.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ft.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ft.toString(n))}setLimit(t,n,r,s){return new Cu({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ft.toString(s)}]})}_addCheck(t){return new Cu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ft.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ft.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ft.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ft.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ft.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Cu.create=e=>{var t;return new Cu({checks:[],typeName:bt.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Mt(e)})};class vg extends zt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Fe.boolean){const r=this._getOrReturnCtx(t);return Ke(r,{code:Ne.invalid_type,expected:Fe.boolean,received:r.parsedType}),xt}return Bs(t.data)}}vg.create=e=>new vg({typeName:bt.ZodBoolean,coerce:e?.coerce||!1,...Mt(e)});class Kd extends zt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Fe.date){const i=this._getOrReturnCtx(t);return Ke(i,{code:Ne.invalid_type,expected:Fe.date,received:i.parsedType}),xt}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ke(i,{code:Ne.invalid_date}),xt}const r=new Ss;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Ke(s,{code:Ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Ke(s,{code:Ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Cn.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Kd({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ft.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ft.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Kd.create=e=>new Kd({checks:[],coerce:e?.coerce||!1,typeName:bt.ZodDate,...Mt(e)});class bE extends zt{_parse(t){if(this._getType(t)!==Fe.symbol){const r=this._getOrReturnCtx(t);return Ke(r,{code:Ne.invalid_type,expected:Fe.symbol,received:r.parsedType}),xt}return Bs(t.data)}}bE.create=e=>new bE({typeName:bt.ZodSymbol,...Mt(e)});class Cg extends zt{_parse(t){if(this._getType(t)!==Fe.undefined){const r=this._getOrReturnCtx(t);return Ke(r,{code:Ne.invalid_type,expected:Fe.undefined,received:r.parsedType}),xt}return Bs(t.data)}}Cg.create=e=>new Cg({typeName:bt.ZodUndefined,...Mt(e)});class _g extends zt{_parse(t){if(this._getType(t)!==Fe.null){const r=this._getOrReturnCtx(t);return Ke(r,{code:Ne.invalid_type,expected:Fe.null,received:r.parsedType}),xt}return Bs(t.data)}}_g.create=e=>new _g({typeName:bt.ZodNull,...Mt(e)});class lp extends zt{constructor(){super(...arguments),this._any=!0}_parse(t){return Bs(t.data)}}lp.create=e=>new lp({typeName:bt.ZodAny,...Mt(e)});class Od extends zt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Bs(t.data)}}Od.create=e=>new Od({typeName:bt.ZodUnknown,...Mt(e)});class qc extends zt{_parse(t){const n=this._getOrReturnCtx(t);return Ke(n,{code:Ne.invalid_type,expected:Fe.never,received:n.parsedType}),xt}}qc.create=e=>new qc({typeName:bt.ZodNever,...Mt(e)});class wE extends zt{_parse(t){if(this._getType(t)!==Fe.undefined){const r=this._getOrReturnCtx(t);return Ke(r,{code:Ne.invalid_type,expected:Fe.void,received:r.parsedType}),xt}return Bs(t.data)}}wE.create=e=>new wE({typeName:bt.ZodVoid,...Mt(e)});class Ja extends zt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==Fe.array)return Ke(n,{code:Ne.invalid_type,expected:Fe.array,received:n.parsedType}),xt;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(a||c)&&(Ke(n,{code:a?Ne.too_big:Ne.too_small,minimum:c?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ke(n,{code:Ne.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ke(n,{code:Ne.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>s.type._parseAsync(new Mo(n,a,n.path,c)))).then(a=>Ss.mergeArray(r,a));const i=[...n.data].map((a,c)=>s.type._parseSync(new Mo(n,a,n.path,c)));return Ss.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Ja({...this._def,minLength:{value:t,message:ft.toString(n)}})}max(t,n){return new Ja({...this._def,maxLength:{value:t,message:ft.toString(n)}})}length(t,n){return new Ja({...this._def,exactLength:{value:t,message:ft.toString(n)}})}nonempty(t){return this.min(1,t)}}Ja.create=(e,t)=>new Ja({type:e,minLength:null,maxLength:null,exactLength:null,typeName:bt.ZodArray,...Mt(t)});function Eh(e){if(e instanceof ar){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Fc.create(Eh(r))}return new ar({...e._def,shape:()=>t})}else return e instanceof Ja?new Ja({...e._def,type:Eh(e.element)}):e instanceof Fc?Fc.create(Eh(e.unwrap())):e instanceof Zd?Zd.create(Eh(e.unwrap())):e instanceof Lo?Lo.create(e.items.map(t=>Eh(t))):e}class ar extends zt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Cn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Fe.object){const d=this._getOrReturnCtx(t);return Ke(d,{code:Ne.invalid_type,expected:Fe.object,received:d.parsedType}),xt}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof qc&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||c.push(d);const u=[];for(const d of a){const h=i[d],m=s.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new Mo(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof qc){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of c)u.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")c.length>0&&(Ke(s,{code:Ne.unrecognized_keys,keys:c}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of c){const m=s.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new Mo(s,m,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const m=await h.key;d.push({key:m,value:await h.value,alwaysSet:h.alwaysSet})}return d}).then(d=>Ss.mergeObjectSync(r,d)):Ss.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return ft.errToObj,new ar({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,i,a,c;const u=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=ft.errToObj(t).message)!==null&&c!==void 0?c:u}:{message:u}}}:{}})}strip(){return new ar({...this._def,unknownKeys:"strip"})}passthrough(){return new ar({...this._def,unknownKeys:"passthrough"})}extend(t){return new ar({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ar({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:bt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ar({...this._def,catchall:t})}pick(t){const n={};return Cn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ar({...this._def,shape:()=>n})}omit(t){const n={};return Cn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new ar({...this._def,shape:()=>n})}deepPartial(){return Eh(this)}partial(t){const n={};return Cn.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new ar({...this._def,shape:()=>n})}required(t){const n={};return Cn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Fc;)i=i._def.innerType;n[r]=i}}),new ar({...this._def,shape:()=>n})}keyof(){return ij(Cn.objectKeys(this.shape))}}ar.create=(e,t)=>new ar({shape:()=>e,unknownKeys:"strip",catchall:qc.create(),typeName:bt.ZodObject,...Mt(t)});ar.strictCreate=(e,t)=>new ar({shape:()=>e,unknownKeys:"strict",catchall:qc.create(),typeName:bt.ZodObject,...Mt(t)});ar.lazycreate=(e,t)=>new ar({shape:e,unknownKeys:"strip",catchall:qc.create(),typeName:bt.ZodObject,...Mt(t)});class Ag extends zt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const a=i.map(c=>new Xa(c.ctx.common.issues));return Ke(n,{code:Ne.invalid_union,unionErrors:a}),xt}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=a.map(u=>new Xa(u));return Ke(n,{code:Ne.invalid_union,unionErrors:c}),xt}}get options(){return this._def.options}}Ag.create=(e,t)=>new Ag({options:e,typeName:bt.ZodUnion,...Mt(t)});const J1=e=>e instanceof Tg?J1(e.schema):e instanceof ro?J1(e.innerType()):e instanceof Ig?[e.value]:e instanceof _u?e.options:e instanceof Og?Object.keys(e.enum):e instanceof Rg?J1(e._def.innerType):e instanceof Cg?[void 0]:e instanceof _g?[null]:null;class Sv extends zt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.object)return Ke(n,{code:Ne.invalid_type,expected:Fe.object,received:n.parsedType}),xt;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Ke(n,{code:Ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),xt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const a=J1(i.shape[t]);if(!a)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of a){if(s.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);s.set(c,i)}}return new Sv({typeName:bt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Mt(r)})}}function WN(e,t){const n=Zl(e),r=Zl(t);if(e===t)return{valid:!0,data:e};if(n===Fe.object&&r===Fe.object){const s=Cn.objectKeys(t),i=Cn.objectKeys(e).filter(c=>s.indexOf(c)!==-1),a={...e,...t};for(const c of i){const u=WN(e[c],t[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}else if(n===Fe.array&&r===Fe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],c=t[i],u=WN(a,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===Fe.date&&r===Fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Sg extends zt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,a)=>{if(HN(i)||HN(a))return xt;const c=WN(i.value,a.value);return c.valid?((qN(i)||qN(a))&&n.dirty(),{status:n.value,value:c.data}):(Ke(r,{code:Ne.invalid_intersection_types}),xt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Sg.create=(e,t,n)=>new Sg({left:e,right:t,typeName:bt.ZodIntersection,...Mt(n)});class Lo extends zt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.array)return Ke(r,{code:Ne.invalid_type,expected:Fe.array,received:r.parsedType}),xt;if(r.data.length<this._def.items.length)return Ke(r,{code:Ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xt;!this._def.rest&&r.data.length>this._def.items.length&&(Ke(r,{code:Ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Mo(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Ss.mergeArray(n,a)):Ss.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Lo({...this._def,rest:t})}}Lo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Lo({items:e,typeName:bt.ZodTuple,rest:null,...Mt(t)})};class Ng extends zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.object)return Ke(r,{code:Ne.invalid_type,expected:Fe.object,received:r.parsedType}),xt;const s=[],i=this._def.keyType,a=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new Mo(r,c,r.path,c)),value:a._parse(new Mo(r,r.data[c],r.path,c))});return r.common.async?Ss.mergeObjectAsync(n,s):Ss.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof zt?new Ng({keyType:t,valueType:n,typeName:bt.ZodRecord,...Mt(r)}):new Ng({keyType:Ga.create(),valueType:t,typeName:bt.ZodRecord,...Mt(n)})}}class EE extends zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.map)return Ke(r,{code:Ne.invalid_type,expected:Fe.map,received:r.parsedType}),xt;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([c,u],d)=>({key:s._parse(new Mo(r,c,r.path,[d,"key"])),value:i._parse(new Mo(r,u,r.path,[d,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return xt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const u of a){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return xt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}}}}EE.create=(e,t,n)=>new EE({valueType:t,keyType:e,typeName:bt.ZodMap,...Mt(n)});class Yd extends zt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.set)return Ke(r,{code:Ne.invalid_type,expected:Fe.set,received:r.parsedType}),xt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ke(r,{code:Ne.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ke(r,{code:Ne.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const d=new Set;for(const h of u){if(h.status==="aborted")return xt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const c=[...r.data.values()].map((u,d)=>i._parse(new Mo(r,u,r.path,d)));return r.common.async?Promise.all(c).then(u=>a(u)):a(c)}min(t,n){return new Yd({...this._def,minSize:{value:t,message:ft.toString(n)}})}max(t,n){return new Yd({...this._def,maxSize:{value:t,message:ft.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Yd.create=(e,t)=>new Yd({valueType:e,minSize:null,maxSize:null,typeName:bt.ZodSet,...Mt(t)});class Dh extends zt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.function)return Ke(n,{code:Ne.invalid_type,expected:Fe.function,received:n.parsedType}),xt;function r(c,u){return gE({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,mE(),wg].filter(d=>!!d),issueData:{code:Ne.invalid_arguments,argumentsError:u}})}function s(c,u){return gE({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,mE(),wg].filter(d=>!!d),issueData:{code:Ne.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof up){const c=this;return Bs(async function(...u){const d=new Xa([]),h=await c._def.args.parseAsync(u,i).catch(w=>{throw d.addIssue(r(u,w)),d}),m=await Reflect.apply(a,this,h);return await c._def.returns._def.type.parseAsync(m,i).catch(w=>{throw d.addIssue(s(m,w)),d})})}else{const c=this;return Bs(function(...u){const d=c._def.args.safeParse(u,i);if(!d.success)throw new Xa([r(u,d.error)]);const h=Reflect.apply(a,this,d.data),m=c._def.returns.safeParse(h,i);if(!m.success)throw new Xa([s(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Dh({...this._def,args:Lo.create(t).rest(Od.create())})}returns(t){return new Dh({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Dh({args:t||Lo.create([]).rest(Od.create()),returns:n||Od.create(),typeName:bt.ZodFunction,...Mt(r)})}}class Tg extends zt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Tg.create=(e,t)=>new Tg({getter:e,typeName:bt.ZodLazy,...Mt(t)});class Ig extends zt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Ke(n,{received:n.data,code:Ne.invalid_literal,expected:this._def.value}),xt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ig.create=(e,t)=>new Ig({value:e,typeName:bt.ZodLiteral,...Mt(t)});function ij(e,t){return new _u({values:e,typeName:bt.ZodEnum,...Mt(t)})}class _u extends zt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Ke(n,{expected:Cn.joinValues(r),received:n.parsedType,code:Ne.invalid_type}),xt}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return Ke(n,{received:n.data,code:Ne.invalid_enum_value,options:r}),xt}return Bs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return _u.create(t)}exclude(t){return _u.create(this.options.filter(n=>!t.includes(n)))}}_u.create=ij;class Og extends zt{_parse(t){const n=Cn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Fe.string&&r.parsedType!==Fe.number){const s=Cn.objectValues(n);return Ke(r,{expected:Cn.joinValues(s),received:r.parsedType,code:Ne.invalid_type}),xt}if(n.indexOf(t.data)===-1){const s=Cn.objectValues(n);return Ke(r,{received:r.data,code:Ne.invalid_enum_value,options:s}),xt}return Bs(t.data)}get enum(){return this._def.values}}Og.create=(e,t)=>new Og({values:e,typeName:bt.ZodNativeEnum,...Mt(t)});class up extends zt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Ke(n,{code:Ne.invalid_type,expected:Fe.promise,received:n.parsedType}),xt;const r=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return Bs(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}up.create=(e,t)=>new up({type:e,typeName:bt.ZodPromise,...Mt(t)});class ro extends zt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{Ke(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(a).then(c=>this._def.schema._parseAsync({data:c,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}if(s.type==="refinement"){const a=c=>{const u=s.refinement(c,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?xt:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?xt:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Eg(a))return a;const c=s.transform(a.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Eg(a)?Promise.resolve(s.transform(a.value,i)).then(c=>({status:n.value,value:c})):a);Cn.assertNever(s)}}ro.create=(e,t,n)=>new ro({schema:e,typeName:bt.ZodEffects,effect:t,...Mt(n)});ro.createWithPreprocess=(e,t,n)=>new ro({schema:t,effect:{type:"preprocess",transform:e},typeName:bt.ZodEffects,...Mt(n)});class Fc extends zt{_parse(t){return this._getType(t)===Fe.undefined?Bs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fc.create=(e,t)=>new Fc({innerType:e,typeName:bt.ZodOptional,...Mt(t)});class Zd extends zt{_parse(t){return this._getType(t)===Fe.null?Bs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zd.create=(e,t)=>new Zd({innerType:e,typeName:bt.ZodNullable,...Mt(t)});class Rg extends zt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Rg.create=(e,t)=>new Rg({innerType:e,typeName:bt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Mt(t)});class vE extends zt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return yE(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xa(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Xa(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}vE.create=(e,t)=>new vE({innerType:e,typeName:bt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Mt(t)});class CE extends zt{_parse(t){if(this._getType(t)!==Fe.nan){const r=this._getOrReturnCtx(t);return Ke(r,{code:Ne.invalid_type,expected:Fe.nan,received:r.parsedType}),xt}return{status:"valid",value:t.data}}}CE.create=e=>new CE({typeName:bt.ZodNaN,...Mt(e)});const WAe=Symbol("zod_brand");class aj extends zt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ay extends zt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?xt:i.status==="dirty"?(n.dirty(),sj(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?xt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new ay({in:t,out:n,typeName:bt.ZodPipeline})}}class _E extends zt{_parse(t){const n=this._def.innerType._parse(t);return Eg(n)&&(n.value=Object.freeze(n.value)),n}}_E.create=(e,t)=>new _E({innerType:e,typeName:bt.ZodReadonly,...Mt(t)});const oj=(e,t={},n)=>e?lp.create().superRefine((r,s)=>{var i,a;if(!e(r)){const c=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,u=(a=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,d=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...d,fatal:u})}}):lp.create(),VAe={object:ar.lazycreate};var bt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(bt||(bt={}));const GAe=(e,t={message:`Input not instance of ${e.name}`})=>oj(n=>n instanceof e,t),cj=Ga.create,lj=vu.create,KAe=CE.create,YAe=Cu.create,uj=vg.create,ZAe=Kd.create,XAe=bE.create,JAe=Cg.create,QAe=_g.create,eSe=lp.create,tSe=Od.create,nSe=qc.create,rSe=wE.create,sSe=Ja.create,iSe=ar.create,aSe=ar.strictCreate,oSe=Ag.create,cSe=Sv.create,lSe=Sg.create,uSe=Lo.create,dSe=Ng.create,fSe=EE.create,hSe=Yd.create,pSe=Dh.create,mSe=Tg.create,gSe=Ig.create,ySe=_u.create,bSe=Og.create,wSe=up.create,DU=ro.create,ESe=Fc.create,vSe=Zd.create,CSe=ro.createWithPreprocess,_Se=ay.create,ASe=()=>cj().optional(),SSe=()=>lj().optional(),NSe=()=>uj().optional(),TSe={string:(e=>Ga.create({...e,coerce:!0})),number:(e=>vu.create({...e,coerce:!0})),boolean:(e=>vg.create({...e,coerce:!0})),bigint:(e=>Cu.create({...e,coerce:!0})),date:(e=>Kd.create({...e,coerce:!0}))},ISe=xt;var F=Object.freeze({__proto__:null,defaultErrorMap:wg,setErrorMap:kAe,getErrorMap:mE,makeIssue:gE,EMPTY_PATH:PAe,addIssueToContext:Ke,ParseStatus:Ss,INVALID:xt,DIRTY:sj,OK:Bs,isAborted:HN,isDirty:qN,isValid:Eg,isAsync:yE,get util(){return Cn},get objectUtil(){return zN},ZodParsedType:Fe,getParsedType:Zl,ZodType:zt,ZodString:Ga,ZodNumber:vu,ZodBigInt:Cu,ZodBoolean:vg,ZodDate:Kd,ZodSymbol:bE,ZodUndefined:Cg,ZodNull:_g,ZodAny:lp,ZodUnknown:Od,ZodNever:qc,ZodVoid:wE,ZodArray:Ja,ZodObject:ar,ZodUnion:Ag,ZodDiscriminatedUnion:Sv,ZodIntersection:Sg,ZodTuple:Lo,ZodRecord:Ng,ZodMap:EE,ZodSet:Yd,ZodFunction:Dh,ZodLazy:Tg,ZodLiteral:Ig,ZodEnum:_u,ZodNativeEnum:Og,ZodPromise:up,ZodEffects:ro,ZodTransformer:ro,ZodOptional:Fc,ZodNullable:Zd,ZodDefault:Rg,ZodCatch:vE,ZodNaN:CE,BRAND:WAe,ZodBranded:aj,ZodPipeline:ay,ZodReadonly:_E,custom:oj,Schema:zt,ZodSchema:zt,late:VAe,get ZodFirstPartyTypeKind(){return bt},coerce:TSe,any:eSe,array:sSe,bigint:YAe,boolean:uj,date:ZAe,discriminatedUnion:cSe,effect:DU,enum:ySe,function:pSe,instanceof:GAe,intersection:lSe,lazy:mSe,literal:gSe,map:fSe,nan:KAe,nativeEnum:bSe,never:nSe,null:QAe,nullable:vSe,number:lj,object:iSe,oboolean:NSe,onumber:SSe,optional:ESe,ostring:ASe,pipeline:_Se,preprocess:CSe,promise:wSe,record:dSe,set:hSe,strictObject:aSe,string:cj,symbol:XAe,transformer:DU,tuple:uSe,undefined:JAe,union:oSe,unknown:tSe,void:rSe,NEVER:ISe,ZodIssueCode:Ne,quotelessJson:xAe,ZodError:Xa});const fr=F.object({message:F.string()});function qe(e){return F.literal(Ve[e])}const Nv=F.object({serializedMessage:F.string().optional(),accountAddress:F.string(),chainId:F.string(),notBefore:F.string().optional(),domain:F.string(),uri:F.string(),version:F.string(),nonce:F.string(),statement:F.string().optional(),resources:F.array(F.string()).optional(),requestId:F.string().optional(),issuedAt:F.string().optional(),expirationTime:F.string().optional()});F.object({accessList:F.array(F.string()),blockHash:F.string().nullable(),blockNumber:F.string().nullable(),chainId:F.string().or(F.number()),from:F.string(),gas:F.string(),hash:F.string(),input:F.string().nullable(),maxFeePerGas:F.string(),maxPriorityFeePerGas:F.string(),nonce:F.string(),r:F.string(),s:F.string(),to:F.string(),transactionIndex:F.string().nullable(),type:F.string(),v:F.string(),value:F.string()});const OSe=F.object({chainId:F.string().or(F.number()),rpcUrl:F.optional(F.string())}),RSe=F.object({email:F.string().email()}),xSe=F.object({otp:F.string()}),kSe=F.object({uri:F.string(),preferredAccountType:F.optional(F.string()),chainId:F.optional(F.string().or(F.number())),siwxMessage:F.optional(Nv),rpcUrl:F.optional(F.string())}),PSe=F.object({chainId:F.optional(F.string().or(F.number())),preferredAccountType:F.optional(F.string()),socialUri:F.optional(F.string()),siwxMessage:F.optional(Nv),rpcUrl:F.optional(F.string())}),USe=F.object({provider:F.enum(["google","github","apple","facebook","x","discord"])}),$Se=F.object({email:F.string().email()}),DSe=F.object({otp:F.string()}),MSe=F.object({otp:F.string()}),LSe=F.object({themeMode:F.optional(F.enum(["light","dark"])),themeVariables:F.optional(F.record(F.string(),F.string().or(F.number()))),w3mThemeVariables:F.optional(F.record(F.string(),F.string()))}),BSe=F.object({metadata:F.object({name:F.string(),description:F.string(),url:F.string(),icons:F.array(F.string())}).optional(),sdkVersion:F.string().optional(),sdkType:F.string().optional(),projectId:F.string()}),FSe=F.object({type:F.string()}),jSe=F.object({action:F.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),zSe=F.object({url:F.string()}),HSe=F.object({userName:F.string()}),qSe=F.object({email:F.string().optional().nullable(),address:F.string(),chainId:F.string().or(F.number()),accounts:F.array(F.object({address:F.string(),type:F.enum([Wn.ACCOUNT_TYPES.EOA,Wn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:F.string().optional().nullable(),preferredAccountType:F.optional(F.string()),signature:F.string().optional(),message:F.string().optional(),siwxMessage:F.optional(Nv)}),WSe=F.object({action:F.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),VSe=F.object({email:F.string().email().optional().nullable(),address:F.string(),chainId:F.string().or(F.number()),smartAccountDeployed:F.optional(F.boolean()),accounts:F.array(F.object({address:F.string(),type:F.enum([Wn.ACCOUNT_TYPES.EOA,Wn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:F.optional(F.string()),signature:F.string().optional(),message:F.string().optional(),siwxMessage:F.optional(Nv)}),GSe=F.object({uri:F.string()}),KSe=F.object({isConnected:F.boolean()}),YSe=F.object({chainId:F.string().or(F.number())}),ZSe=F.object({chainId:F.string().or(F.number())}),XSe=F.object({newEmail:F.string().email()}),JSe=F.object({smartAccountEnabledNetworks:F.array(F.number())});F.object({address:F.string(),isDeployed:F.boolean()});const QSe=F.object({version:F.string().optional()}),e5e=F.object({type:F.string(),address:F.string()}),t5e=F.any(),n5e=F.object({method:F.literal("eth_accounts")}),r5e=F.object({method:F.literal("eth_blockNumber")}),s5e=F.object({method:F.literal("eth_call"),params:F.array(F.any())}),i5e=F.object({method:F.literal("eth_chainId")}),a5e=F.object({method:F.literal("eth_estimateGas"),params:F.array(F.any())}),o5e=F.object({method:F.literal("eth_feeHistory"),params:F.array(F.any())}),c5e=F.object({method:F.literal("eth_gasPrice")}),l5e=F.object({method:F.literal("eth_getAccount"),params:F.array(F.any())}),u5e=F.object({method:F.literal("eth_getBalance"),params:F.array(F.any())}),d5e=F.object({method:F.literal("eth_getBlockByHash"),params:F.array(F.any())}),f5e=F.object({method:F.literal("eth_getBlockByNumber"),params:F.array(F.any())}),h5e=F.object({method:F.literal("eth_getBlockReceipts"),params:F.array(F.any())}),p5e=F.object({method:F.literal("eth_getBlockTransactionCountByHash"),params:F.array(F.any())}),m5e=F.object({method:F.literal("eth_getBlockTransactionCountByNumber"),params:F.array(F.any())}),g5e=F.object({method:F.literal("eth_getCode"),params:F.array(F.any())}),y5e=F.object({method:F.literal("eth_getFilterChanges"),params:F.array(F.any())}),b5e=F.object({method:F.literal("eth_getFilterLogs"),params:F.array(F.any())}),w5e=F.object({method:F.literal("eth_getLogs"),params:F.array(F.any())}),E5e=F.object({method:F.literal("eth_getProof"),params:F.array(F.any())}),v5e=F.object({method:F.literal("eth_getStorageAt"),params:F.array(F.any())}),C5e=F.object({method:F.literal("eth_getTransactionByBlockHashAndIndex"),params:F.array(F.any())}),_5e=F.object({method:F.literal("eth_getTransactionByBlockNumberAndIndex"),params:F.array(F.any())}),A5e=F.object({method:F.literal("eth_getTransactionByHash"),params:F.array(F.any())}),S5e=F.object({method:F.literal("eth_getTransactionCount"),params:F.array(F.any())}),N5e=F.object({method:F.literal("eth_getTransactionReceipt"),params:F.array(F.any())}),T5e=F.object({method:F.literal("eth_getUncleCountByBlockHash"),params:F.array(F.any())}),I5e=F.object({method:F.literal("eth_getUncleCountByBlockNumber"),params:F.array(F.any())}),O5e=F.object({method:F.literal("eth_maxPriorityFeePerGas")}),R5e=F.object({method:F.literal("eth_newBlockFilter")}),x5e=F.object({method:F.literal("eth_newFilter"),params:F.array(F.any())}),k5e=F.object({method:F.literal("eth_newPendingTransactionFilter")}),P5e=F.object({method:F.literal("eth_sendRawTransaction"),params:F.array(F.any())}),U5e=F.object({method:F.literal("eth_syncing"),params:F.array(F.any())}),$5e=F.object({method:F.literal("eth_uninstallFilter"),params:F.array(F.any())}),MU=F.object({method:F.literal("personal_sign"),params:F.array(F.any())}),D5e=F.object({method:F.literal("eth_signTypedData_v4"),params:F.array(F.any())}),M5e=F.object({method:F.literal("eth_sendTransaction"),params:F.array(F.any())}),L5e=F.object({method:F.literal("solana_signMessage"),params:F.object({message:F.string(),pubkey:F.string()})}),B5e=F.object({method:F.literal("solana_signTransaction"),params:F.object({transaction:F.string()})}),F5e=F.object({method:F.literal("solana_signAllTransactions"),params:F.object({transactions:F.array(F.string())})}),j5e=F.object({method:F.literal("solana_signAndSendTransaction"),params:F.object({transaction:F.string(),options:F.object({skipPreflight:F.boolean().optional(),preflightCommitment:F.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:F.number().optional(),minContextSlot:F.number().optional()}).optional()})}),z5e=F.object({method:F.literal("wallet_sendCalls"),params:F.array(F.object({chainId:F.string().or(F.number()).optional(),from:F.string().optional(),version:F.string().optional(),capabilities:F.any().optional(),calls:F.array(F.object({to:F.string().startsWith("0x"),data:F.string().startsWith("0x").optional(),value:F.string().optional()}))}))}),H5e=F.object({method:F.literal("wallet_getCallsStatus"),params:F.array(F.string())}),q5e=F.object({method:F.literal("wallet_getCapabilities"),params:F.array(F.string().or(F.number()).optional()).optional()}),W5e=F.object({method:F.literal("wallet_grantPermissions"),params:F.array(F.any())}),V5e=F.object({method:F.literal("wallet_revokePermissions"),params:F.any()}),G5e=F.object({method:F.literal("wallet_getAssets"),params:F.any()}),LU=F.object({token:F.string()}),We=F.object({id:F.string().optional()}),YS={appEvent:We.extend({type:qe("APP_SWITCH_NETWORK"),payload:OSe}).or(We.extend({type:qe("APP_CONNECT_EMAIL"),payload:RSe})).or(We.extend({type:qe("APP_CONNECT_DEVICE")})).or(We.extend({type:qe("APP_CONNECT_OTP"),payload:xSe})).or(We.extend({type:qe("APP_CONNECT_SOCIAL"),payload:kSe})).or(We.extend({type:qe("APP_GET_FARCASTER_URI")})).or(We.extend({type:qe("APP_CONNECT_FARCASTER")})).or(We.extend({type:qe("APP_GET_USER"),payload:F.optional(PSe)})).or(We.extend({type:qe("APP_GET_SOCIAL_REDIRECT_URI"),payload:USe})).or(We.extend({type:qe("APP_SIGN_OUT")})).or(We.extend({type:qe("APP_IS_CONNECTED"),payload:F.optional(LU)})).or(We.extend({type:qe("APP_GET_CHAIN_ID")})).or(We.extend({type:qe("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(We.extend({type:qe("APP_INIT_SMART_ACCOUNT")})).or(We.extend({type:qe("APP_SET_PREFERRED_ACCOUNT"),payload:FSe})).or(We.extend({type:qe("APP_RPC_REQUEST"),payload:MU.or(G5e).or(n5e).or(r5e).or(s5e).or(i5e).or(a5e).or(o5e).or(c5e).or(l5e).or(u5e).or(d5e).or(f5e).or(h5e).or(p5e).or(m5e).or(g5e).or(y5e).or(b5e).or(w5e).or(E5e).or(v5e).or(C5e).or(_5e).or(A5e).or(S5e).or(N5e).or(T5e).or(I5e).or(O5e).or(R5e).or(x5e).or(k5e).or(P5e).or(U5e).or($5e).or(MU).or(D5e).or(M5e).or(L5e).or(B5e).or(F5e).or(j5e).or(H5e).or(z5e).or(q5e).or(W5e).or(V5e).and(F.object({chainId:F.string().or(F.number()).optional(),chainNamespace:F.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:F.string().optional()}))})).or(We.extend({type:qe("APP_UPDATE_EMAIL"),payload:$Se})).or(We.extend({type:qe("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:DSe})).or(We.extend({type:qe("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:MSe})).or(We.extend({type:qe("APP_SYNC_THEME"),payload:LSe})).or(We.extend({type:qe("APP_SYNC_DAPP_DATA"),payload:BSe})).or(We.extend({type:qe("APP_RELOAD")})).or(We.extend({type:qe("APP_RPC_ABORT")})),frameEvent:We.extend({type:qe("FRAME_SWITCH_NETWORK_ERROR"),payload:fr}).or(We.extend({type:qe("FRAME_SWITCH_NETWORK_SUCCESS"),payload:ZSe})).or(We.extend({type:qe("FRAME_CONNECT_EMAIL_SUCCESS"),payload:jSe})).or(We.extend({type:qe("FRAME_CONNECT_EMAIL_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:zSe})).or(We.extend({type:qe("FRAME_GET_FARCASTER_URI_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:HSe})).or(We.extend({type:qe("FRAME_CONNECT_FARCASTER_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_CONNECT_OTP_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_CONNECT_OTP_SUCCESS")})).or(We.extend({type:qe("FRAME_CONNECT_DEVICE_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_CONNECT_DEVICE_SUCCESS")})).or(We.extend({type:qe("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:qSe})).or(We.extend({type:qe("FRAME_CONNECT_SOCIAL_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_GET_USER_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_GET_USER_SUCCESS"),payload:VSe})).or(We.extend({type:qe("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:GSe})).or(We.extend({type:qe("FRAME_SIGN_OUT_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_SIGN_OUT_SUCCESS")})).or(We.extend({type:qe("FRAME_IS_CONNECTED_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_IS_CONNECTED_SUCCESS"),payload:KSe})).or(We.extend({type:qe("FRAME_GET_CHAIN_ID_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_GET_CHAIN_ID_SUCCESS"),payload:YSe})).or(We.extend({type:qe("FRAME_RPC_REQUEST_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_RPC_REQUEST_SUCCESS"),payload:t5e})).or(We.extend({type:qe("FRAME_SESSION_UPDATE"),payload:LU})).or(We.extend({type:qe("FRAME_UPDATE_EMAIL_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_UPDATE_EMAIL_SUCCESS"),payload:WSe})).or(We.extend({type:qe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(We.extend({type:qe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:XSe})).or(We.extend({type:qe("FRAME_SYNC_THEME_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_SYNC_THEME_SUCCESS")})).or(We.extend({type:qe("FRAME_SYNC_DAPP_DATA_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(We.extend({type:qe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:JSe})).or(We.extend({type:qe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:e5e})).or(We.extend({type:qe("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_READY"),payload:QSe})).or(We.extend({type:qe("FRAME_RELOAD_ERROR"),payload:fr})).or(We.extend({type:qe("FRAME_RELOAD_SUCCESS")}))};function ZS(e,t={}){return typeof t?.type=="string"&&t?.type?.includes(e)}function K5e({projectId:e,chainId:t,enableLogger:n,rpcUrl:r=ie.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:s=!1}){const i=new URL(IAe);i.searchParams.set("projectId",e),i.searchParams.set("chainId",String(t)),i.searchParams.set("version",RAe),i.searchParams.set("enableLogger",String(n)),i.searchParams.set("rpcUrl",r);const a=Tr.get("dapp_smart_account_version");return a&&(a==="v6"||a==="v7")&&(console.warn(">> AppKit - Forcing smart account version",a),i.searchParams.set("smartAccountVersion",a)),s&&i.searchParams.set("enableCloudAuthAccount","true"),i.toString()}class Y5e{constructor({projectId:t,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0,enableCloudAuthAccount:i=!1,rpcUrl:a=ie.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const c=document.getElementById("w3m-iframe");this.iframe&&!c&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(c,u,d)=>{function h({data:m}){if(!ZS(Ve.FRAME_EVENT_KEY,m))return;const g=YS.frameEvent.safeParse(m);if(!g.success){console.warn("W3mFrame: invalid frame event",g.error.message);return}g.data?.id===c&&(u(g.data),window.removeEventListener("message",h))}Eo.isClient&&(window.addEventListener("message",h),d.addEventListener("abort",()=>{window.removeEventListener("message",h)}))},onFrameEvent:c=>{Eo.isClient&&window.addEventListener("message",({data:u})=>{if(!ZS(Ve.FRAME_EVENT_KEY,u))return;const d=YS.frameEvent.safeParse(u);d.success?c(d.data):console.warn("W3mFrame: invalid frame event",d.error.message)})},onAppEvent:c=>{Eo.isClient&&window.addEventListener("message",({data:u})=>{if(!ZS(Ve.APP_EVENT_KEY,u))return;const d=YS.appEvent.safeParse(u);d.success||console.warn("W3mFrame: invalid app event",d.error.message),c(u)})},postAppEvent:c=>{if(Eo.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(c,"*")}},postFrameEvent:c=>{if(Eo.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(c,"*")}}},this.projectId=t,this.frameLoadPromise=new Promise((c,u)=>{this.frameLoadPromiseResolver={resolve:c,reject:u}}),this.rpcUrl=a,n&&(this.frameLoadPromise=new Promise((c,u)=>{this.frameLoadPromiseResolver={resolve:c,reject:u}}),Eo.isClient)){const c=document.createElement("iframe");c.id="w3m-iframe",c.src=K5e({projectId:t,chainId:r,enableLogger:s,rpcUrl:this.rpcUrl,enableCloudAuthAccount:i}),c.name="w3m-secure-iframe",c.style.position="fixed",c.style.zIndex="999999",c.style.display="none",c.style.border="none",c.style.animationDelay="0s, 50ms",c.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",c.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=c,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(u=>{u.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const t=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...t)}}var j0={exports:{}},XS,BU;function Z5e(){if(BU)return XS;BU=1;function e(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}XS=t;function t(n,r,s){var i=s&&s.stringify||e,a=1;if(typeof n=="object"&&n!==null){var c=r.length+a;if(c===1)return n;var u=new Array(c);u[0]=i(n);for(var d=1;d<c;d++)u[d]=i(r[d]);return u.join(" ")}if(typeof n!="string")return n;var h=r.length;if(h===0)return n;for(var m="",g=1-a,w=-1,v=n&&n.length||0,E=0;E<v;){if(n.charCodeAt(E)===37&&E+1<v){switch(w=w>-1?w:0,n.charCodeAt(E+1)){case 100:case 102:if(g>=h||r[g]==null)break;w<E&&(m+=n.slice(w,E)),m+=Number(r[g]),w=E+2,E++;break;case 105:if(g>=h||r[g]==null)break;w<E&&(m+=n.slice(w,E)),m+=Math.floor(Number(r[g])),w=E+2,E++;break;case 79:case 111:case 106:if(g>=h||r[g]===void 0)break;w<E&&(m+=n.slice(w,E));var A=typeof r[g];if(A==="string"){m+="'"+r[g]+"'",w=E+2,E++;break}if(A==="function"){m+=r[g].name||"<anonymous>",w=E+2,E++;break}m+=i(r[g]),w=E+2,E++;break;case 115:if(g>=h)break;w<E&&(m+=n.slice(w,E)),m+=String(r[g]),w=E+2,E++;break;case 37:w<E&&(m+=n.slice(w,E)),m+="%",w=E+2,E++,g--;break}++g}++E}return w===-1?n:(w<v&&(m+=n.slice(w)),m)}return XS}var FU;function X5e(){if(FU)return j0.exports;FU=1;const e=Z5e();j0.exports=h;const t=Z().console||{},n={mapHttpRequest:P,mapHttpResponse:P,wrapRequestSerializer:L,wrapResponseSerializer:L,wrapErrorSerializer:L,req:P,res:P,err:S,errWithCause:S};function r(y,_){return y==="silent"?1/0:_.levels.values[y]}const s=Symbol("pino.logFuncs"),i=Symbol("pino.hierarchy"),a={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(y,_){const T={logger:_,parent:y[i]};_[i]=T}function u(y,_,T){const $={};_.forEach(U=>{$[U]=T[U]?T[U]:t[U]||t[a[U]||"log"]||j}),y[s]=$}function d(y,_){return Array.isArray(y)?y.filter(function($){return $!=="!stdSerializers.err"}):y===!0?Object.keys(_):!1}function h(y){y=y||{},y.browser=y.browser||{};const _=y.browser.transmit;if(_&&typeof _.send!="function")throw Error("pino: transmit option must have a send function");const T=y.browser.write||t;y.browser.write&&(y.browser.asObject=!0);const $=y.serializers||{},U=d(y.browser.serialize,$);let q=y.browser.serialize;Array.isArray(y.browser.serialize)&&y.browser.serialize.indexOf("!stdSerializers.err")>-1&&(q=!1);const M=Object.keys(y.customLevels||{}),z=["error","fatal","warn","info","debug","trace"].concat(M);typeof T=="function"&&z.forEach(function(we){T[we]=T}),(y.enabled===!1||y.browser.disabled)&&(y.level="silent");const J=y.level||"info",D=Object.create(T);D.log||(D.log=j),u(D,z,T),c({},D),Object.defineProperty(D,"levelVal",{get:le}),Object.defineProperty(D,"level",{get:be,set:$e});const Q={transmit:_,serialize:U,asObject:y.browser.asObject,asObjectBindingsOnly:y.browser.asObjectBindingsOnly,formatters:y.browser.formatters,levels:z,timestamp:x(y),messageKey:y.messageKey||"msg",onChild:y.onChild||j};D.levels=m(y),D.level=J,D.isLevelEnabled=function(we){return this.levels.values[we]?this.levels.values[we]>=this.levels.values[this.level]:!1},D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=j,D.serializers=$,D._serialize=U,D._stdErrSerialize=q,D.child=function(...we){return _e.call(this,Q,...we)},_&&(D._logEvent=N());function le(){return r(this.level,this)}function be(){return this._level}function $e(we){if(we!=="silent"&&!this.levels.values[we])throw Error("unknown level "+we);this._level=we,v(this,Q,D,"error"),v(this,Q,D,"fatal"),v(this,Q,D,"warn"),v(this,Q,D,"info"),v(this,Q,D,"debug"),v(this,Q,D,"trace"),M.forEach(je=>{v(this,Q,D,je)})}function _e(we,je,Et){if(!je)throw new Error("missing bindings for child Pino");Et=Et||{},U&&je.serializers&&(Et.serializers=je.serializers);const mn=Et.serializers;if(U&&mn){var kt=Object.assign({},$,mn),Vn=y.browser.serialize===!0?Object.keys(kt):U;delete je.serializers,k([je],Vn,kt,this._stdErrSerialize)}function vr(Qn){this._childLevel=(Qn._childLevel|0)+1,this.bindings=je,kt&&(this.serializers=kt,this._serialize=Vn),_&&(this._logEvent=N([].concat(Qn._logEvent.bindings,je)))}vr.prototype=this;const Fn=new vr(this);return c(this,Fn),Fn.child=function(...Qn){return _e.call(this,we,...Qn)},Fn.level=Et.level||this.level,we.onChild(Fn),Fn}return D}function m(y){const _=y.customLevels||{},T=Object.assign({},h.levels.values,_),$=Object.assign({},h.levels.labels,g(_));return{values:T,labels:$}}function g(y){const _={};return Object.keys(y).forEach(function(T){_[y[T]]=T}),_}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=n,h.stdTimeFunctions=Object.assign({},{nullTime:W,epochTime:Y,unixTime:G,isoTime:K});function w(y){const _=[];y.bindings&&_.push(y.bindings);let T=y[i];for(;T.parent;)T=T.parent,T.logger.bindings&&_.push(T.logger.bindings);return _.reverse()}function v(y,_,T,$){if(Object.defineProperty(y,$,{value:r(y.level,T)>r($,T)?j:T[s][$],writable:!0,enumerable:!0,configurable:!0}),y[$]===j){if(!_.transmit)return;const q=_.transmit.level||y.level,M=r(q,T);if(r($,T)<M)return}y[$]=A(y,_,T,$);const U=w(y);U.length!==0&&(y[$]=E(U,y[$]))}function E(y,_){return function(){return _.apply(this,[...y,...arguments])}}function A(y,_,T,$){return(function(U){return function(){const M=_.timestamp(),z=new Array(arguments.length),J=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var D=0;D<z.length;D++)z[D]=arguments[D];var Q=!1;if(_.serialize&&(k(z,this._serialize,this.serializers,this._stdErrSerialize),Q=!0),_.asObject||_.formatters?U.call(J,...R(this,$,z,M,_)):U.apply(J,z),_.transmit){const le=_.transmit.level||y._level,be=r(le,T),$e=r($,T);if($e<be)return;I(this,{ts:M,methodLevel:$,methodValue:$e,transmitValue:T.levels.values[_.transmit.level||y._level],send:_.transmit.send,val:r(y._level,T)},z,Q)}}})(y[s][$])}function R(y,_,T,$,U){const{level:q,log:M=le=>le}=U.formatters||{},z=T.slice();let J=z[0];const D={};let Q=(y._childLevel|0)+1;if(Q<1&&(Q=1),$&&(D.time=$),q){const le=q(_,y.levels.values[_]);Object.assign(D,le)}else D.level=y.levels.values[_];if(U.asObjectBindingsOnly){if(J!==null&&typeof J=="object")for(;Q--&&typeof z[0]=="object";)Object.assign(D,z.shift());return[M(D),...z]}else{if(J!==null&&typeof J=="object"){for(;Q--&&typeof z[0]=="object";)Object.assign(D,z.shift());J=z.length?e(z.shift(),z):void 0}else typeof J=="string"&&(J=e(z.shift(),z));return J!==void 0&&(D[U.messageKey]=J),[M(D)]}}function k(y,_,T,$){for(const U in y)if($&&y[U]instanceof Error)y[U]=h.stdSerializers.err(y[U]);else if(typeof y[U]=="object"&&!Array.isArray(y[U])&&_)for(const q in y[U])_.indexOf(q)>-1&&q in T&&(y[U][q]=T[q](y[U][q]))}function I(y,_,T,$=!1){const U=_.send,q=_.ts,M=_.methodLevel,z=_.methodValue,J=_.val,D=y._logEvent.bindings;$||k(T,y._serialize||Object.keys(y.serializers),y.serializers,y._stdErrSerialize===void 0?!0:y._stdErrSerialize),y._logEvent.ts=q,y._logEvent.messages=T.filter(function(Q){return D.indexOf(Q)===-1}),y._logEvent.level.label=M,y._logEvent.level.value=z,U(M,y._logEvent,J),y._logEvent=N(D)}function N(y){return{ts:0,messages:[],bindings:y||[],level:{label:"",value:0}}}function S(y){const _={type:y.constructor.name,msg:y.message,stack:y.stack};for(const T in y)_[T]===void 0&&(_[T]=y[T]);return _}function x(y){return typeof y.timestamp=="function"?y.timestamp:y.timestamp===!1?W:Y}function P(){return{}}function L(y){return y}function j(){}function W(){return!1}function Y(){return Date.now()}function G(){return Math.round(Date.now()/1e3)}function K(){return new Date(Date.now()).toISOString()}function Z(){function y(_){return typeof _<"u"&&_}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return y(self)||y(window)||y(this)||{}}}return j0.exports.default=h,j0.exports.pino=h,j0.exports}var vh=X5e();const dj=Wc(vh),J5e=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n);function jU(e){return typeof e=="string"?e:J5e(e)||""}const Q5e={level:"info"},Tv="custom_context",KT=1e3*1024;var e6e=Object.defineProperty,t6e=(e,t,n)=>t in e?e6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xl=(e,t,n)=>t6e(e,typeof t!="symbol"?t+"":t,n);class n6e{constructor(t){Xl(this,"nodeValue"),Xl(this,"sizeInBytes"),Xl(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class zU{constructor(t){Xl(this,"lengthInNodes"),Xl(this,"sizeInBytes"),Xl(this,"head"),Xl(this,"tail"),Xl(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new n6e(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}}var r6e=Object.defineProperty,s6e=(e,t,n)=>t in e?r6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S1=(e,t,n)=>s6e(e,typeof t!="symbol"?t+"":t,n);class fj{constructor(t,n=KT){S1(this,"logs"),S1(this,"level"),S1(this,"levelValue"),S1(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=vh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new zU(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===vh.levels.values.error?console.error(t):n===vh.levels.values.warn?console.warn(t):n===vh.levels.values.debug?console.debug(t):n===vh.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(jU({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new zU(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(jU({extraMetadata:t})),new Blob(n,{type:"application/json"})}}var i6e=Object.defineProperty,a6e=(e,t,n)=>t in e?i6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o6e=(e,t,n)=>a6e(e,t+"",n);class c6e{constructor(t,n=KT){o6e(this,"baseChunkLogger"),this.baseChunkLogger=new fj(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}}var l6e=Object.defineProperty,u6e=(e,t,n)=>t in e?l6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d6e=(e,t,n)=>u6e(e,t+"",n);class f6e{constructor(t,n=KT){d6e(this,"baseChunkLogger"),this.baseChunkLogger=new fj(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var h6e=Object.defineProperty,p6e=Object.defineProperties,m6e=Object.getOwnPropertyDescriptors,HU=Object.getOwnPropertySymbols,g6e=Object.prototype.hasOwnProperty,y6e=Object.prototype.propertyIsEnumerable,qU=(e,t,n)=>t in e?h6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AE=(e,t)=>{for(var n in t||(t={}))g6e.call(t,n)&&qU(e,n,t[n]);if(HU)for(var n of HU(t))y6e.call(t,n)&&qU(e,n,t[n]);return e},SE=(e,t)=>p6e(e,m6e(t));function b6e(e){return SE(AE({},e),{level:e?.level||Q5e.level})}function w6e(e,t,n=Tv){return e[n]=t,e}function E6e(e,t=Tv){return e[t]||""}function v6e(e,t,n=Tv){const r=E6e(e,n);return r.trim()?`${r}/${t}`:t}function C6e(e,t,n=Tv){const r=v6e(e,t,n),s=e.child({context:r});return w6e(s,r,n)}function _6e(e){var t,n;const r=new c6e((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:dj(SE(AE({},e.opts),{level:"trace",browser:SE(AE({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function A6e(e){var t;const n=new f6e((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:dj(SE(AE({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function S6e(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?_6e(e):A6e(e)}class N6e{constructor(t){const n=b6e({level:OAe}),{logger:r,chunkLoggerController:s}=S6e({opts:n});this.logger=C6e(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:t})})}}class T6e{constructor({projectId:t,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i,getActiveCaipNetwork:a,getCaipNetworks:c,enableCloudAuthAccount:u,metadata:d,sdkVersion:h,sdkType:m}){this.openRpcRequests=new Map,this.isInitialized=!1,r&&(this.w3mLogger=new N6e(t)),this.abortController=i,this.getActiveCaipNetwork=a,this.getCaipNetworks=c;const g=this.getRpcUrl(n);this.projectId=t,this.sdkVersion=h,this.sdkType=m,this.metadata=d,this.w3mFrame=new Y5e({projectId:t,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:g,enableCloudAuthAccount:u}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(t=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Ve.FRAME_READY&&setTimeout(()=>{t()},500)})}),await this.initPromise,await this.syncDappData({metadata:this.metadata,projectId:this.projectId,sdkVersion:this.sdkVersion,sdkType:this.sdkType}),await this.getSmartAccountEnabledNetworks(),this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Tr.get(Ve.EMAIL_LOGIN_USED_KEY)}getEmail(){return Tr.get(Ve.EMAIL)}getUsername(){return Tr.get(Ve.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:Ve.APP_RELOAD})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error reloading iframe"),t}}async connectEmail(t){try{Eo.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:Ve.APP_CONNECT_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:Ve.APP_CONNECT_DEVICE})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting device"),t}}async connectOtp(t){try{return this.appEvent({type:Ve.APP_CONNECT_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const t=await this.appEvent({type:Ve.APP_IS_CONNECTED});return t?.isConnected||this.deleteAuthLoginCache(),t}catch(t){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:t},"Error checking connection"),t}}async getChainId(){try{const t=await this.appEvent({type:Ve.APP_GET_CHAIN_ID});return this.setLastUsedChainId(t.chainId),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting chain id"),t}}async getSocialRedirectUri(t){try{return await this.init(),this.appEvent({type:Ve.APP_GET_SOCIAL_REDIRECT_URI,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(t){try{const n=await this.appEvent({type:Ve.APP_UPDATE_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(t){try{return this.appEvent({type:Ve.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(t){try{const n=await this.appEvent({type:Ve.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:t});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(t){try{return this.appEvent({type:Ve.APP_SYNC_THEME,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(t){try{return this.appEvent({type:Ve.APP_SYNC_DAPP_DATA,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const t=await this.appEvent({type:Ve.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(t.smartAccountEnabledNetworks),t}catch(t){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:t},"Error getting smart account enabled networks"),t}}async setPreferredAccount(t){try{return this.appEvent({type:Ve.APP_SET_PREFERRED_ACCOUNT,payload:{type:t}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(t){if(t?.socialUri)try{await this.init();const n=this.getRpcUrl(t.chainId),r=await this.appEvent({type:Ve.APP_CONNECT_SOCIAL,payload:{uri:t.socialUri,preferredAccountType:t.preferredAccountType,chainId:t.chainId,siwxMessage:t.siwxMessage,rpcUrl:n}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=t?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:t?.preferredAccountType,siwxMessage:t?.siwxMessage,rpcUrl:this.getRpcUrl(n)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(t){try{await this.init();const n=t?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:Ve.APP_GET_USER,payload:{...t,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:t,chainId:n,preferredAccountType:r}){try{await this.init();const s=this.getRpcUrl(n),i=await this.appEvent({type:Ve.APP_CONNECT_SOCIAL,payload:{uri:t,chainId:n,rpcUrl:s,preferredAccountType:r}});return i.userName&&this.setSocialLoginSuccess(i.userName),i}catch(s){throw this.w3mLogger?.logger.error({error:s},"Error connecting social"),s}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:Ve.APP_GET_FARCASTER_URI})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting farcaster uri"),t}}async connectFarcaster(){try{const t=await this.appEvent({type:Ve.APP_CONNECT_FARCASTER});return t.userName&&this.setSocialLoginSuccess(t.userName),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting farcaster"),t}}async switchNetwork({chainId:t}){try{const n=this.getRpcUrl(t),r=await this.appEvent({type:Ve.APP_SWITCH_NETWORK,payload:{chainId:t,rpcUrl:n}});return this.setLastUsedChainId(r.chainId),r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const r=setTimeout(()=>{n()},3e3);await this.appEvent({type:Ve.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error disconnecting"),t}}async request(t){const n=t;try{if(Wn.GET_CHAIN_ID===t.method)return this.getLastUsedChainId();const r=t.chainNamespace||"eip155",s=this.getActiveCaipNetwork(r)?.id;n.chainNamespace=r,n.chainId=s,n.rpcUrl=this.getRpcUrl(s),this.rpcRequestHandler?.(t);const i=await this.appEvent({type:Ve.APP_RPC_REQUEST,payload:n});return this.rpcSuccessHandler?.(i,n),i}catch(r){throw this.rpcErrorHandler?.(r,n),this.w3mLogger?.logger.error({error:r},"Error requesting"),r}}onRpcRequest(t){this.rpcRequestHandler=t}onRpcSuccess(t){this.rpcSuccessHandler=t}onRpcError(t){this.rpcErrorHandler=t}onIsConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ve.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&t()})}onNotConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ve.FRAME_IS_CONNECTED_ERROR&&t(),n.type===Ve.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&t()})}onConnect(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ve.FRAME_GET_USER_SUCCESS&&t(n.payload)})}onSocialConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ve.FRAME_CONNECT_SOCIAL_SUCCESS&&t(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ve.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?t(n.payload):n.type===Ve.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&t({type:Wn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:t,method:n})=>{Wn.SAFE_RPC_METHODS.includes(n)||t.abort(),await this.appEvent({type:Ve.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(t){this.w3mLogger?.logger.error({error:t},"Error aborting RPC request")}}async appEvent(t){let n,r;function s(u){return u.replace("@w3m-app/","")}const i=[Ve.APP_SYNC_DAPP_DATA,Ve.APP_SYNC_THEME,Ve.APP_SET_PREFERRED_ACCOUNT],a=s(t.type);return!this.w3mFrame.iframeIsReady&&!i.includes(t.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Ve.APP_CONNECT_EMAIL,Ve.APP_CONNECT_DEVICE,Ve.APP_CONNECT_OTP,Ve.APP_CONNECT_SOCIAL,Ve.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(a)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((u,d)=>{const h=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:t,id:h},"Sending app event"),this.w3mFrame.events.postAppEvent({...t,id:h});const m=new AbortController;if(a==="RPC_REQUEST"){const w=t;this.openRpcRequests.set(h,{...w.payload,abortController:m})}m.signal.addEventListener("abort",()=>{a==="RPC_REQUEST"?d(new Error("Request was aborted")):a!=="GET_FARCASTER_URI"&&d(new Error("Something went wrong"))});const g=(w,v)=>{w.id===h&&(v?.logger.info?.({framEvent:w,id:h},"Received frame response"),this.openRpcRequests.delete(w.id),w.type===`@w3m-frame/${a}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in w&&u(w.payload),u(void 0)):w.type===`@w3m-frame/${a}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in w&&d(new Error(w.payload?.message||"An error occurred")),d(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(h,w=>g(w,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Tr.set(Ve.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(t){Tr.set(Ve.SOCIAL_USERNAME,t)}setLoginSuccess(t){t&&Tr.set(Ve.EMAIL,t),Tr.set(Ve.EMAIL_LOGIN_USED_KEY,"true"),Tr.delete(Ve.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Tr.delete(Ve.EMAIL_LOGIN_USED_KEY),Tr.delete(Ve.EMAIL),Tr.delete(Ve.LAST_USED_CHAIN_KEY),Tr.delete(Ve.SOCIAL_USERNAME)}setLastUsedChainId(t){t&&Tr.set(Ve.LAST_USED_CHAIN_KEY,String(t))}getLastUsedChainId(){const t=Tr.get(Ve.LAST_USED_CHAIN_KEY)??void 0,n=Number(t);return isNaN(n)?t:n}persistSmartAccountEnabledNetworks(t){Tr.set(Ve.SMART_ACCOUNT_ENABLED_NETWORKS,t.join(","))}getRpcUrl(t){let n=t===void 0?void 0:"eip155";typeof t=="string"&&(t.includes(":")?n=kr.parseCaipNetworkId(t)?.chainNamespace:Number.isInteger(Number(t))?n="eip155":n="solana");const r=this.getCaipNetworks(n);return(t?r.find(i=>String(i.id)===String(t)||i.caipNetworkId===t):r[0])?.rpcUrls.default.http?.[0]}}async function z0(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}let oy=class{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await z0(i,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const s=this.createUrl(r);return(await z0(s,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await z0(i,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await z0(i,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await z0(i,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:t,...n}){const r=this.createUrl(n);return navigator.sendBeacon(r.toString(),t?JSON.stringify(t):void 0)}};const I6e={getFeatureValue(e,t){const n=t?.[e];return n===void 0?_s.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return at.isTelegram()&&(at.isIos()&&(t=t.filter(n=>n!=="google")),at.isMac()&&(t=t.filter(n=>n!=="x")),at.isAndroid()&&(t=t.filter(n=>!["facebook","x"].includes(n)))),at.isMobile()&&(t=t.filter(n=>n!=="facebook")),t},isSocialsEnabled(){return Array.isArray(it.state.features?.socials)&&it.state.features?.socials.length>0||Array.isArray(it.state.remoteFeatures?.socials)&&it.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!(it.state.features?.email||it.state.remoteFeatures?.email)}},nt=Tt({features:_s.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:_s.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),it={state:nt,subscribeKey(e,t){return Sn(nt,e,t)},setOptions(e){Object.assign(nt,e)},setRemoteFeatures(e){if(!e)return;const t={...nt.remoteFeatures,...e};nt.remoteFeatures=t,nt.remoteFeatures?.socials&&(nt.remoteFeatures.socials=I6e.filterSocialsByPlatform(nt.remoteFeatures.socials)),nt.features?.pay&&(nt.remoteFeatures.email=!1,nt.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;nt.features||(nt.features=_s.DEFAULT_FEATURES);const t={...nt.features,...e};nt.features=t,nt.features?.pay&&nt.remoteFeatures&&(nt.remoteFeatures.email=!1,nt.remoteFeatures.socials=!1)},setProjectId(e){nt.projectId=e},setCustomRpcUrls(e){nt.customRpcUrls=e},setAllWallets(e){nt.allWallets=e},setIncludeWalletIds(e){nt.includeWalletIds=e},setExcludeWalletIds(e){nt.excludeWalletIds=e},setFeaturedWalletIds(e){nt.featuredWalletIds=e},setTokens(e){nt.tokens=e},setTermsConditionsUrl(e){nt.termsConditionsUrl=e},setPrivacyPolicyUrl(e){nt.privacyPolicyUrl=e},setCustomWallets(e){nt.customWallets=e},setIsSiweEnabled(e){nt.isSiweEnabled=e},setIsUniversalProvider(e){nt.isUniversalProvider=e},setSdkVersion(e){nt.sdkVersion=e},setMetadata(e){nt.metadata=e},setDisableAppend(e){nt.disableAppend=e},setEIP6963Enabled(e){nt.enableEIP6963=e},setDebug(e){nt.debug=e},setEnableWalletGuide(e){nt.enableWalletGuide=e},setEnableAuthLogger(e){nt.enableAuthLogger=e},setEnableWallets(e){nt.enableWallets=e},setPreferUniversalLinks(e){nt.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(_s.SIWX_DEFAULTS))e[t]??=n;nt.siwx=e},setConnectMethodsOrder(e){nt.features={...nt.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){nt.features={...nt.features,walletFeaturesOrder:e}},setSocialsOrder(e){nt.remoteFeatures={...nt.remoteFeatures,socials:e}},setCollapseWallets(e){nt.features={...nt.features,collapseWallets:e}},setEnableEmbedded(e){nt.enableEmbedded=e},setAllowUnsupportedChain(e){nt.allowUnsupportedChain=e},setManualWCControl(e){nt.manualWCControl=e},setEnableNetworkSwitch(e){nt.enableNetworkSwitch=e},setEnableMobileFullScreen(e){nt.enableMobileFullScreen=at.isMobile()&&e},setEnableReconnect(e){nt.enableReconnect=e},setCoinbasePreference(e){nt.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(nt.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){nt.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return nt.universalProviderConfigOverride},getSnapshot(){return $o(nt)}},ad=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Dr=Tt({...ad}),O6e={state:Dr,subscribeKey(e,t){return Sn(Dr,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=at.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){Dr.message=ad.message,Dr.variant=ad.variant,Dr.svg=ad.svg,Dr.open=ad.open,Dr.autoClose=ad.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=ad.autoClose}){Dr.open?(Dr.open=!1,setTimeout(()=>{Dr.message=e,Dr.variant=n,Dr.svg=t,Dr.open=!0,Dr.autoClose=r},150)):(Dr.message=e,Dr.variant=n,Dr.svg=t,Dr.open=!0,Dr.autoClose=r)}},tu=O6e,R6e={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},hj=at.getBlockchainApiUrl(),Os=Tt({clientId:null,api:new oy({baseUrl:hj,clientId:null}),supportedChains:{http:[],ws:[]}}),vt={state:Os,async get(e){const{st:t,sv:n}=vt.getSdkProperties(),r=it.state.projectId,s={...e.params||{},st:t,sv:n,projectId:r};return Os.api.get({...e,params:s})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=it.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{Os.supportedChains.http.length||await vt.getSupportedNetworks()}catch{return!1}return Os.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await vt.get({path:"v1/supported-chains"});return Os.supportedChains=e,e}catch{return Os.supportedChains}},async fetchIdentity({address:e}){const t=Ue.getIdentityFromCacheForAddress(e);if(t)return t;const n=await vt.get({path:`/v1/identity/${e}`,params:{sender:te.state.activeCaipAddress?at.getPlainAddress(te.state.activeCaipAddress):void 0}});return Ue.updateIdentityCache({address:e,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:s}){if(!await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const a=Ue.getTransactionsCacheForAddress({address:e,chainId:s});if(a)return a;const c=await vt.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:s},signal:n,cache:r});return Ue.updateTransactionsCache({address:e,chainId:s,timestamp:Date.now(),transactions:c}),c},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:s}){return await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId)?vt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId)?vt.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async getAddressBalance({caipNetworkId:e,address:t}){return Os.api.post({path:`/v1?chainId=${e}&projectId=${it.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:t}}}).then(n=>n.result)},async fetchTokenPrice({addresses:e}){if(!await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=Ue.getTokenPriceCacheForAddresses(e);if(n)return n;const r=await Os.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:it.state.projectId},headers:{"Content-Type":"application/json"}});return Ue.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId)?vt.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){const{st:t,sv:n}=vt.getSdkProperties();if(!await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return vt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:s}){if(!await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Os.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:_s.CONVERT_SLIPPAGE_TOLERANCE},projectId:it.state.projectId,from:t,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){const{st:r,sv:s}=vt.getSdkProperties();if(!await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return vt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:s}})},async getBalance(e,t,n){const{st:r,sv:s}=vt.getSdkProperties();if(!await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId))return tu.showError("Token Balance Unavailable"),{balances:[]};const a=`${t}:${e}`,c=Ue.getBalanceCacheForCaipAddress(a);if(c)return c;const u=await vt.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:s}});return Ue.updateBalanceCache({caipAddress:a,balance:u,timestamp:Date.now()}),u},async lookupEnsName(e){return await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId)?vt.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){if(!await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId))return[];const n=te.getAccountData()?.address;return vt.get({path:`/v1/profile/reverse/${e}`,params:{sender:n,apiVersion:"2"}})},async getEnsNameSuggestions(e){return await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId)?vt.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId)?Os.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){return await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId)?(await Os.api.post({path:"/v1/generators/onrampurl",params:{projectId:it.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){if(!await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await vt.get({path:"/v1/onramp/options"})}catch{return R6e}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId)?await Os.api.post({path:"/v1/onramp/quote",params:{projectId:it.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId)?vt.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await vt.isNetworkSupported(te.state.activeCaipNetwork?.caipNetworkId)?Os.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:it.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){Os.clientId=e,Os.api=new oy({baseUrl:hj,clientId:e})}},ua={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},x6e={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,r=encodeURIComponent(n);if(e===ua.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],a=encodeURIComponent(`${s}://${i}`);window.location.href=`${ua.PHANTOM.url}/ul/browse/${r}?ref=${a}`}if(e===ua.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${ua.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===ie.CHAIN.SOLANA&&e===ua.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${ua.COINBASE.url}/dapp?cb_url=${r}`),t===ie.CHAIN.BITCOIN&&e===ua.BINANCE.id&&!("binancew3w"in window)){const s=te.state.activeCaipNetwork,i=window.btoa("/pages/browser/index"),a=window.btoa(`url=${r}&defaultChainId=${s?.id??1}`),c=new URL(ua.BINANCE.deeplink);c.searchParams.set("appId",ua.BINANCE.appId),c.searchParams.set("startPagePath",i),c.searchParams.set("startPageQuery",a);const u=new URL(ua.BINANCE.url);u.searchParams.set("_dp",window.btoa(c.toString())),window.location.href=u.toString()}}},k6e=Object.freeze({enabled:!0,events:[]}),P6e=new oy({baseUrl:at.getAnalyticsUrl(),clientId:null}),U6e=5,$6e=60*1e3,$l=Tt({...k6e}),D6e={state:$l,subscribeKey(e,t){return Sn($l,e,t)},async sendError(e,t){if(!$l.enabled)return;const n=Date.now();if($l.events.filter(i=>{const a=new Date(i.properties.timestamp||"").getTime();return n-a<$6e}).length>=U6e)return;const s={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};$l.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:a,sdkVersion:c}=it.state;await P6e.post({path:"/e",params:{projectId:i,st:a,sv:c||"html-wagmi-4.2.2"},body:{eventId:at.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){$l.enabled=!0},disable(){$l.enabled=!1},clearEvents(){$l.events=[]}};let NE=class VN extends Error{constructor(t,n,r){super(t),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,VN.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,a=i.indexOf(`
`);if(a>-1){const c=i.substring(a+1);this.stack=`${this.name}: ${this.message}
${c}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,VN):this.stack||(this.stack=`${this.name}: ${this.message}`))}};function WU(e,t){let n="";try{e instanceof Error?n=e.message:typeof e=="string"?n=e:typeof e=="object"&&e!==null?Object.keys(e).length===0?n="Unknown error":n=e?.message||JSON.stringify(e):n=String(e)}catch(s){n="Unknown error",console.error("Error parsing error message",s)}const r=e instanceof NE?e:new NE(n,t,e);throw D6e.sendError(r,r.category),r}function so(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const s=e[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...a)=>{try{return await s(...a)}catch(c){return WU(c,t)}}:i=(...a)=>{try{return s(...a)}catch(c){return WU(c,t)}},n[r]=i}else n[r]=s}),n}const Pi=Tt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),M6e={state:Pi,subscribeNetworkImages(e){return On(Pi.networkImages,()=>e(Pi.networkImages))},subscribeKey(e,t){return Sn(Pi,e,t)},subscribe(e){return On(Pi,()=>e(Pi))},setWalletImage(e,t){Pi.walletImages[e]=t},setNetworkImage(e,t){Pi.networkImages[e]=t},setChainImage(e,t){Pi.chainImages[e]=t},setConnectorImage(e,t){Pi.connectorImages={...Pi.connectorImages,[e]:t}},setTokenImage(e,t){Pi.tokenImages[e]=t},setCurrencyImage(e,t){Pi.currencyImages[e]=t}},Li=so(M6e),VU={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},JS=Tt({networkImagePromises:{}}),L6e={async fetchWalletImage(e){if(e)return await mt._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(JS.networkImagePromises[e]||(JS.networkImagePromises[e]=mt._fetchNetworkImage(e)),await JS.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return Li.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return Li.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return Li.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return Li.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return Li.state.connectorImages[e.imageId]},getChainImage(e){return Li.state.networkImages[VU[e]]},getTokenImage(e){if(e)return Li.state.tokenImages[e]},getWalletImageUrl(e){if(!e)return"";const{projectId:t,sdkType:n,sdkVersion:r}=it.state,s=new URL(`${ie.W3M_API_URL}/getWalletImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",n),s.searchParams.set("sv",r),s.toString()},getAssetImageUrl(e){if(!e)return"";const{projectId:t,sdkType:n,sdkVersion:r}=it.state,s=new URL(`${ie.W3M_API_URL}/public/getAssetImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",n),s.searchParams.set("sv",r),s.toString()},getChainNamespaceImageUrl(e){return this.getAssetImageUrl(VU[e])}},B6e=at.getAnalyticsUrl(),F6e=new oy({baseUrl:B6e,clientId:null}),j6e=["MODAL_CREATED"],z6e=45,GU=1e3*10,hr=Tt({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),pn={state:hr,subscribe(e){return On(hr,()=>e(hr))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=it.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){const e=JSON.stringify(hr.pendingEvents).length/1024>z6e,t=hr.lastFlush+GU<Date.now();return e||t},_setPendingEvent(e){try{let t=te.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),j6e.includes(e.data.event)||typeof window>"u")return;const n=te.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:at.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:n}}}),hr.reportedErrors.FORBIDDEN=!1,pn.shouldFlushEvents()&&pn._submitPendingEvents()}catch(t){console.warn("_setPendingEvent",t)}},sendEvent(e){hr.timestamp=Date.now(),hr.data=e;const t=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(it.state.features?.analytics||t.includes(e.event))&&pn._setPendingEvent(hr),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){hr.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(t=>t.props.event!=="WALLET_IMPRESSION_V2")}catch{return e}},_submitPendingEvents(){if(hr.lastFlush=Date.now(),!(hr.pendingEvents.length===0&&hr.walletImpressions.length===0))try{const e=pn._transformPendingEventsForBatch(hr.pendingEvents);hr.walletImpressions.length&&e.push({eventId:at.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...hr.walletImpressions]}}),F6e.sendBeacon({path:"/batch",params:pn.getSdkProperties(),body:e}),hr.reportedErrors.FORBIDDEN=!1,hr.pendingEvents=[],hr.walletImpressions=[]}catch{hr.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){hr.subscribedToVisibilityChange||typeof document>"u"||(hr.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&pn._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{pn._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{pn._submitPendingEvents()}),setInterval(()=>{pn._submitPendingEvents()},GU))}},H6e=at.getApiUrl(),Rs=new oy({baseUrl:H6e,clientId:null}),q6e=40,KU=4,W6e=20,_t=Tt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),mt={state:_t,subscribeKey(e,t){return Sn(_t,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=it.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return it.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${Rs.baseUrl}/getWalletImage/${e}`,n=await Rs.getBlob({path:t,params:mt._getSdkProperties()});Li.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${Rs.baseUrl}/public/getAssetImage/${e}`,n=await Rs.getBlob({path:t,params:mt._getSdkProperties()});Li.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${Rs.baseUrl}/public/getAssetImage/${e}`,n=await Rs.getBlob({path:t,params:mt._getSdkProperties()});Li.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${Rs.baseUrl}/public/getCurrencyImage/${e}`,n=await Rs.getBlob({path:t,params:mt._getSdkProperties()});Li.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${Rs.baseUrl}/public/getTokenImage/${e}`,n=await Rs.getBlob({path:t,params:mt._getSdkProperties()});Li.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){const t=e.length,n=at.isMobile()?e?.filter(s=>s.mobile_link||s.webapp_link?!0:Object.values(ua).map(a=>a.id).includes(s.id)):e,r=t-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await Rs.get({path:"/appkit/v1/config",params:mt._getSdkProperties()})).features},async fetchUsage(){try{const e=await Rs.get({path:"/appkit/v1/project-limits",params:mt._getSdkProperties()}),{tier:t,isAboveMauLimit:n,isAboveRpcLimit:r}=e.planLimits,s=t==="starter",i=n||r;mt.state.plan={tier:t,hasExceededUsageLimit:s&&i,limits:{isAboveRpcLimit:r,isAboveMauLimit:n}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await Rs.get({path:"/projects/v1/origins",params:mt._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===ie.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=ie.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const t=te.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!L6e.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>mt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:e}=st.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>mt._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>mt._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>mt._fetchTokenImage(t)))},async fetchWallets(e){const t=e.exclude??[];mt._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(ua).map(a=>a.id));const r=await Rs.get({path:"/getWallets",params:{...mt._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:s,mobileFilteredOutWalletsLength:i}=mt._filterWalletsByPlatform(r?.data);return{data:s||[],count:r?.count,mobileFilteredOutWalletsLength:i}},async prefetchWalletRanks(){const e=st.state.connectors;if(!e?.length)return;const t={page:1,entries:20,badge:"certified"};if(t.names=e.map(s=>s.name).join(","),te.state.activeChain===ie.CHAIN.EVM){const s=[...e.flatMap(i=>i.connectors?.map(a=>a.info?.rdns)||[]),...e.map(i=>i.info?.rdns)].filter(i=>typeof i=="string"&&i.length>0);s.length&&(t.rdns=s.join(","))}const{data:n}=await mt.fetchWallets(t);_t.explorerWallets=n,st.extendConnectorsWithExplorerWallets(n);const r=te.getRequestedCaipNetworkIds().join(",");_t.explorerFilteredWallets=n.filter(s=>s.chains?.some(i=>r.includes(i)))},async fetchFeaturedWallets(){const{featuredWalletIds:e}=it.state;if(e?.length){const t={...mt._getSdkProperties(),page:1,entries:e?.length??KU,include:e},{data:n}=await mt.fetchWallets(t),r=[...n].sort((i,a)=>e.indexOf(i.id)-e.indexOf(a.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>mt._fetchWalletImage(i))),_t.featured=r,_t.allFeatured=r}},async fetchRecommendedWallets(){try{_t.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=it.state,r=[...t??[],...n??[]].filter(Boolean),s=te.getRequestedCaipNetworkIds().join(","),i={page:1,entries:KU,include:e,exclude:r,chains:s},{data:a,count:c}=await mt.fetchWallets(i),u=Ue.getRecentWallets(),d=a.map(m=>m.image_id).filter(Boolean),h=u.map(m=>m.image_id).filter(Boolean);await Promise.allSettled([...d,...h].map(m=>mt._fetchWalletImage(m))),_t.recommended=a,_t.allRecommended=a,_t.count=c??0}catch{}finally{_t.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=it.state,s=te.getRequestedCaipNetworkIds().join(","),i=[..._t.recommended.map(({id:m})=>m),...n??[],...r??[]].filter(Boolean),a={page:e,entries:q6e,include:t,exclude:i,chains:s},{data:c,count:u,mobileFilteredOutWalletsLength:d}=await mt.fetchWallets(a);_t.mobileFilteredOutWalletsLength=d+(_t.mobileFilteredOutWalletsLength??0);const h=c.slice(0,W6e).map(m=>m.image_id).filter(Boolean);await Promise.allSettled(h.map(m=>mt._fetchWalletImage(m))),_t.wallets=at.uniqueBy([..._t.wallets,...mt._filterOutExtensions(c)],"id").filter(m=>m.chains?.some(g=>s.includes(g))),_t.count=u>_t.count?u:_t.count,_t.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await mt.fetchWallets(t);n&&n.forEach(r=>{_t.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=it.state,s=te.getRequestedCaipNetworkIds().join(",");_t.search=[];const i={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:s},{data:a}=await mt.fetchWallets(i);pn.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const c=a.map(u=>u.image_id).filter(Boolean);await Promise.allSettled([...c.map(u=>mt._fetchWalletImage(u)),at.wait(300)]),_t.search=mt._filterOutExtensions(a)},initPromise(e,t){const n=_t.promises[e];return n||(_t.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:s=!0}={}){const i=[e&&mt.initPromise("connectorImages",mt.fetchConnectorImages),t&&mt.initPromise("featuredWallets",mt.fetchFeaturedWallets),n&&mt.initPromise("recommendedWallets",mt.fetchRecommendedWallets),r&&mt.initPromise("networkImages",mt.fetchNetworkImages),s&&mt.initPromise("walletRanks",mt.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){it.state.features?.analytics&&mt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await Rs.get({path:"/getAnalyticsConfig",params:mt._getSdkProperties()});it.setFeatures({analytics:e})}catch{it.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){_t.featured=_t.allFeatured,_t.recommended=_t.allRecommended;return}const t=te.getRequestedCaipNetworkIds().join(",");_t.featured=_t.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),_t.recommended=_t.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),_t.filteredWallets=_t.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){_t.filteredWallets=[]},setFilterByNamespace(e){if(!e){_t.featured=_t.allFeatured,_t.recommended=_t.allRecommended;return}const t=te.getRequestedCaipNetworkIds().join(",");_t.featured=_t.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),_t.recommended=_t.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),_t.filteredWallets=_t.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}},V6e=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],Tn=Tt({view:"Connect",history:["Connect"],transactionStack:[]}),G6e={state:Tn,subscribeKey(e,t){return Sn(Tn,e,t)},pushTransactionStack(e){Tn.transactionStack.push(e)},popTransactionStack(e){const t=Tn.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:s}=t;switch(e){case"success":n?.();break;case"error":r?.(),wt.goBack();break;case"cancel":s?.(),wt.goBack();break}},push(e,t){let n=e,r=t;mt.state.plan.hasExceededUsageLimit&&V6e.includes(e)&&(n="UsageExceeded",r=void 0),n!==Tn.view&&(Tn.view=n,Tn.history.push(n),Tn.data=r)},reset(e,t){Tn.view=e,Tn.history=[e],Tn.data=t},replace(e,t){Tn.history.at(-1)===e||(Tn.view=e,Tn.history[Tn.history.length-1]=e,Tn.data=t)},goBack(){const e=te.state.activeCaipAddress,t=wt.state.view==="ConnectingFarcaster",n=!e&&t;if(Tn.history.length>1){Tn.history.pop();const[r]=Tn.history.slice(-1);r&&(e&&r==="Connect"?Tn.view="Account":Tn.view=r)}else Ln.close();Tn.data?.wallet&&(Tn.data.wallet=void 0),Tn.data?.redirectView&&(Tn.data.redirectView=void 0),setTimeout(()=>{if(n){te.setAccountProp("farcasterUrl",void 0,te.state.activeChain);const r=st.getAuthConnector();r?.provider?.reload();const s=$o(it.state);r?.provider?.syncDappData?.({metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(e){if(Tn.history.length>1){Tn.history=Tn.history.slice(0,e+1);const[t]=Tn.history.slice(-1);t&&(Tn.view=t)}},goBackOrCloseModal(){wt.state.history.length>1?wt.goBack():Ln.close()}},wt=so(G6e),pc=Tt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),GN={state:pc,subscribe(e){return On(pc,()=>e(pc))},setThemeMode(e){pc.themeMode=e;try{const t=st.getAuthConnector();if(t){const n=GN.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:wu(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){pc.themeVariables={...pc.themeVariables,...e};try{const t=st.getAuthConnector();if(t){const n=GN.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:wu(pc.themeVariables,pc.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return $o(pc)}},N1=so(GN),pj=Object.fromEntries(_v.map(e=>[e,void 0])),K6e=Object.fromEntries(_v.map(e=>[e,!0])),un=Tt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:pj,filterByNamespaceMap:K6e}),Y6e={state:un,subscribe(e){return On(un,()=>{e(un)})},subscribeKey(e,t){return Sn(un,e,t)},initialize(e){e.forEach(t=>{const n=Ue.getConnectedConnectorId(t);n&&st.setConnectorId(n,t)})},setActiveConnector(e){e&&(un.activeConnector=Do(e))},setConnectors(e){e.filter(s=>!un.allConnectors.some(i=>i.id===s.id&&st.getConnectorName(i.name)===st.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&un.allConnectors.push(Do(s))});const n=st.getEnabledNamespaces(),r=st.getEnabledConnectors(n);un.connectors=st.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(un.filterByNamespaceMap).forEach(t=>{un.filterByNamespaceMap[t]=!1}),e.forEach(t=>{un.filterByNamespaceMap[t]=!0}),st.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){un.filterByNamespaceMap[e]=t,st.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=st.getEnabledNamespaces(),t=st.getEnabledConnectors(e),n=st.areAllNamespacesEnabled();un.connectors=st.mergeMultiChainConnectors(t),n?mt.clearFilterByNamespaces():mt.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(un.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return un.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(un.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=st.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const s=r[0],i=s?.id===ie.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:s?.id||""}):s&&n.push(s)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,s=st.getConnectorName(r);if(!s)return;const i=t.get(s)||[];i.find(c=>c.chain===n.chain)||i.push(n),t.set(s,i)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===ie.CONNECTOR_ID.AUTH){const t=e,n=$o(it.state),r=N1.getSnapshot().themeMode,s=N1.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:wu(s,r)}),st.setConnectors([e])}else st.setConnectors([e])},getAuthConnector(e){const t=e||te.state.activeChain,n=un.connectors.find(r=>r.id===ie.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(s=>s.chain===t):n},getAnnouncedConnectorRdns(){return un.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return un.allConnectors.find(t=>t.id===e)},getConnector({id:e,namespace:t}){const n=t||te.state.activeChain;return un.allConnectors.filter(i=>i.chain===n).find(i=>i.id===e||i.explorerId===e)},syncIfAuthConnector(e){if(e.id!=="AUTH")return;const t=e,n=$o(it.state),r=N1.getSnapshot().themeMode,s=N1.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:wu(s,r)})},getConnectorsByNamespace(e){const t=un.allConnectors.filter(n=>n.chain===e);return st.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return te.checkIfSmartAccountEnabled()&&va(e)===Wn.ACCOUNT_TYPES.EOA},selectWalletConnector(e){const t=wt.state.data?.redirectView,n=te.state.activeChain,r=n?st.getConnector({id:e.id,namespace:n}):void 0;x6e.handleMobileDeeplinkRedirect(r?.explorerId||e.id,te.state.activeChain),r?wt.push("ConnectingExternal",{connector:r,wallet:e,redirectView:t}):wt.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors(e){return e?st.getConnectorsByNamespace(e):st.mergeMultiChainConnectors(un.allConnectors)},setFilterByNamespace(e){un.filterByNamespace=e,un.connectors=st.getConnectors(e),mt.setFilterByNamespace(e)},setConnectorId(e,t){e&&(un.activeConnectorIds={...un.activeConnectorIds,[t]:e},Ue.setConnectedConnectorId(t,e))},removeConnectorId(e){un.activeConnectorIds={...un.activeConnectorIds,[e]:void 0},Ue.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return un.activeConnectorIds[e]},isConnected(e){return e?!!un.activeConnectorIds[e]:Object.values(un.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){un.activeConnectorIds={...pj}},extendConnectorsWithExplorerWallets(e){un.allConnectors.forEach(r=>{const s=e.find(i=>i.id===r.id||i.rdns&&i.rdns===r.info?.rdns);s&&(r.explorerWallet=s)});const t=st.getEnabledNamespaces(),n=st.getEnabledConnectors(t);un.connectors=st.mergeMultiChainConnectors(n)}},st=so(Y6e),Z6e=1e3,H0={checkNamespaceConnectorId(e,t){return st.getConnectorId(e)===t},isSocialProvider(e){return _s.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((a,c)=>{if(e&&st.setActiveConnector(t),s?.(at.isMobile()&&e),r){const d=Ln.subscribeKey("open",h=>{h||(wt.state.view!==r&&wt.replace(r),d(),c(new Error("Modal closed")))})}const u=te.subscribeKey("activeCaipAddress",d=>{d&&(i?.(),n&&Ln.close(),u(),a(kr.parseCaipAddress(d)))})})},connectExternal(e){return new Promise((t,n)=>{const r=te.subscribeKey("activeCaipAddress",s=>{s&&(Ln.close(),r(),t(kr.parseCaipAddress(s)))});et.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let i,a=!1,c=null;const u=t||te.state.activeChain,d=te.subscribeKey("activeCaipAddress",h=>{h&&(n&&Ln.close(),d())});return new Promise((h,m)=>{async function g(v){if(v.data?.resultUri)if(v.origin===ie.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",g,!1);try{const E=st.getAuthConnector(u);if(E&&!a){i&&i.close(),a=!0;const A=v.data.resultUri;pn.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),Ue.setConnectedSocialProvider(e),await et.connectExternal({id:E.id,type:E.type,socialUri:A},E.chain);const R=te.state.activeCaipAddress;if(!R){m(new Error("Failed to connect"));return}h(kr.parseCaipAddress(R)),pn.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(E){pn.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:at.parseError(E)}}),m(new Error("Failed to connect"))}}else pn.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}async function w(){if(pn.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),e==="farcaster"){r?.();const v=Ln.subscribeKey("open",A=>{!A&&e==="farcaster"&&(m(new Error("Popup closed")),s?.(),v())}),E=st.getAuthConnector();if(E&&!te.getAccountData(u)?.farcasterUrl)try{const{url:R}=await E.provider.getFarcasterUri();te.setAccountProp("farcasterUrl",R,u)}catch{m(new Error("Failed to connect to farcaster"))}}else{const v=st.getAuthConnector();c=at.returnOpenHref(`${ie.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(v){const{uri:E}=await v.provider.getSocialRedirectUri({provider:e});if(c&&E){c.location.href=E,i=c;const A=setInterval(()=>{i?.closed&&!a&&(m(new Error("Popup closed")),clearInterval(A))},1e3);window.addEventListener("message",g,!1)}else c?.close(),m(new Error("Failed to initiate social connection"))}}catch{m(new Error("Failed to initiate social connection")),c?.close()}}}w()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n?.(),t){const c=Ln.subscribeKey("open",u=>{u||(wt.state.view!==t&&wt.replace(t),c(),i(new Error("Modal closed")))})}const a=te.subscribeKey("activeCaipAddress",c=>{c&&(r?.(),e&&Ln.close(),a(),s(kr.parseCaipAddress(c)))})})},async updateEmail(){const e=Ue.getConnectedConnectorId(te.state.activeChain),t=st.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==ie.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await Ln.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const i=setInterval(()=>{const c=t.provider.getEmail()??"";c!==n&&(Ln.close(),clearInterval(i),a(),r({email:c}))},Z6e),a=Ln.subscribeKey("open",c=>{c||(wt.state.view!=="Connect"&&wt.push("Connect"),clearInterval(i),a(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return te.checkIfSmartAccountEnabled()&&va(e)===Wn.ACCOUNT_TYPES.EOA}};function mj(){const e=te.state.activeCaipNetwork?.chainNamespace||"eip155",t=te.state.activeCaipNetwork?.id||1,n=_s.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function va(e){return te.getAccountData(e)?.preferredAccountType}function nu(e){return e?te.state.chains.get(e)?.networkState?.caipNetwork:te.state.activeCaipNetwork}const gj={getConnectionStatus(e,t){const n=st.state.activeConnectorIds[t],r=et.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(a=>a.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){const i=r.accounts.filter(a=>!n.some(u=>u.toLowerCase()===a.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(e,t){const n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){const t=!!it.state.remoteFeatures?.multiWallet,n=st.state.activeConnectorIds[e],r=et.getConnections(e),i=(et.state.recentConnections.get(e)??[]).filter(c=>st.getConnectorById(c.connectorId)),a=gj.excludeExistingConnections([...r.map(c=>c.connectorId),...n?[n]:[]],i);return t?{connections:r,recentConnections:a}:{connections:r.filter(c=>c.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}},onConnectMobile(e){const t=et.state.wcUri;if(e?.mobile_link&&t)try{et.setWcError(!1);const{mobile_link:n,link_mode:r,name:s}=e,{redirect:i,redirectUniversalLink:a,href:c}=at.formatNativeUrl(n,t,r),u=i,d=a,h=at.isIframe()?"_top":"_self";et.setWcLinking({name:s,href:c}),et.setRecentWallet(e),it.state.experimental_preferUniversalLinks&&d?at.openHref(d,h):at.openHref(u,h)}catch(n){pn.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:n instanceof Error?n.message:"Error parsing the deep link",uri:t,mobile_link:e.mobile_link,name:e.name}}),et.setWcError(!0)}}},dh=Tt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1,connectingWallet:void 0}),kc={state:dh,subscribe(e){return On(dh,()=>e(dh))},subscribeOpen(e){return Sn(dh,"open",e)},set(e){Object.assign(dh,{...dh,...e})}},nr=Tt({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),X6e={state:nr,subscribe(e){return On(nr,()=>e(nr))},setLastNetworkInView(e){nr.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");nr.loading=!0;try{const t=await vt.fetchTransactions({account:e,cursor:nr.next,chainId:te.state.activeCaipNetwork?.caipNetworkId}),n=Q1.filterSpamTransactions(t.data),r=Q1.filterByConnectedChain(n),s=[...nr.transactions,...r];nr.loading=!1,nr.transactions=s,nr.transactionsByYear=Q1.groupTransactionsByYearAndMonth(nr.transactionsByYear,r),nr.empty=s.length===0,nr.next=t.next?t.next:void 0}catch{const n=te.state.activeChain;pn.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:it.state.projectId,cursor:nr.next,isSmartAccount:va(n)===Wn.ACCOUNT_TYPES.SMART_ACCOUNT}}),tu.showError("Failed to fetch transactions"),nr.loading=!1,nr.empty=!0,nr.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),a=n[s]??{},u=(a[i]??[]).filter(d=>d.id!==r.id);n[s]={...a,[i]:[...u,r].sort((d,h)=>new Date(h.metadata.minedAt).getTime()-new Date(d.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers?.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){const t=te.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){nr.next=void 0},resetTransactions(){nr.transactions=[],nr.transactionsByYear={},nr.lastNetworkInView=void 0,nr.loading=!1,nr.empty=!1,nr.next=void 0}},Q1=so(X6e,"API_ERROR"),Jt=Tt({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,wcFetchingUri:!1,buffering:!1,status:"disconnected"});let td;const J6e={state:Jt,subscribe(e){return On(Jt,()=>e(Jt))},subscribeKey(e,t){return Sn(Jt,e,t)},_getClient(){return Jt._client},setClient(e){Jt._client=Do(e)},initialize(e){const t=e.filter(n=>!!n.namespace).map(n=>n.namespace);et.syncStorageConnections(t)},syncStorageConnections(e){const t=Ue.getConnections(),n=e??Array.from(te.state.chains.keys());for(const r of n){const s=t[r]??[],i=new Map(Jt.recentConnections);i.set(r,s),Jt.recentConnections=i}},getConnections(e){return e?Jt.connections.get(e)??[]:[]},hasAnyConnection(e){const t=et.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect({cache:e="auto"}={}){Jt.wcFetchingUri=!0;const t=at.isTelegram()||at.isSafari()&&at.isIos();if(e==="always"||e==="auto"&&t){if(td){await td,td=void 0;return}if(!at.isPairingExpired(Jt?.wcPairingExpiry)){const n=Jt.wcUri;Jt.wcUri=n;return}td=et._getClient()?.connectWalletConnect?.().catch(()=>{}),et.state.status="connecting",await td,td=void 0,Jt.wcPairingExpiry=void 0,et.state.status="connected"}else await et._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){const r=await et._getClient()?.connectExternal?.(e);n&&te.setActiveNamespace(t);const s=st.state.allConnectors.find(a=>a.id===e?.id),i=e.type==="AUTH"?"email":"browser";return pn.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:i,name:s?.name||"Unknown",view:wt.state.view,walletRank:s?.explorerWallet?.order}}),r},async reconnectExternal(e){await et._getClient()?.reconnectExternal?.(e);const t=e.chain||te.state.activeChain;t&&st.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;Ln.setLoading(!0,te.state.activeChain);const n=st.getAuthConnector();n&&(te.setAccountProp("preferredAccountType",e,t),await n.provider.setPreferredAccount(e),Ue.setPreferredAccountTypes(Object.entries(te.state.chains).reduce((r,[s,i])=>{const a=s,c=va(a);return c!==void 0&&(r[a]=c),r},{})),await et.reconnectExternal(n),Ln.setLoading(!1,te.state.activeChain),pn.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:te.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return et._getClient()?.signMessage(e)},parseUnits(e,t){return et._getClient()?.parseUnits(e,t)},formatUnits(e,t){return et._getClient()?.formatUnits(e,t)},updateBalance(e){return et._getClient()?.updateBalance(e)},async sendTransaction(e){return et._getClient()?.sendTransaction(e)},async getCapabilities(e){return et._getClient()?.getCapabilities(e)},async grantPermissions(e){return et._getClient()?.grantPermissions(e)},async walletGetAssets(e){return et._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return et._getClient()?.estimateGas(e)},async writeContract(e){return et._getClient()?.writeContract(e)},async getEnsAddress(e){return et._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return et._getClient()?.getEnsAvatar(e)},checkInstalled(e){return et._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){Jt.wcUri=void 0,Jt.wcPairingExpiry=void 0,Jt.wcLinking=void 0,Jt.recentWallet=void 0,Jt.wcFetchingUri=!1,Jt.status="disconnected",Q1.resetTransactions(),Ue.deleteWalletConnectDeepLink(),Ue.deleteRecentWallet(),kc.set({connectingWallet:void 0})},resetUri(){Jt.wcUri=void 0,Jt.wcPairingExpiry=void 0,td=void 0,Jt.wcFetchingUri=!1,kc.set({connectingWallet:void 0})},finalizeWcConnection(e){const{wcLinking:t,recentWallet:n}=et.state;t&&Ue.setWalletConnectDeepLink(t),n&&Ue.setAppKitRecent(n),e&&pn.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:wt.state.data?.wallet?.name||"Unknown",view:wt.state.view,walletRank:n?.order}})},setWcBasic(e){Jt.wcBasic=e},setUri(e){Jt.wcUri=e,Jt.wcFetchingUri=!1,Jt.wcPairingExpiry=at.getPairingExpiry()},setWcLinking(e){Jt.wcLinking=e},setWcError(e){Jt.wcError=e,Jt.wcFetchingUri=!1,Jt.buffering=!1},setRecentWallet(e){Jt.recentWallet=e},setBuffering(e){Jt.buffering=e},setStatus(e){Jt.status=e},setIsSwitchingConnection(e){Jt.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await et._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new NE("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},async disconnectConnector({id:e,namespace:t}){try{await et._getClient()?.disconnectConnector({id:e,namespace:t})}catch(n){throw new NE("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(e,t){const n=new Map(Jt.connections);n.set(t,e),Jt.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){const r=te.getAccountData(t)?.user?.accounts?.find(i=>i.type==="smartAccount"),s=r&&r.address.toLowerCase()===e.toLowerCase()&&H0.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await et.setPreferredAccountType(s,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const r=st.getConnectorById(e.connectorId),s=e.connectorId===ie.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(s)n&&await et.handleAuthAccountSwitch({address:n,namespace:t});else return(await et.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){const s=st.getConnectorById(e.connectorId),i=e.auth?.name?.toLowerCase(),a=e.connectorId===ie.CONNECTOR_ID.AUTH,c=e.connectorId===ie.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${e.connectorId}`);let u;if(a)if(i&&H0.isSocialProvider(i)){const{address:d}=await H0.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){Ln.open({view:"ConnectingFarcaster"})},onConnect(){wt.replace("ProfileWallets")}});u=d}else{const{address:d}=await H0.connectEmail({closeModalOnConnect:r,onOpen(){Ln.open({view:"EmailLogin"})},onConnect(){wt.replace("ProfileWallets")}});u=d}else if(c){const{address:d}=await H0.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){const m=h?"AllWallets":"ConnectingWalletConnect";Ln.state.open?wt.push(m):Ln.open({view:m})},onConnect(){wt.replace("ProfileWallets")}});u=d}else{const d=await et.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);d&&(u=d.address)}return a&&n&&await et.handleAuthAccountSwitch({address:n,namespace:t}),u},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:s}){let i;const a=te.getAccountData(n)?.caipAddress;if(a){const{address:u}=kr.parseCaipAddress(a);i=u}const c=gj.getConnectionStatus(e,n);switch(c){case"connected":case"active":{const u=await et.handleActiveConnection({connection:e,namespace:n,address:t});if(i&&u){const d=u.toLowerCase()!==i.toLowerCase();s?.({address:u,namespace:n,hasSwitchedAccount:d,hasSwitchedWallet:c==="active"})}break}case"disconnected":{const u=await et.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});u&&s?.({address:u,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${c}`)}}},et=so(J6e),QS={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return of(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}};let e5;async function YU(){if(!e5){const{createPublicClient:e,http:t,defineChain:n}=await ir(async()=>{const{createPublicClient:r,http:s,defineChain:i}=await import("./index-DpHkCDZj.js");return{createPublicClient:r,http:s,defineChain:i}},__vite__mapDeps([56,57,55,58,59,54]));e5={createPublicClient:e,http:t,defineChain:n}}return e5}const KN={getBlockchainApiRpcUrl(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()},async getViemChain(e){const{defineChain:t}=await YU(),{chainId:n}=kr.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(n)})},async createViemPublicClient(e){const{createPublicClient:t,http:n}=await YU(),r=it.state.projectId,s=await KN.getViemChain(e);if(!s)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:s,transport:n(KN.getBlockchainApiRpcUrl(e.caipNetworkId,r))})}},YT={async getMyTokensWithBalance(e){const t=te.getAccountData()?.address,n=te.state.activeCaipNetwork,r=st.getConnectorId("eip155")===ie.CONNECTOR_ID.AUTH;if(!t||!n)return[];const s=`${n.caipNetworkId}:${t}`,i=Ue.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace===ie.CHAIN.EVM&&r){const c=await this.getEIP155Balances(t,n);if(c)return this.filterLowQualityTokens(c)}const a=await vt.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(a.balances)},async getEIP155Balances(e,t){try{const n=QS.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await et.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;const s=await et.walletGetAssets({account:e,chainFilter:[n]});if(!QS.isWalletGetAssetsResponse(s))return null;const a=(s[n]||[]).map(c=>QS.createBalance(c,t.caipNetworkId));return Ue.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:a},timestamp:Date.now()}),a}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:n}){const r=await KN.createViemPublicClient(n),{address:s}=kr.parseCaipAddress(e),[{result:i},{result:a},{result:c},{result:u}]=await r.multicall({contracts:[{address:t,functionName:"name",args:[],abi:eu},{address:t,functionName:"symbol",args:[],abi:eu},{address:t,functionName:"balanceOf",args:[s],abi:eu},{address:t,functionName:"decimals",args:[],abi:eu}]});return{name:i,symbol:a,decimals:u,balance:c&&u?of(c,u):"0"}}},t5={adapters:{}},Q6e={state:t5,initialize(e){t5.adapters={...e}},get(e){return t5.adapters[e]}},TE={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},Xs=Tt({providers:{...TE},providerIds:{...TE}}),YN={state:Xs,subscribeKey(e,t){return Sn(Xs,e,t)},subscribe(e){return On(Xs,()=>{e(Xs)})},subscribeProviders(e){return On(Xs.providers,()=>e(Xs.providers))},setProvider(e,t){e&&t&&(Xs.providers[e]=Do(t))},getProvider(e){if(e)return Xs.providers[e]},setProviderId(e,t){t&&(Xs.providerIds[e]=t)},getProviderId(e){if(e)return Xs.providerIds[e]},reset(){Xs.providers={...TE},Xs.providerIds={...TE}},resetChain(e){Xs.providers[e]=void 0,Xs.providerIds[e]=void 0}},eNe={async getTokenList(e){return(await vt.fetchSwapTokens({chainId:e}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const e=te.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":const t=(await et?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await vt.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await vt.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(s?.allowance&&n&&r){const i=et.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(e){const t=await YT.getMyTokensWithBalance(e);return te.setAccountProp("tokenBalance",t,te.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:mj(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]},async handleSwapError(e){try{const t=e?.cause;return t?.json&&(await t.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},dn=Tt({tokenBalances:[],loading:!1}),tNe={state:dn,subscribe(e){return On(dn,()=>e(dn))},subscribeKey(e,t){return Sn(dn,e,t)},setToken(e){e&&(dn.token=Do(e))},setTokenAmount(e){dn.sendTokenAmount=e},setReceiverAddress(e){dn.receiverAddress=e},setReceiverProfileImageUrl(e){dn.receiverProfileImageUrl=e},setReceiverProfileName(e){dn.receiverProfileName=e},setNetworkBalanceInUsd(e){dn.networkBalanceInUSD=e},setLoading(e){dn.loading=e},getSdkEventProperties(e){return{message:at.parseError(e),isSmartAccount:va(te.state.activeChain)===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:dn.token?.symbol||"",amount:dn.sendTokenAmount??0,network:te.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(qt.setLoading(!0),te.state.activeCaipNetwork?.chainNamespace){case"eip155":await qt.sendEvmToken();return;case"solana":await qt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw wa.isUserRejectedRequestError(e)?new Ad(e):e}finally{qt.setLoading(!1)}},async sendEvmToken(){const e=te.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=va(e);if(!qt.state.sendTokenAmount||!qt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!qt.state.token)throw new Error("A token is required");if(qt.state.token?.address){pn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:qt.state.token.address,amount:qt.state.sendTokenAmount,network:te.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await qt.sendERC20Token({receiverAddress:qt.state.receiverAddress,tokenAddress:qt.state.token.address,sendTokenAmount:qt.state.sendTokenAmount,decimals:qt.state.token.quantity.decimals});n&&(dn.hash=n)}else{pn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:qt.state.token.symbol||"",amount:qt.state.sendTokenAmount,network:te.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await qt.sendNativeToken({receiverAddress:qt.state.receiverAddress,sendTokenAmount:qt.state.sendTokenAmount,decimals:qt.state.token.quantity.decimals});n&&(dn.hash=n)}},async fetchTokenBalance(e){dn.loading=!0;const t=te.state.activeChain,n=te.state.activeCaipNetwork?.caipNetworkId,r=te.state.activeCaipNetwork?.chainNamespace,s=te.getAccountData(t)?.caipAddress??te.state.activeCaipAddress,i=s?at.getPlainAddress(s):void 0;if(dn.lastRetry&&!at.isAllowedRetry(dn.lastRetry,30*_s.ONE_SEC_MS))return dn.loading=!1,[];try{if(i&&n&&r){const a=await YT.getMyTokensWithBalance();return dn.tokenBalances=a,dn.lastRetry=void 0,a}}catch(a){dn.lastRetry=Date.now(),e?.(a),tu.showError("Token Balance Unavailable")}finally{dn.loading=!1}return[]},fetchNetworkBalance(){if(dn.tokenBalances.length===0)return;const e=eNe.mapBalancesToSwapTokens(dn.tokenBalances);if(!e)return;const t=e.find(n=>n.address===mj());t&&(dn.networkBalanceInUSD=t?QF.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){wt.pushTransactionStack({});const t=e.receiverAddress,n=te.getAccountData()?.address,r=et.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),i=await et.sendTransaction({chainNamespace:ie.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)});return pn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:va("eip155")===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:qt.state.token?.symbol||"",amount:e.sendTokenAmount,network:te.state.activeCaipNetwork?.caipNetworkId||"",hash:i||""}}),et._getClient()?.updateBalance("eip155"),qt.resetSend(),{hash:i}},async sendERC20Token(e){wt.pushTransactionStack({onSuccess(){wt.replace("Account")}});const t=et.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),n=te.getAccountData()?.address;if(n&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const r=at.getPlainAddress(e.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");const s=await et.writeContract({fromAddress:n,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:ej.getERC20Abi(r),chainNamespace:ie.CHAIN.EVM});return pn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:va("eip155")===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:qt.state.token?.symbol||"",amount:e.sendTokenAmount,network:te.state.activeCaipNetwork?.caipNetworkId||"",hash:s||""}}),qt.resetSend(),{hash:s}}return{hash:void 0}},async sendSolanaToken(){if(!qt.state.sendTokenAmount||!qt.state.receiverAddress)throw new Error("An amount and receiver address are required");wt.pushTransactionStack({onSuccess(){wt.replace("Account")}});let e;qt.state.token&&qt.state.token.address!==_s.SOLANA_NATIVE_TOKEN_ADDRESS&&(at.isCaipAddress(qt.state.token.address)?e=at.getPlainAddress(qt.state.token.address):e=qt.state.token.address);const t=await et.sendTransaction({chainNamespace:"solana",tokenMint:e,to:qt.state.receiverAddress,value:qt.state.sendTokenAmount});t&&(dn.hash=t),et._getClient()?.updateBalance("solana"),pn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:qt.state.token?.symbol||"",amount:qt.state.sendTokenAmount,network:te.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),qt.resetSend()},resetSend(){dn.token=void 0,dn.sendTokenAmount=void 0,dn.receiverAddress=void 0,dn.receiverProfileImageUrl=void 0,dn.receiverProfileName=void 0,dn.loading=!1,dn.tokenBalances=[]}},qt=so(tNe),n5={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},T1={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ke=Tt({chains:nj(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),yj={state:ke,subscribe(e){return On(ke,()=>{e(ke)})},subscribeKey(e,t){return Sn(ke,e,t)},subscribeAccountStateProp(e,t,n){const r=n||ke.activeChain;return r?Sn(ke.chains.get(r)?.accountState||{},e,t):()=>{}},subscribeChainProp(e,t,n){let r;return On(ke.chains,()=>{const s=n||ke.activeChain;if(s){const i=ke.chains.get(s)?.[e];r!==i&&(r=i,t(i))}})},initialize(e,t,n){const{chainId:r,namespace:s}=Ue.getActiveNetworkProps(),i=t?.find(h=>h.id.toString()===r?.toString()),c=e.find(h=>h?.namespace===s)||e?.[0],u=e.map(h=>h.namespace).filter(h=>h!==void 0),d=it.state.enableEmbedded?new Set([...u]):new Set([...t?.map(h=>h.chainNamespace)??[]]);(e?.length===0||!c)&&(ke.noAdapters=!0),ke.noAdapters||(ke.activeChain=c?.namespace,ke.activeCaipNetwork=i,te.setChainNetworkData(c?.namespace,{caipNetwork:i}),ke.activeChain&&kc.set({activeChain:c?.namespace})),d.forEach(h=>{const m=t?.filter(v=>v.chainNamespace===h),g=Ue.getPreferredAccountTypes()||{},w={...it.state.defaultAccountTypes,...g};te.state.chains.set(h,{namespace:h,networkState:Tt({...T1,caipNetwork:m?.[0]}),accountState:Tt({...n5,preferredAccountType:w[h]}),caipNetworks:m??[],...n}),te.setRequestedCaipNetworks(m??[],h)})},removeAdapter(e){if(ke.activeChain===e){const t=Array.from(ke.chains.entries()).find(([n])=>n!==e);if(t){const n=t[1]?.caipNetworks?.[0];n&&te.setActiveCaipNetwork(n)}}ke.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},n){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");ke.chains.set(e.namespace,{namespace:e.namespace,networkState:{...T1,caipNetwork:n[0]},accountState:{...n5},caipNetworks:n,connectionControllerClient:t}),te.setRequestedCaipNetworks(n?.filter(r=>r.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){const t=ke.chains.get(e.chainNamespace);if(t){const n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),ke.chains.set(e.chainNamespace,{...t,caipNetworks:n}),te.setRequestedCaipNetworks(n,e.chainNamespace),st.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const n=ke.chains.get(e);if(n){const r=ke.activeCaipNetwork?.id===t,s=[...n.caipNetworks?.filter(i=>i.id!==t)||[]];r&&n?.caipNetworks?.[0]&&te.setActiveCaipNetwork(n.caipNetworks[0]),ke.chains.set(e,{...n,caipNetworks:s}),te.setRequestedCaipNetworks(s||[],e),s.length===0&&st.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=ke.chains.get(e);n&&(n.networkState={...n.networkState||T1,...t},ke.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=ke.chains.get(e);if(r){const s={...r.accountState||n5,...t};ke.chains.set(e,{...r,accountState:s}),(ke.chains.size===1||ke.activeChain===e)&&t.caipAddress&&(ke.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;const n=ke.chains.get(e);if(n){const r={...n.networkState||T1,...t};ke.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){te.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){ke.activeChain=e;const t=e?ke.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(ke.activeCaipAddress=t?.accountState?.caipAddress,ke.activeCaipNetwork=n,te.setChainNetworkData(e,{caipNetwork:n}),Ue.setActiveCaipNetworkId(n?.caipNetworkId),kc.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;const t=ke.activeChain===e.chainNamespace;t||te.setIsSwitchingNamespace(!0);const n=ke.chains.get(e.chainNamespace);ke.activeChain=e.chainNamespace,ke.activeCaipNetwork=e,te.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=n?.accountState?.address;if(r)ke.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(t&&ke.activeCaipAddress){const{address:i}=kr.parseCaipAddress(ke.activeCaipAddress);r=i,ke.activeCaipAddress=`${e.caipNetworkId}:${r}`}else ke.activeCaipAddress=void 0;te.setChainAccountData(e.chainNamespace,{address:r,caipAddress:ke.activeCaipAddress}),qt.resetSend(),kc.set({activeChain:ke.activeChain,selectedNetworkId:ke.activeCaipNetwork?.caipNetworkId}),Ue.setActiveCaipNetworkId(e.caipNetworkId),!te.checkIfSupportedNetwork(e.chainNamespace)&&it.state.enableNetworkSwitch&&!it.state.allowUnsupportedChain&&!et.state.wcBasic&&te.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=ke.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==te.state.activeChain,n=te.getNetworkData(e)?.caipNetwork,r=te.getCaipNetworkByNamespace(e,n?.id);t&&r&&await te.switchActiveNetwork(r)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){const n=te.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=YN.getProviderId(ke.activeChain)==="AUTH",s=te.getAccountData(n)?.address,i=ie.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(s&&e.chainNamespace===n||r&&i){const a=Q6e.get(e.chainNamespace);if(!a)throw new Error("Adapter not found");await a.switchNetwork({caipNetwork:e})}te.setActiveCaipNetwork(e)}catch(a){if(t)throw a}pn.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){const t=e||ke.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=ke.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){const n=ke.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=ke.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return at.sortRequestedNetworks(n,r).filter(a=>a?.id)},getAllRequestedCaipNetworks(){const e=[];return ke.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=te.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){te.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=te.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));st.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const e=[];return ke.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=te.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?ke.chains.get(e)?.networkState?.caipNetwork:ke.activeCaipNetwork},getActiveCaipAddress(){return ke.activeCaipAddress},getApprovedCaipNetworkIds(e){return ke.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){te.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){const n=t||ke.activeCaipNetwork?.caipNetworkId,r=te.getRequestedCaipNetworks(e);return r.length?r?.some(s=>s.caipNetworkId===n):!0},checkIfSupportedChainId(e){return ke.activeChain?te.getRequestedCaipNetworks(ke.activeChain)?.some(n=>n.id===e):!0},checkIfSmartAccountEnabled(){const e=yg.caipNetworkIdToNumber(ke.activeCaipNetwork?.caipNetworkId);return!ke.activeChain||!e?!1:!!(Tr.get(Ve.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(e.toString())},showUnsupportedChainUI(){Ln.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=ke.activeCaipNetwork;return!!(e?.chainNamespace&&_s.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){te.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");const n=te.state.chains.get(t)?.accountState?.preferredAccountType,r=it.state.defaultAccountTypes[t];ke.activeCaipAddress=void 0,te.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),st.removeConnectorId(t)},setIsSwitchingNamespace(e){ke.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(ke.chains.forEach(n=>{ie.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){const n=e[0];return t=n?ke.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){const t=e||ke.activeChain;if(t)return te.state.chains.get(t)?.accountState},getNetworkData(e){const t=e||ke.activeChain;if(t)return te.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const n=te.state.chains.get(e),r=n?.caipNetworks?.find(s=>s.id.toString()===t?.toString());return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=st.state.filterByNamespace;return(e?[ke.chains.get(e)]:Array.from(ke.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?te.getRequestedCaipNetworks(e):te.getAllRequestedCaipNetworks()},getCaipNetworkById(e,t){return yj.getCaipNetworks(t).find(n=>n.id.toString()===e.toString()||n.caipNetworkId.toString()===e.toString())},setLastConnectedSIWECaipNetwork(e){ke.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return ke.lastConnectedSIWECaipNetwork},async fetchTokenBalance(e){const t=te.getAccountData();if(!t)return[];const n=te.state.activeCaipNetwork?.caipNetworkId,r=te.state.activeCaipNetwork?.chainNamespace,s=te.state.activeCaipAddress,i=s?at.getPlainAddress(s):void 0;if(te.setAccountProp("balanceLoading",!0,r),t.lastRetry&&!at.isAllowedRetry(t.lastRetry,30*_s.ONE_SEC_MS))return te.setAccountProp("balanceLoading",!1,r),[];try{if(i&&n&&r){const a=await YT.getMyTokensWithBalance();return te.setAccountProp("tokenBalance",a,r),te.setAccountProp("lastRetry",void 0,r),te.setAccountProp("balanceLoading",!1,r),a}}catch(a){te.setAccountProp("lastRetry",Date.now(),r),e?.(a),tu.showError("Token Balance Unavailable")}finally{te.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){const t=e.chainNamespace,n=!!te.getAccountData(t)?.caipAddress,r=te.getAllApprovedCaipNetworkIds(),s=te.getNetworkProp("supportsAllNetworks",t)!==!1,i=st.getConnectorId(t),a=st.getAuthConnector(),c=i===ie.CONNECTOR_ID.AUTH&&a;return!n||s||c?!1:!r?.includes(e.caipNetworkId)}},te=so(yj),nNe={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const n=te.state.activeCaipNetwork,r=te.state.activeChain,s=wt.state.data;if(e.id===n?.id)return;const a=!!te.getAccountData(r)?.address,c=!!te.getAccountData(e.chainNamespace)?.address,u=e.chainNamespace!==r,h=st.getConnectorId(r)===ie.CONNECTOR_ID.AUTH,m=ie.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(g=>g===e.chainNamespace);t||h&&m?wt.push("SwitchNetwork",{...s,network:e}):a&&u&&!c?wt.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):wt.push("SwitchNetwork",{...s,network:e})}},Js=Tt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),rNe={state:Js,subscribe(e){return On(Js,()=>e(Js))},subscribeKey(e,t){return Sn(Js,e,t)},async open(e){const t=e?.namespace,n=te.state.activeChain,r=t&&t!==n,s=te.getAccountData(e?.namespace)?.caipAddress,i=te.state.noAdapters;if(et.state.wcBasic?mt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await mt.prefetch(),st.setFilterByNamespace(e?.namespace),Ln.setLoading(!0,t),t&&r){const a=te.getNetworkData(t)?.caipNetwork||te.getRequestedCaipNetworks(t)[0];a&&(i?(await te.switchActiveNetwork(a),wt.push("ConnectingWalletConnectBasic")):nNe.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0}))}else it.state.manualWCControl||i&&!s?at.isMobile()?wt.reset("AllWallets"):wt.reset("ConnectingWalletConnectBasic"):e?.view?wt.reset(e.view,e.data):s?wt.reset("Account"):wt.reset("Connect");Js.open=!0,kc.set({open:!0}),pn.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const e=it.state.enableEmbedded,t=!!te.state.activeCaipAddress;Js.open&&pn.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),Js.open=!1,wt.reset("Connect"),Ln.clearLoading(),e?t?wt.replace("Account"):wt.push("Connect"):kc.set({open:!1}),et.resetUri()},setLoading(e,t){t&&Js.loadingNamespaceMap.set(t,e),Js.loading=e,kc.set({loading:e})},clearLoading(){Js.loadingNamespaceMap.clear(),Js.loading=!1,kc.set({loading:!1})},shake(){Js.shake||(Js.shake=!0,setTimeout(()=>{Js.shake=!1},500))}},Ln=so(rNe);var I1={exports:{}},ZU;function sNe(){if(ZU)return I1.exports;ZU=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(S,x,P){return Function.prototype.apply.call(S,x,P)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:n=function(S){return Object.getOwnPropertyNames(S)};function r(N){console&&console.warn&&console.warn(N)}var s=Number.isNaN||function(S){return S!==S};function i(){i.init.call(this)}I1.exports=i,I1.exports.once=R,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function c(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(N){if(typeof N!="number"||N<0||s(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");a=N}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function u(N){return N._maxListeners===void 0?i.defaultMaxListeners:N._maxListeners}i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(S){for(var x=[],P=1;P<arguments.length;P++)x.push(arguments[P]);var L=S==="error",j=this._events;if(j!==void 0)L=L&&j.error===void 0;else if(!L)return!1;if(L){var W;if(x.length>0&&(W=x[0]),W instanceof Error)throw W;var Y=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw Y.context=W,Y}var G=j[S];if(G===void 0)return!1;if(typeof G=="function")t(G,this,x);else for(var K=G.length,Z=v(G,K),P=0;P<K;++P)t(Z[P],this,x);return!0};function d(N,S,x,P){var L,j,W;if(c(x),j=N._events,j===void 0?(j=N._events=Object.create(null),N._eventsCount=0):(j.newListener!==void 0&&(N.emit("newListener",S,x.listener?x.listener:x),j=N._events),W=j[S]),W===void 0)W=j[S]=x,++N._eventsCount;else if(typeof W=="function"?W=j[S]=P?[x,W]:[W,x]:P?W.unshift(x):W.push(x),L=u(N),L>0&&W.length>L&&!W.warned){W.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=N,Y.type=S,Y.count=W.length,r(Y)}return N}i.prototype.addListener=function(S,x){return d(this,S,x,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(S,x){return d(this,S,x,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(N,S,x){var P={fired:!1,wrapFn:void 0,target:N,type:S,listener:x},L=h.bind(P);return L.listener=x,P.wrapFn=L,L}i.prototype.once=function(S,x){return c(x),this.on(S,m(this,S,x)),this},i.prototype.prependOnceListener=function(S,x){return c(x),this.prependListener(S,m(this,S,x)),this},i.prototype.removeListener=function(S,x){var P,L,j,W,Y;if(c(x),L=this._events,L===void 0)return this;if(P=L[S],P===void 0)return this;if(P===x||P.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete L[S],L.removeListener&&this.emit("removeListener",S,P.listener||x));else if(typeof P!="function"){for(j=-1,W=P.length-1;W>=0;W--)if(P[W]===x||P[W].listener===x){Y=P[W].listener,j=W;break}if(j<0)return this;j===0?P.shift():E(P,j),P.length===1&&(L[S]=P[0]),L.removeListener!==void 0&&this.emit("removeListener",S,Y||x)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(S){var x,P,L;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[S]),this;if(arguments.length===0){var j=Object.keys(P),W;for(L=0;L<j.length;++L)W=j[L],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=P[S],typeof x=="function")this.removeListener(S,x);else if(x!==void 0)for(L=x.length-1;L>=0;L--)this.removeListener(S,x[L]);return this};function g(N,S,x){var P=N._events;if(P===void 0)return[];var L=P[S];return L===void 0?[]:typeof L=="function"?x?[L.listener||L]:[L]:x?A(L):v(L,L.length)}i.prototype.listeners=function(S){return g(this,S,!0)},i.prototype.rawListeners=function(S){return g(this,S,!1)},i.listenerCount=function(N,S){return typeof N.listenerCount=="function"?N.listenerCount(S):w.call(N,S)},i.prototype.listenerCount=w;function w(N){var S=this._events;if(S!==void 0){var x=S[N];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(N,S){for(var x=new Array(S),P=0;P<S;++P)x[P]=N[P];return x}function E(N,S){for(;S+1<N.length;S++)N[S]=N[S+1];N.pop()}function A(N){for(var S=new Array(N.length),x=0;x<S.length;++x)S[x]=N[x].listener||N[x];return S}function R(N,S){return new Promise(function(x,P){function L(W){N.removeListener(S,j),P(W)}function j(){typeof N.removeListener=="function"&&N.removeListener("error",L),x([].slice.call(arguments))}I(N,S,j,{once:!0}),S!=="error"&&k(N,L,{once:!0})})}function k(N,S,x){typeof N.on=="function"&&I(N,"error",S,x)}function I(N,S,x,P){if(typeof N.on=="function")P.once?N.once(S,x):N.on(S,x);else if(typeof N.addEventListener=="function")N.addEventListener(S,function L(j){P.once&&N.removeEventListener(S,L),x(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return I1.exports}sNe();var ZN=function(e,t){return ZN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},ZN(e,t)};function iNe(e,t){ZN(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var XN=function(){return XN=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},XN.apply(this,arguments)};function aNe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function oNe(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(s<3?a(i):s>3?a(t,n,i):a(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function cNe(e,t){return function(n,r){t(n,r,e)}}function lNe(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function uNe(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(h){try{d(r.next(h))}catch(m){a(m)}}function u(h){try{d(r.throw(h))}catch(m){a(m)}}function d(h){h.done?i(h.value):s(h.value).then(c,u)}d((r=r.apply(e,t||[])).next())})}function dNe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],s=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function fNe(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function hNe(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function JN(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bj(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function pNe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bj(arguments[t]));return e}function mNe(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,s++)r[s]=i[a];return r}function xg(e){return this instanceof xg?(this.v=e,this):new xg(e)}function gNe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(g){r[g]&&(s[g]=function(w){return new Promise(function(v,E){i.push([g,w,v,E])>1||c(g,w)})})}function c(g,w){try{u(r[g](w))}catch(v){m(i[0][3],v)}}function u(g){g.value instanceof xg?Promise.resolve(g.value.v).then(d,h):m(i[0][2],g)}function d(g){c("next",g)}function h(g){c("throw",g)}function m(g,w){g(w),i.shift(),i.length&&c(i[0][0],i[0][1])}}function yNe(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(a){return(n=!n)?{value:xg(e[s](a)),done:s==="return"}:i?i(a):a}:i}}function bNe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof JN=="function"?JN(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(c,u){a=e[i](a),s(c,u,a.done,a.value)})}}function s(i,a,c,u){Promise.resolve(u).then(function(d){i({value:d,done:c})},a)}}function wNe(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ENe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function vNe(e){return e&&e.__esModule?e:{default:e}}function CNe(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _Ne(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const ANe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return XN},__asyncDelegator:yNe,__asyncGenerator:gNe,__asyncValues:bNe,__await:xg,__awaiter:uNe,__classPrivateFieldGet:CNe,__classPrivateFieldSet:_Ne,__createBinding:fNe,__decorate:oNe,__exportStar:hNe,__extends:iNe,__generator:dNe,__importDefault:vNe,__importStar:ENe,__makeTemplateObject:wNe,__metadata:lNe,__param:cNe,__read:bj,__rest:aNe,__spread:pNe,__spreadArrays:mNe,__values:JN},Symbol.toStringTag,{value:"Module"})),SNe=d$(ANe);var r5={},mc={},XU;function NNe(){if(XU)return mc;XU=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.isBrowserCryptoAvailable=mc.getSubtleCrypto=mc.getBrowerCrypto=void 0;function e(){return xr?.crypto||xr?.msCrypto||{}}mc.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}mc.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return mc.isBrowserCryptoAvailable=n,mc}var gc={},JU;function TNe(){if(JU)return gc;JU=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.isBrowser=gc.isNode=gc.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}gc.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}gc.isNode=t;function n(){return!e()&&!t()}return gc.isBrowser=n,gc}var QU;function INe(){return QU||(QU=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=SNe;t.__exportStar(NNe(),e),t.__exportStar(TNe(),e)})(r5)),r5}INe();var O1={exports:{}},e$;function ONe(){return e$||(e$=1,(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof xr<"u"&&xr,r=(function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i})();(function(i){(function(a){var c=typeof i<"u"&&i||typeof self<"u"&&self||typeof xr<"u"&&xr||{},u={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function d(y){return y&&DataView.prototype.isPrototypeOf(y)}if(u.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(y){return y&&h.indexOf(Object.prototype.toString.call(y))>-1};function g(y){if(typeof y!="string"&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(y)||y==="")throw new TypeError('Invalid character in header field name: "'+y+'"');return y.toLowerCase()}function w(y){return typeof y!="string"&&(y=String(y)),y}function v(y){var _={next:function(){var T=y.shift();return{done:T===void 0,value:T}}};return u.iterable&&(_[Symbol.iterator]=function(){return _}),_}function E(y){this.map={},y instanceof E?y.forEach(function(_,T){this.append(T,_)},this):Array.isArray(y)?y.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(_){this.append(_,y[_])},this)}E.prototype.append=function(y,_){y=g(y),_=w(_);var T=this.map[y];this.map[y]=T?T+", "+_:_},E.prototype.delete=function(y){delete this.map[g(y)]},E.prototype.get=function(y){return y=g(y),this.has(y)?this.map[y]:null},E.prototype.has=function(y){return this.map.hasOwnProperty(g(y))},E.prototype.set=function(y,_){this.map[g(y)]=w(_)},E.prototype.forEach=function(y,_){for(var T in this.map)this.map.hasOwnProperty(T)&&y.call(_,this.map[T],T,this)},E.prototype.keys=function(){var y=[];return this.forEach(function(_,T){y.push(T)}),v(y)},E.prototype.values=function(){var y=[];return this.forEach(function(_){y.push(_)}),v(y)},E.prototype.entries=function(){var y=[];return this.forEach(function(_,T){y.push([T,_])}),v(y)},u.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function A(y){if(!y._noBody){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}}function R(y){return new Promise(function(_,T){y.onload=function(){_(y.result)},y.onerror=function(){T(y.error)}})}function k(y){var _=new FileReader,T=R(_);return _.readAsArrayBuffer(y),T}function I(y){var _=new FileReader,T=R(_),$=/charset=([A-Za-z0-9_-]+)/.exec(y.type),U=$?$[1]:"utf-8";return _.readAsText(y,U),T}function N(y){for(var _=new Uint8Array(y),T=new Array(_.length),$=0;$<_.length;$++)T[$]=String.fromCharCode(_[$]);return T.join("")}function S(y){if(y.slice)return y.slice(0);var _=new Uint8Array(y.byteLength);return _.set(new Uint8Array(y)),_.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(y){this.bodyUsed=this.bodyUsed,this._bodyInit=y,y?typeof y=="string"?this._bodyText=y:u.blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:u.formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():u.arrayBuffer&&u.blob&&d(y)?(this._bodyArrayBuffer=S(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||m(y))?this._bodyArrayBuffer=S(y):this._bodyText=y=Object.prototype.toString.call(y):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var y=A(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var y=A(this);return y||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(k);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var y=A(this);if(y)return y;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function L(y){var _=y.toUpperCase();return P.indexOf(_)>-1?_:y}function j(y,_){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var T=_.body;if(y instanceof j){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,_.headers||(this.headers=new E(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,!T&&y._bodyInit!=null&&(T=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new E(_.headers)),this.method=L(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||(function(){if("AbortController"in c){var q=new AbortController;return q.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var $=/([?&])_=[^&]*/;if($.test(this.url))this.url=this.url.replace($,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function W(y){var _=new FormData;return y.trim().split("&").forEach(function(T){if(T){var $=T.split("="),U=$.shift().replace(/\+/g," "),q=$.join("=").replace(/\+/g," ");_.append(decodeURIComponent(U),decodeURIComponent(q))}}),_}function Y(y){var _=new E,T=y.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function($){return $.indexOf(`
`)===0?$.substr(1,$.length):$}).forEach(function($){var U=$.split(":"),q=U.shift().trim();if(q){var M=U.join(":").trim();try{_.append(q,M)}catch(z){console.warn("Response "+z.message)}}}),_}x.call(j.prototype);function G(y,_){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new E(_.headers),this.url=_.url||"",this._initBody(y)}x.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},G.error=function(){var y=new G(null,{status:200,statusText:""});return y.ok=!1,y.status=0,y.type="error",y};var K=[301,302,303,307,308];G.redirect=function(y,_){if(K.indexOf(_)===-1)throw new RangeError("Invalid status code");return new G(null,{status:_,headers:{location:y}})},a.DOMException=c.DOMException;try{new a.DOMException}catch{a.DOMException=function(_,T){this.message=_,this.name=T;var $=Error(_);this.stack=$.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function Z(y,_){return new Promise(function(T,$){var U=new j(y,_);if(U.signal&&U.signal.aborted)return $(new a.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function M(){q.abort()}q.onload=function(){var D={statusText:q.statusText,headers:Y(q.getAllResponseHeaders()||"")};U.url.indexOf("file://")===0&&(q.status<200||q.status>599)?D.status=200:D.status=q.status,D.url="responseURL"in q?q.responseURL:D.headers.get("X-Request-URL");var Q="response"in q?q.response:q.responseText;setTimeout(function(){T(new G(Q,D))},0)},q.onerror=function(){setTimeout(function(){$(new TypeError("Network request failed"))},0)},q.ontimeout=function(){setTimeout(function(){$(new TypeError("Network request timed out"))},0)},q.onabort=function(){setTimeout(function(){$(new a.DOMException("Aborted","AbortError"))},0)};function z(D){try{return D===""&&c.location.href?c.location.href:D}catch{return D}}if(q.open(U.method,z(U.url),!0),U.credentials==="include"?q.withCredentials=!0:U.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&(u.blob?q.responseType="blob":u.arrayBuffer&&(q.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof E||c.Headers&&_.headers instanceof c.Headers)){var J=[];Object.getOwnPropertyNames(_.headers).forEach(function(D){J.push(g(D)),q.setRequestHeader(D,w(_.headers[D]))}),U.headers.forEach(function(D,Q){J.indexOf(Q)===-1&&q.setRequestHeader(Q,D)})}else U.headers.forEach(function(D,Q){q.setRequestHeader(Q,D)});U.signal&&(U.signal.addEventListener("abort",M),q.onreadystatechange=function(){q.readyState===4&&U.signal.removeEventListener("abort",M)}),q.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return Z.polyfill=!0,c.fetch||(c.fetch=Z,c.Headers=E,c.Request=j,c.Response=G),a.Headers=E,a.Request=j,a.Response=G,a.fetch=Z,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t})(O1,O1.exports)),O1.exports}ONe();const t$=2147483648,RNe={convertEVMChainIdToCoinType(e){if(e>=t$)throw new Error("Invalid chainId");return(t$|e)>>>0}},oa=Tt({suggestions:[],loading:!1}),xNe={state:oa,subscribe(e){return On(oa,()=>e(oa))},subscribeKey(e,t){return Sn(oa,e,t)},async resolveName(e){try{return await vt.lookupEnsName(e)}catch(t){const n=t;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await vt.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{oa.loading=!0,oa.suggestions=[];const t=await vt.getEnsNameSuggestions(e);return oa.suggestions=t.suggestions||[],oa.suggestions}catch(t){const n=ew.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(n)}finally{oa.loading=!1}},async getNamesForAddress(e){try{if(!te.state.activeCaipNetwork)return[];const n=Ue.getEnsFromCacheForAddress(e);if(n)return n;const r=await vt.reverseLookupEnsName({address:e});return Ue.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(t){const n=ew.parseEnsApiError(t,"Error fetching names for address");throw new Error(n)}},async registerName(e){const t=te.state.activeCaipNetwork,n=te.getAccountData(t?.chainNamespace)?.address,r=st.getAuthConnector();if(!t)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");oa.loading=!0;try{const s=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});wt.pushTransactionStack({onCancel(){wt.replace("RegisterAccountName")}});const i=await et.signMessage(s);oa.loading=!1;const a=t.id;if(!a)throw new Error("Network not found");const c=RNe.convertEVMChainIdToCoinType(Number(a));await vt.registerEnsName({coinType:c,address:n,signature:i,message:s}),te.setAccountProp("profileName",e,t.chainNamespace),Ue.updateEnsCache({address:n,ens:[{name:e,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),wt.replace("RegisterAccountNameSuccess")}catch(s){const i=ew.parseEnsApiError(s,`Error registering name ${e}`);throw wt.replace("RegisterAccountName"),new Error(i)}finally{oa.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){return e?.reasons?.[0]?.description||t}},ew=so(xNe);function QN(e){try{return new URL(e)}catch{return null}}function kNe(e){const t=e.split("/"),n=t.length>0&&t[0]!==void 0?t[0]:"",r=n.lastIndexOf(":");return r===-1?{host:n}:{host:n.slice(0,r),port:n.slice(r+1)}}function PNe(e){const t=e.indexOf("://");if(t===-1)return null;const n=e.slice(0,t),r=t+3;let s=e.indexOf("/",r);s===-1&&(s=e.length);const i=e.slice(r,s),a=i.lastIndexOf(":");return a===-1?{scheme:n,host:i}:{scheme:n,host:i.slice(0,a),port:i.slice(a+1)}}function UNe(e,t){if(t.includes("://")){const a=QN(t);return a?a.origin===e:!1}const{host:n,port:r}=kNe(t),s=e.indexOf("://");if(s!==-1){const a=s+3;let c=e.indexOf("/",a);c===-1&&(c=e.length);const u=e.slice(a,c);if(r!==void 0)return`${n}:${r}`===u;const d=u.split(":")[0];return n===d}const i=QN(e);return i?r!==void 0?n===i.hostname&&r===(i.port||void 0):n===i.hostname:!1}function $Ne(e,t,n){let r=n,s;const i=r.indexOf("://");i!==-1&&(s=r.slice(0,i),r=r.slice(i+3));const a=r.indexOf("/");a!==-1&&(r=r.slice(0,a));let c=r,u;const d=c.lastIndexOf(":");d!==-1&&(u=c.slice(d+1),c=c.slice(0,d));const h=c.split(".");for(const E of h)if(E.includes("*")&&E!=="*")return!1;const m=e.protocol.replace(/:$/u,"");if(s&&s!==m||u!==void 0&&u!=="*"&&u!==e.port)return!1;const g=PNe(t),v=(g?g.host:e.hostname).split(".");if(h.length!==v.length)return!1;for(let E=h.length-1;E>=0;E-=1){const A=h[E],R=v[E];if(A!=="*"&&A!==R)return!1}return!0}const DNe={ton:["ton_sendMessage","ton_signData"],solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Mh={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(e){return DNe[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},r=new Set;if(t.methods&&Object.keys(t.methods).forEach(s=>r.add(s)),t.chains&&Object.keys(t.chains).forEach(s=>r.add(s)),t.events&&Object.keys(t.events).forEach(s=>r.add(s)),t.rpcMap&&Object.keys(t.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),t.methods&&Object.entries(t.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),t.chains&&Object.entries(t.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),t.events&&Object.entries(t.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),t.rpcMap){const s=new Set;Object.entries(t.rpcMap).forEach(([i,a])=>{const[c,u]=i.split(":");!c||!u||!n[c]||(n[c].rpcMap||(n[c].rpcMap={}),s.has(c)||(n[c].rpcMap={},s.add(c)),n[c].rpcMap[u]=a)})}return n},createNamespaces(e,t){const n=e.reduce((r,s)=>{const{id:i,chainNamespace:a,rpcUrls:c}=s,u=c.default.http[0];r[a]||(r[a]=this.createDefaultNamespace(a));const d=`${a}:${i}`,h=r[a];switch(h.chains.push(d),d){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":h.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":h.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K");break}return h?.rpcMap&&u&&(h.rpcMap[i]=u),r},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{const t=await ew.resolveName(e);return(t?.addresses?Object.values(t.addresses):[])[0]?.address||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const n=t.chains||[],r=t.accounts.map(s=>{const[i,a]=s.split(":");return`${i}:${a}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isUserRejectedRequestError(e){try{if(typeof e=="object"&&e!==null){const t=e,n=typeof t.code=="number",r=n&&t.code===Mh.RPC_ERROR_CODE.USER_REJECTED_METHODS,s=n&&t.code===Mh.RPC_ERROR_CODE.USER_REJECTED;return r||s}return!1}catch{return!1}},isOriginAllowed(e,t,n){const r=[...t,...n];if(t.length===0)return!0;const s=QN(e);if(!s)return r.some(i=>!i.includes("*")&&i===e);if(s.hostname==="localhost"||s.hostname==="127.0.0.1")return!0;for(const i of r)if(i.includes("*")){if($Ne(s,e,i))return!0}else if(UNe(e,i))return!0;return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:i,onDisplayUri:a}){n&&e.on("connect",()=>{const c=Mh.getWalletConnectAccounts(e,t);n(c)}),r&&e.on("disconnect",()=>{r()}),s&&e.on("accountsChanged",c=>{try{const u=e.session?.namespaces?.[t]?.accounts||[],d=e.rpcProviders?.[t]?.getDefaultChain(),h=c.map(m=>{const g=u.find(E=>E.includes(`${t}:${d}:${m}`));if(!g)return;const{chainId:w,chainNamespace:v}=kr.parseCaipAddress(g);return{address:m,chainId:w,chainNamespace:v}}).filter(m=>m!==void 0);h.length>0&&s(h)}catch(u){console.warn("Failed to parse accounts for namespace on accountsChanged event",t,c,u)}}),i&&e.on("chainChanged",c=>{i(c)}),a&&e.on("display_uri",c=>{a(c)})},getWalletConnectAccounts(e,t){const n=new Set,r=e?.session?.namespaces?.[t]?.accounts?.map(s=>kr.parseCaipAddress(s)).filter(({address:s})=>n.has(s.toLowerCase())?!1:(n.add(s.toLowerCase()),!0));return r&&r.length>0?r:[]}},MNe=[ie.CONNECTOR_ID.AUTH,ie.CONNECTOR_ID.WALLET_CONNECT];class LNe{constructor(t){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>te.getCaipNetworks(n),this.getConnectorId=n=>st.getConnectorId(n),t&&this.construct(t)}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:t,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===n?.toString());t&&r&&this.addConnection({connectorId:ie.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:r})}setAuthProvider(t){t.onConnect(this.onAuthConnected.bind(this)),t.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:ie.CONNECTOR_ID.AUTH,type:"AUTH",name:ie.CONNECTOR_NAMES.AUTH,provider:t,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...t){const n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...t){const n=new Set;this.availableConnections=[...t,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(t){this.availableConnections=this.availableConnections.filter(n=>n.connectorId.toLowerCase()!==t.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(t=!1){this.availableConnections=[],t&&this.emit("connections",this.availableConnections)}setStatus(t,n){te.setAccountProp("status",t,n)}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t)?.add(n)}off(t,n){const r=this.eventListeners.get(t);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(s=>s(n))}async connectWalletConnect(t){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(n){throw Mh.isUserRejectedRequestError(n)?new Ad(n):n}}async switchNetwork(t){const{caipNetwork:n}=t,r=YN.getProviderId(n.chainNamespace),s=YN.getProvider(n.chainNamespace);if(!s)throw new Error("Provider not found");if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(r==="AUTH"){const i=st.getAuthConnector()?.provider;if(!i)throw new Error("Auth provider not found");const a=va(n.chainNamespace);await i.switchNetwork({chainId:n.caipNetworkId});const c=await i.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const t=this.connectors.find(n=>n.id==="walletConnect");if(!t)throw new Error("WalletConnectConnector not found");return t}onConnect(t,n){if(t.length>0){const{address:r,chainId:s}=at.getAccount(t[0]),i=this.getCaipNetworks().filter(c=>c.chainNamespace===this.namespace).find(c=>c.id.toString()===s?.toString()),a=this.connectors.find(c=>c.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:a}),this.addConnection({connectorId:n,accounts:t.map(c=>{const{address:u}=at.getAccount(c);return{address:u}}),caipNetwork:i}))}}onAccountsChanged(t,n,r=!0){if(t.length>0){const{address:s}=at.getAccount(t[0]),i=this.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});s&&this.getConnectorId(ie.CHAIN.EVM)?.toLowerCase()===n.toLowerCase()&&this.emit("accountChanged",{address:s,chainId:i?.caipNetwork?.id,connector:i?.connector}),this.addConnection({connectorId:n,accounts:t.map(a=>{const{address:c}=at.getAccount(a);return{address:c}}),caipNetwork:i?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(t){this.removeProviderListeners(t),this.deleteConnection(t),this.getConnectorId(ie.CHAIN.EVM)?.toLowerCase()===t.toLowerCase()&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(t,n){const r=typeof t=="string"&&t.startsWith("0x")?parseInt(t,16).toString():t.toString(),s=this.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:i}),this.getConnectorId(ie.CHAIN.EVM)?.toLowerCase()===n.toLowerCase()&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(t,n){if(MNe.includes(t))return;const r=a=>this.onAccountsChanged(a,t),s=a=>this.onChainChanged(a,t),i=()=>this.onDisconnect(t);this.providerHandlers[t]||(n.on("disconnect",i),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[t]={provider:n,disconnect:i,accountsChanged:r,chainChanged:s})}removeProviderListeners(t){if(this.providerHandlers[t]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:i}=this.providerHandlers[t];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",i),this.providerHandlers[t]=null}}emitFirstAvailableConnection(){const t=this.getConnection({connections:this.connections,connectors:this.connectors});if(t){const[n]=t.accounts;this.emit("accountChanged",{address:n?.address,chainId:t.caipNetwork?.id,connector:t.connector})}}getConnection({address:t,connectorId:n,connections:r,connectors:s}){if(n){const a=r.find(d=>d.connectorId.toLowerCase()===n.toLowerCase());if(!a)return null;const c=s.find(d=>d.id.toLowerCase()===a.connectorId.toLowerCase()),u=t?a.accounts.find(d=>d.address.toLowerCase()===t.toLowerCase()):a.accounts[0];return{...a,account:u,connector:c}}const i=r.find(a=>a.accounts.length>0&&s.some(c=>c.id.toLowerCase()===a.connectorId.toLowerCase()));if(i){const[a]=i.accounts,c=s.find(u=>u.id.toLowerCase()===i.connectorId.toLowerCase());return{...i,account:a,connector:c}}return null}}let nd=null;const Ac={getSIWX(){return it.state.siwx},async initializeIfEnabled(e=te.getActiveCaipAddress()){const t=it.state.siwx;if(!(t&&e))return;const[n,r,s]=e.split(":");if(te.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(it.state.remoteFeatures?.emailCapture){const a=te.getAccountData(n)?.user;await Ln.open({view:"DataCapture",data:{email:a?.email??void 0}});return}if(nd&&await nd,(await t.getSessions(`${n}:${r}`,s)).length)return;await Ln.open({view:"SIWXSignMessage"})}catch(i){console.error("SIWXUtil:initializeIfEnabled",i),pn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(i)}),await et._getClient()?.disconnect().catch(console.error),wt.reset("Connect"),tu.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(e=te.getActiveCaipAddress()){if(!it.state.siwx||!e)return!0;const{chainNamespace:n,chainId:r,address:s}=kr.parseCaipAddress(e),i=`${n}:${r}`;return(await Ac.getSessions({address:s,caipNetworkId:i})).length>0},async requestSignMessage(){const e=it.state.siwx,t=at.getPlainAddress(te.getActiveCaipAddress()),n=nu();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");try{const r=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),s=r.toString();let i="";e.signMessage?i=await e.signMessage({message:s,chainId:n.caipNetworkId,accountAddress:t}):(st.getConnectorId(n.chainNamespace)===ie.CONNECTOR_ID.AUTH&&wt.pushTransactionStack({}),i=await et.signMessage(s)||""),await e.addSession({data:r,message:s,signature:i}),te.setLastConnectedSIWECaipNetwork(n),Ln.close(),pn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(r){(!Ln.state.open||wt.state.view==="ApproveTransaction")&&await Ln.open({view:"SIWXSignMessage"}),tu.showError("Error signing message"),pn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(r)}),console.error("SWIXUtil:requestSignMessage",r)}},async cancelSignMessage(){try{const e=this.getSIWX();if(e?.getRequired?.()){const n=te.getLastConnectedSIWECaipNetwork();if(n){const r=await e?.getSessions(n?.caipNetworkId,at.getPlainAddress(te.getActiveCaipAddress())||"");r&&r.length>0?await te.switchActiveNetwork(n):await et.disconnect()}else await et.disconnect()}else Ln.close();Ln.close(),pn.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const e=this.getSIWX(),t=te.getAllRequestedCaipNetworks(),n=[];return await Promise.all(t.map(async r=>{const s=await e?.getSessions(r.caipNetworkId,at.getPlainAddress(te.getActiveCaipAddress())||"");s&&n.push(...s)})),n},async getSessions(e){const t=it.state.siwx;let n=e?.address;if(!n){const s=te.getActiveCaipAddress();n=at.getPlainAddress(s)}let r=e?.caipNetworkId;return r||(r=te.getActiveCaipNetwork()?.caipNetworkId),t&&n&&r?t.getSessions(r,n):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const t=wt.state.view==="ApproveTransaction",n=wt.state.view==="SIWXSignMessage";if(t||n)return e.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:n,preferredAccountType:r,chainNamespace:s}){const i=Ac.getSIWX(),a=nu();if(!i||!s.includes(ie.CHAIN.EVM)||it.state.remoteFeatures?.emailCapture){const m=await e.connect({chainId:t,socialUri:n,preferredAccountType:r});return{address:m.address,chainId:m.chainId,accounts:m.accounts}}const c=`${s}:${t}`,u=await i.createMessage({chainId:c,accountAddress:"<<AccountAddress>>"}),d={accountAddress:u.accountAddress,chainId:u.chainId,domain:u.domain,uri:u.uri,version:u.version,nonce:u.nonce,notBefore:u.notBefore,statement:u.statement,resources:u.resources,requestId:u.requestId,issuedAt:u.issuedAt,expirationTime:u.expirationTime,serializedMessage:u.toString()},h=await e.connect({chainId:t,socialUri:n,siwxMessage:d,preferredAccountType:r});return d.accountAddress=h.address,d.serializedMessage=h.message||"",h.signature&&h.message&&await Ac.addEmbeddedWalletSession(d,h.message,h.signature),te.setLastConnectedSIWECaipNetwork(a),{address:h.address,chainId:h.chainId,accounts:h.accounts}},async addEmbeddedWalletSession(e,t,n){if(nd)return nd;const r=Ac.getSIWX();return r?(nd=r.addSession({data:e,message:t,signature:n}).finally(()=>{nd=null}),nd):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){const r=Ac.getSIWX(),s=nu(),i=new Set(t.map(d=>d.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const a=await r.createMessage({chainId:nu()?.caipNetworkId||"",accountAddress:""}),c=await e.authenticate({nonce:a.nonce,domain:a.domain,uri:a.uri,exp:a.expirationTime,iat:a.issuedAt,nbf:a.notBefore,requestId:a.requestId,version:a.version,resources:a.resources,statement:a.statement,chainId:a.chainId,methods:n,chains:[a.chainId,...t.filter(d=>d!==a.chainId)]});tu.showLoading("Authenticating...",{autoClose:!1});const u={...c.session.peer.metadata,name:c.session.peer.metadata.name,icon:c.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(te.setAccountProp("connectedWalletInfo",u,Array.from(i)[0]),c?.auths?.length){const d=c.auths.map(h=>{const m=e.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(":").slice(-1).join(""),chainId:h.p.iss.split(":").slice(2,4).join(":"),uri:h.p.aud??"",version:h.p.version||a.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:m,signature:h.s.s,cacao:h}});try{await r.setSessions(d),s&&te.setLastConnectedSIWECaipNetwork(s),pn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Ac.getSIWXEventProperties()})}catch(h){throw console.error("SIWX:universalProviderAuth - failed to set sessions",h),pn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Ac.getSIWXEventProperties(h)}),await e.disconnect().catch(console.error),h}finally{tu.hide()}}return!0},getSIWXEventProperties(e){const t=te.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:te.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:va(t)===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,message:e?at.parseError(e):void 0}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}};class BNe{constructor({provider:t,namespace:n}){this.id=ie.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=te.getCaipNetworks.bind(te),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=it.state.universalProviderConfigOverride,s=Mh.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(n=>n.caipNetworkId);return Ac.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:FNe})}}const FNe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Ma=Tt({message:"",variant:"info",open:!1}),jNe={state:Ma,subscribeKey(e,t){return Sn(Ma,e,t)},open(e,t){const{debug:n}=it.state,{code:r,displayMessage:s,debugMessage:i}=e;s&&n&&(Ma.message=s,Ma.variant=t,Ma.open=!0),i&&console.error(typeof i=="function"?i():i,r?{code:r}:void 0)},warn(e,t,n){Ma.open=!0,Ma.message=e,Ma.variant="warning",t&&console.warn(t,n)},close(){Ma.open=!1,Ma.message="",Ma.variant="info"}},fh=so(jNe),zNe={EIP155:ie.CHAIN.EVM},HNe={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"}},As={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",NAMES_SUPPORTED_CHAIN_NAMESPACES:[ie.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,DEFAULT_REMOTE_FEATURES:{socials:["google","x","discord","farcaster","github","apple","facebook"]},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1,headless:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},Me={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=Me.getActiveNamespace(),t=Me.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{fe.setItem(pe.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=fe.getItem(pe.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{fe.removeItem(pe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{fe.setItem(pe.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{fe.setItem(pe.ACTIVE_CAIP_NETWORK_ID,e),Me.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return fe.getItem(pe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{fe.removeItem(pe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=$h(e);fe.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=Me.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),fe.setItem(pe.RECENT_WALLETS,JSON.stringify(t)),fe.setItem(pe.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=fe.getItem(pe.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const e=fe.getItem(pe.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{fe.removeItem(pe.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{const n=$h(e);fe.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return fe.getItem(pe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=$h(e);return fe.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{fe.setItem(pe.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return fe.getItem(pe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{fe.removeItem(pe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return fe.getItem(pe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return fe.getItem(pe.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{fe.setItem(pe.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return fe.getItem(pe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=fe.getItem(pe.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));fe.setItem(pe.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=Me.getConnectedNamespaces();t.includes(e)||(t.push(e),Me.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=Me.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),Me.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return fe.getItem(pe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{fe.setItem(pe.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{fe.removeItem(pe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=fe.getItem(pe.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=Me.getBalanceCache();fe.setItem(pe.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const n=Me.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Me.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=Me.getBalanceCache();t[e.caipAddress]=e,fe.setItem(pe.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=fe.getItem(pe.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=Me.getBalanceCache();fe.setItem(pe.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const n=Me.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),Me.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=Me.getNativeBalanceCache();t[e.caipAddress]=e,fe.setItem(pe.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=fe.getItem(pe.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const n=Me.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Me.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=Me.getEnsCache();t[e.address]=e,fe.setItem(pe.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=Me.getEnsCache();fe.setItem(pe.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=fe.getItem(pe.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const n=Me.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Me.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=Me.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},fe.setItem(pe.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=Me.getIdentityCache();fe.setItem(pe.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},getTonWalletsCache(){try{const e=fe.getItem(pe.TON_WALLETS_CACHE),t=e?JSON.parse(e):void 0;if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tonWallets))return t;Me.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(e){try{const t=Me.getTonWalletsCache()||{timestamp:0,wallets:[]};t.timestamp=new Date().getTime(),t.wallets=e,fe.setItem(pe.TON_WALLETS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ton wallets cache",e)}},removeTonWalletsCache(){try{fe.removeItem(pe.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{fe.removeItem(pe.PORTFOLIO_CACHE),fe.removeItem(pe.NATIVE_BALANCE_CACHE),fe.removeItem(pe.ENS_CACHE),fe.removeItem(pe.IDENTITY_CACHE),fe.removeItem(pe.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{fe.setItem(pe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=fe.getItem(pe.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=Me.getConnections(),r=n[t]??[],s=new Map;for(const a of r)s.set(a.connectorId,{...a});for(const a of e){const c=s.get(a.connectorId),u=a.connectorId===ie.CONNECTOR_ID.AUTH;if(c&&!u){const d=new Set(c.accounts.map(m=>m.address.toLowerCase())),h=a.accounts.filter(m=>!d.has(m.address.toLowerCase()));c.accounts.push(...h)}else s.set(a.connectorId,{...a})}const i={...n,[t]:Array.from(s.values())};fe.setItem(pe.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=fe.getItem(pe.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const r=Me.getConnections(),s=r[n]??[],i=new Map(s.map(c=>[c.connectorId,c])),a=i.get(e);a&&(a.accounts.filter(u=>u.address.toLowerCase()!==t.toLowerCase()).length===0?i.delete(e):i.set(e,{...a,accounts:a.accounts.filter(u=>u.address.toLowerCase()!==t.toLowerCase())})),fe.setItem(pe.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=fe.getItem(pe.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=Me.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),fe.setItem(pe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=Me.getDisconnectedConnectorIds();let r=n[t]??[];r=r.filter(s=>s.toLowerCase()!==e.toLowerCase()),fe.setItem(pe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(Me.getDisconnectedConnectorIds()[t]??[]).some(s=>s.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=fe.getItem(pe.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{const r=Me.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;Me.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{const s=Me.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:n,transactions:r}},fe.setItem(pe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{const n=Me.getTransactionsCache(),r=n?.[e]||{},{[t]:s,...i}=r;fe.setItem(pe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:i}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=fe.getItem(pe.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const n=Me.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;Me.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=Me.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},fe.setItem(pe.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=Me.getTokenPriceCache();fe.setItem(pe.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{const e=this.getLatestAppKitVersionCache(),t=e?.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const e=fe.getItem(pe.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{const t=Me.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,fe.setItem(pe.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}},Nt={getWindow(){if(!(typeof window>"u"))return window},isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return Nt.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=As.TEN_SEC_MS:!0},isAllowedRetry(e,t=As.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Nt.isClient()&&window.self!==window.top)try{const e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){const n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+As.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function s(){e(...r)}n&&clearTimeout(n),n=setTimeout(s,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(Nt.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,s=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!s?.endsWith("/")&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const i=encodeURIComponent(t);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(e,t){if(!Nt.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?Me.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=e});return Promise.race([t,Nt.wait(2e3)])},parseBalance(e,t){let n="0.000";if(typeof e=="string"){const u=Number(e);if(!isNaN(u)){const d=(Math.floor(u*1e3)/1e3).toFixed(3);d&&(n=d)}}const[r,s]=n.split("."),i=r||"0",a=s||"000";return{formattedText:`${i}.${a}${t?` ${t}`:""}`,value:i,decimals:a,symbol:t}},getApiUrl(){return ie.W3M_API_URL},getBlockchainApiUrl(){return ie.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ie.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,s)=>{n[r]=s}),t.sort((r,s)=>{const i=n[r.id],a=n[s.id];return i!==void 0&&a!==void 0?i-a:i!==void 0?-1:a!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const s=r[t];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(e,t,n){const s=e.length===0?As.ADAPTER_TYPES.UNIVERSAL:e.map(i=>i.adapterType).join(",");return`${t}-${s}-${n}`},createAccount(e,t,n,r,s){return{namespace:e,address:t,type:n,publicKey:r,path:s}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in ie.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const s="provider_authorization_url=",i=e.substring(e.indexOf(s)+s.length),a=this.injectIntoUrl(decodeURIComponent(i),n,t);return e.replace(i,encodeURIComponent(a))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const s=e.indexOf("&",r),i=t.length,a=s!==-1?s:e.length,c=e.substring(0,r+i),u=e.substring(r+i,a),d=e.substring(s),h=u+n;return c+h+d}};async function q0(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class cy{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await q0(i,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const s=this.createUrl(r);return(await q0(s,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await q0(i,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await q0(i,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await q0(i,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:t,...n}){const r=this.createUrl(n);return navigator.sendBeacon(r.toString(),t?JSON.stringify(t):void 0)}}const qNe={getFeatureValue(e,t){const n=t?.[e];return n===void 0?As.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return Nt.isTelegram()&&(Nt.isIos()&&(t=t.filter(n=>n!=="google")),Nt.isMac()&&(t=t.filter(n=>n!=="x")),Nt.isAndroid()&&(t=t.filter(n=>!["facebook","x"].includes(n)))),Nt.isMobile()&&(t=t.filter(n=>n!=="facebook")),t},isSocialsEnabled(){return Array.isArray($t.state.features?.socials)&&$t.state.features?.socials.length>0||Array.isArray($t.state.remoteFeatures?.socials)&&$t.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!($t.state.features?.email||$t.state.remoteFeatures?.email)}},rt=Tt({features:As.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:As.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),$t={state:rt,subscribeKey(e,t){return Sn(rt,e,t)},setOptions(e){Object.assign(rt,e)},setRemoteFeatures(e){if(!e)return;const t={...rt.remoteFeatures,...e};rt.remoteFeatures=t,rt.remoteFeatures?.socials&&(rt.remoteFeatures.socials=qNe.filterSocialsByPlatform(rt.remoteFeatures.socials)),rt.features?.pay&&(rt.remoteFeatures.email=!1,rt.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;rt.features||(rt.features=As.DEFAULT_FEATURES);const t={...rt.features,...e};rt.features=t,rt.features?.pay&&rt.remoteFeatures&&(rt.remoteFeatures.email=!1,rt.remoteFeatures.socials=!1)},setProjectId(e){rt.projectId=e},setCustomRpcUrls(e){rt.customRpcUrls=e},setAllWallets(e){rt.allWallets=e},setIncludeWalletIds(e){rt.includeWalletIds=e},setExcludeWalletIds(e){rt.excludeWalletIds=e},setFeaturedWalletIds(e){rt.featuredWalletIds=e},setTokens(e){rt.tokens=e},setTermsConditionsUrl(e){rt.termsConditionsUrl=e},setPrivacyPolicyUrl(e){rt.privacyPolicyUrl=e},setCustomWallets(e){rt.customWallets=e},setIsSiweEnabled(e){rt.isSiweEnabled=e},setIsUniversalProvider(e){rt.isUniversalProvider=e},setSdkVersion(e){rt.sdkVersion=e},setMetadata(e){rt.metadata=e},setDisableAppend(e){rt.disableAppend=e},setEIP6963Enabled(e){rt.enableEIP6963=e},setDebug(e){rt.debug=e},setEnableWalletGuide(e){rt.enableWalletGuide=e},setEnableAuthLogger(e){rt.enableAuthLogger=e},setEnableWallets(e){rt.enableWallets=e},setPreferUniversalLinks(e){rt.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(As.SIWX_DEFAULTS))e[t]??=n;rt.siwx=e},setConnectMethodsOrder(e){rt.features={...rt.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){rt.features={...rt.features,walletFeaturesOrder:e}},setSocialsOrder(e){rt.remoteFeatures={...rt.remoteFeatures,socials:e}},setCollapseWallets(e){rt.features={...rt.features,collapseWallets:e}},setEnableEmbedded(e){rt.enableEmbedded=e},setAllowUnsupportedChain(e){rt.allowUnsupportedChain=e},setManualWCControl(e){rt.manualWCControl=e},setEnableNetworkSwitch(e){rt.enableNetworkSwitch=e},setEnableMobileFullScreen(e){rt.enableMobileFullScreen=Nt.isMobile()&&e},setEnableReconnect(e){rt.enableReconnect=e},setCoinbasePreference(e){rt.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(rt.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){rt.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return rt.universalProviderConfigOverride},getSnapshot(){return $o(rt)}},od=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Mr=Tt({...od}),WNe={state:Mr,subscribeKey(e,t){return Sn(Mr,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=Nt.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){Mr.message=od.message,Mr.variant=od.variant,Mr.svg=od.svg,Mr.open=od.open,Mr.autoClose=od.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=od.autoClose}){Mr.open?(Mr.open=!1,setTimeout(()=>{Mr.message=e,Mr.variant=n,Mr.svg=t,Mr.open=!0,Mr.autoClose=r},150)):(Mr.message=e,Mr.variant=n,Mr.svg=t,Mr.open=!0,Mr.autoClose=r)}},Iv=WNe,VNe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},wj=Nt.getBlockchainApiUrl(),xs=Tt({clientId:null,api:new cy({baseUrl:wj,clientId:null}),supportedChains:{http:[],ws:[]}}),Ut={state:xs,async get(e){const{st:t,sv:n}=Ut.getSdkProperties(),r=$t.state.projectId,s={...e.params||{},st:t,sv:n,projectId:r};return xs.api.get({...e,params:s})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=$t.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{xs.supportedChains.http.length||await Ut.getSupportedNetworks()}catch{return!1}return xs.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await Ut.get({path:"v1/supported-chains"});return xs.supportedChains=e,e}catch{return xs.supportedChains}},async fetchIdentity({address:e}){const t=Me.getIdentityFromCacheForAddress(e);if(t)return t;const n=await Ut.get({path:`/v1/identity/${e}`,params:{sender:oe.state.activeCaipAddress?Nt.getPlainAddress(oe.state.activeCaipAddress):void 0}});return Me.updateIdentityCache({address:e,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:s}){if(!await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const a=Me.getTransactionsCacheForAddress({address:e,chainId:s});if(a)return a;const c=await Ut.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:s},signal:n,cache:r});return Me.updateTransactionsCache({address:e,chainId:s,timestamp:Date.now(),transactions:c}),c},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:s}){return await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId)?Ut.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId)?Ut.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async getAddressBalance({caipNetworkId:e,address:t}){return xs.api.post({path:`/v1?chainId=${e}&projectId=${$t.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:t}}}).then(n=>n.result)},async fetchTokenPrice({addresses:e}){if(!await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=Me.getTokenPriceCacheForAddresses(e);if(n)return n;const r=await xs.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:$t.state.projectId},headers:{"Content-Type":"application/json"}});return Me.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId)?Ut.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){const{st:t,sv:n}=Ut.getSdkProperties();if(!await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ut.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:s}){if(!await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return xs.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:As.CONVERT_SLIPPAGE_TOLERANCE},projectId:$t.state.projectId,from:t,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){const{st:r,sv:s}=Ut.getSdkProperties();if(!await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Ut.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:s}})},async getBalance(e,t,n){const{st:r,sv:s}=Ut.getSdkProperties();if(!await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId))return Iv.showError("Token Balance Unavailable"),{balances:[]};const a=`${t}:${e}`,c=Me.getBalanceCacheForCaipAddress(a);if(c)return c;const u=await Ut.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:s}});return Me.updateBalanceCache({caipAddress:a,balance:u,timestamp:Date.now()}),u},async lookupEnsName(e){return await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId)?Ut.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){if(!await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId))return[];const n=oe.getAccountData()?.address;return Ut.get({path:`/v1/profile/reverse/${e}`,params:{sender:n,apiVersion:"2"}})},async getEnsNameSuggestions(e){return await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId)?Ut.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId)?xs.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){return await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId)?(await xs.api.post({path:"/v1/generators/onrampurl",params:{projectId:$t.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){if(!await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ut.get({path:"/v1/onramp/options"})}catch{return VNe}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId)?await xs.api.post({path:"/v1/onramp/quote",params:{projectId:$t.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId)?Ut.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await Ut.isNetworkSupported(oe.state.activeCaipNetwork?.caipNetworkId)?xs.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:$t.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){xs.clientId=e,xs.api=new cy({baseUrl:wj,clientId:e})}},da={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},GNe={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,r=encodeURIComponent(n);if(e===da.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],a=encodeURIComponent(`${s}://${i}`);window.location.href=`${da.PHANTOM.url}/ul/browse/${r}?ref=${a}`}if(e===da.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${da.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===ie.CHAIN.SOLANA&&e===da.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${da.COINBASE.url}/dapp?cb_url=${r}`),t===ie.CHAIN.BITCOIN&&e===da.BINANCE.id&&!("binancew3w"in window)){const s=oe.state.activeCaipNetwork,i=window.btoa("/pages/browser/index"),a=window.btoa(`url=${r}&defaultChainId=${s?.id??1}`),c=new URL(da.BINANCE.deeplink);c.searchParams.set("appId",da.BINANCE.appId),c.searchParams.set("startPagePath",i),c.searchParams.set("startPageQuery",a);const u=new URL(da.BINANCE.url);u.searchParams.set("_dp",window.btoa(c.toString())),window.location.href=u.toString()}}},KNe=Object.freeze({enabled:!0,events:[]}),YNe=new cy({baseUrl:Nt.getAnalyticsUrl(),clientId:null}),ZNe=5,XNe=60*1e3,Dl=Tt({...KNe}),JNe={state:Dl,subscribeKey(e,t){return Sn(Dl,e,t)},async sendError(e,t){if(!Dl.enabled)return;const n=Date.now();if(Dl.events.filter(i=>{const a=new Date(i.properties.timestamp||"").getTime();return n-a<XNe}).length>=ZNe)return;const s={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};Dl.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:a,sdkVersion:c}=$t.state;await YNe.post({path:"/e",params:{projectId:i,st:a,sv:c||"html-wagmi-4.2.2"},body:{eventId:Nt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){Dl.enabled=!0},disable(){Dl.enabled=!1},clearEvents(){Dl.events=[]}};class Xd extends Error{constructor(t,n,r){super(t),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,Xd.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,a=i.indexOf(`
`);if(a>-1){const c=i.substring(a+1);this.stack=`${this.name}: ${this.message}
${c}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Xd):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function n$(e,t){let n="";try{e instanceof Error?n=e.message:typeof e=="string"?n=e:typeof e=="object"&&e!==null?Object.keys(e).length===0?n="Unknown error":n=e?.message||JSON.stringify(e):n=String(e)}catch(s){n="Unknown error",console.error("Error parsing error message",s)}const r=e instanceof Xd?e:new Xd(n,t,e);throw JNe.sendError(r,r.category),r}function Kc(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const s=e[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...a)=>{try{return await s(...a)}catch(c){return n$(c,t)}}:i=(...a)=>{try{return s(...a)}catch(c){return n$(c,t)}},n[r]=i}else n[r]=s}),n}const Ui=Tt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),QNe={state:Ui,subscribeNetworkImages(e){return On(Ui.networkImages,()=>e(Ui.networkImages))},subscribeKey(e,t){return Sn(Ui,e,t)},subscribe(e){return On(Ui,()=>e(Ui))},setWalletImage(e,t){Ui.walletImages[e]=t},setNetworkImage(e,t){Ui.networkImages[e]=t},setChainImage(e,t){Ui.chainImages[e]=t},setConnectorImage(e,t){Ui.connectorImages={...Ui.connectorImages,[e]:t}},setTokenImage(e,t){Ui.tokenImages[e]=t},setCurrencyImage(e,t){Ui.currencyImages[e]=t}},ba=Kc(QNe),r$={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},s5=Tt({networkImagePromises:{}}),e2e={async fetchWalletImage(e){if(e)return await gt._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(s5.networkImagePromises[e]||(s5.networkImagePromises[e]=gt._fetchNetworkImage(e)),await s5.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return ba.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return ba.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return ba.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return ba.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return ba.state.connectorImages[e.imageId]},getChainImage(e){return ba.state.networkImages[r$[e]]},getTokenImage(e){if(e)return ba.state.tokenImages[e]},getWalletImageUrl(e){if(!e)return"";const{projectId:t,sdkType:n,sdkVersion:r}=$t.state,s=new URL(`${ie.W3M_API_URL}/getWalletImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",n),s.searchParams.set("sv",r),s.toString()},getAssetImageUrl(e){if(!e)return"";const{projectId:t,sdkType:n,sdkVersion:r}=$t.state,s=new URL(`${ie.W3M_API_URL}/public/getAssetImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",n),s.searchParams.set("sv",r),s.toString()},getChainNamespaceImageUrl(e){return this.getAssetImageUrl(r$[e])}},t2e=Nt.getAnalyticsUrl(),n2e=new cy({baseUrl:t2e,clientId:null}),r2e=["MODAL_CREATED"],s2e=45,s$=1e3*10,pr=Tt({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),Bn={state:pr,subscribe(e){return On(pr,()=>e(pr))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=$t.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},shouldFlushEvents(){const e=JSON.stringify(pr.pendingEvents).length/1024>s2e,t=pr.lastFlush+s$<Date.now();return e||t},_setPendingEvent(e){try{let t=oe.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),r2e.includes(e.data.event)||typeof window>"u")return;const n=oe.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:Nt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:n}}}),pr.reportedErrors.FORBIDDEN=!1,Bn.shouldFlushEvents()&&Bn._submitPendingEvents()}catch(t){console.warn("_setPendingEvent",t)}},sendEvent(e){pr.timestamp=Date.now(),pr.data=e;const t=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];($t.state.features?.analytics||t.includes(e.event))&&Bn._setPendingEvent(pr),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){pr.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(t=>t.props.event!=="WALLET_IMPRESSION_V2")}catch{return e}},_submitPendingEvents(){if(pr.lastFlush=Date.now(),!(pr.pendingEvents.length===0&&pr.walletImpressions.length===0))try{const e=Bn._transformPendingEventsForBatch(pr.pendingEvents);pr.walletImpressions.length&&e.push({eventId:Nt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...pr.walletImpressions]}}),n2e.sendBeacon({path:"/batch",params:Bn.getSdkProperties(),body:e}),pr.reportedErrors.FORBIDDEN=!1,pr.pendingEvents=[],pr.walletImpressions=[]}catch{pr.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){pr.subscribedToVisibilityChange||typeof document>"u"||(pr.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&Bn._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{Bn._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{Bn._submitPendingEvents()}),setInterval(()=>{Bn._submitPendingEvents()},s$))}},i2e=Nt.getApiUrl(),ks=new cy({baseUrl:i2e,clientId:null}),a2e=40,i$=4,o2e=20,At=Tt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),gt={state:At,subscribeKey(e,t){return Sn(At,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=$t.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return $t.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${ks.baseUrl}/getWalletImage/${e}`,n=await ks.getBlob({path:t,params:gt._getSdkProperties()});ba.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${ks.baseUrl}/public/getAssetImage/${e}`,n=await ks.getBlob({path:t,params:gt._getSdkProperties()});ba.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${ks.baseUrl}/public/getAssetImage/${e}`,n=await ks.getBlob({path:t,params:gt._getSdkProperties()});ba.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${ks.baseUrl}/public/getCurrencyImage/${e}`,n=await ks.getBlob({path:t,params:gt._getSdkProperties()});ba.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${ks.baseUrl}/public/getTokenImage/${e}`,n=await ks.getBlob({path:t,params:gt._getSdkProperties()});ba.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){const t=e.length,n=Nt.isMobile()?e?.filter(s=>s.mobile_link||s.webapp_link?!0:Object.values(da).map(a=>a.id).includes(s.id)):e,r=t-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await ks.get({path:"/appkit/v1/config",params:gt._getSdkProperties()})).features},async fetchUsage(){try{const e=await ks.get({path:"/appkit/v1/project-limits",params:gt._getSdkProperties()}),{tier:t,isAboveMauLimit:n,isAboveRpcLimit:r}=e.planLimits,s=t==="starter",i=n||r;gt.state.plan={tier:t,hasExceededUsageLimit:s&&i,limits:{isAboveRpcLimit:r,isAboveMauLimit:n}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await ks.get({path:"/projects/v1/origins",params:gt._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===ie.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=ie.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const t=oe.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!e2e.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>gt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:e}=lt.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>gt._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>gt._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>gt._fetchTokenImage(t)))},async fetchWallets(e){const t=e.exclude??[];gt._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(da).map(a=>a.id));const r=await ks.get({path:"/getWallets",params:{...gt._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:s,mobileFilteredOutWalletsLength:i}=gt._filterWalletsByPlatform(r?.data);return{data:s||[],count:r?.count,mobileFilteredOutWalletsLength:i}},async prefetchWalletRanks(){const e=lt.state.connectors;if(!e?.length)return;const t={page:1,entries:20,badge:"certified"};if(t.names=e.map(s=>s.name).join(","),oe.state.activeChain===ie.CHAIN.EVM){const s=[...e.flatMap(i=>i.connectors?.map(a=>a.info?.rdns)||[]),...e.map(i=>i.info?.rdns)].filter(i=>typeof i=="string"&&i.length>0);s.length&&(t.rdns=s.join(","))}const{data:n}=await gt.fetchWallets(t);At.explorerWallets=n,lt.extendConnectorsWithExplorerWallets(n);const r=oe.getRequestedCaipNetworkIds().join(",");At.explorerFilteredWallets=n.filter(s=>s.chains?.some(i=>r.includes(i)))},async fetchFeaturedWallets(){const{featuredWalletIds:e}=$t.state;if(e?.length){const t={...gt._getSdkProperties(),page:1,entries:e?.length??i$,include:e},{data:n}=await gt.fetchWallets(t),r=[...n].sort((i,a)=>e.indexOf(i.id)-e.indexOf(a.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>gt._fetchWalletImage(i))),At.featured=r,At.allFeatured=r}},async fetchRecommendedWallets(){try{At.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=$t.state,r=[...t??[],...n??[]].filter(Boolean),s=oe.getRequestedCaipNetworkIds().join(","),i={page:1,entries:i$,include:e,exclude:r,chains:s},{data:a,count:c}=await gt.fetchWallets(i),u=Me.getRecentWallets(),d=a.map(m=>m.image_id).filter(Boolean),h=u.map(m=>m.image_id).filter(Boolean);await Promise.allSettled([...d,...h].map(m=>gt._fetchWalletImage(m))),At.recommended=a,At.allRecommended=a,At.count=c??0}catch{}finally{At.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=$t.state,s=oe.getRequestedCaipNetworkIds().join(","),i=[...At.recommended.map(({id:m})=>m),...n??[],...r??[]].filter(Boolean),a={page:e,entries:a2e,include:t,exclude:i,chains:s},{data:c,count:u,mobileFilteredOutWalletsLength:d}=await gt.fetchWallets(a);At.mobileFilteredOutWalletsLength=d+(At.mobileFilteredOutWalletsLength??0);const h=c.slice(0,o2e).map(m=>m.image_id).filter(Boolean);await Promise.allSettled(h.map(m=>gt._fetchWalletImage(m))),At.wallets=Nt.uniqueBy([...At.wallets,...gt._filterOutExtensions(c)],"id").filter(m=>m.chains?.some(g=>s.includes(g))),At.count=u>At.count?u:At.count,At.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await gt.fetchWallets(t);n&&n.forEach(r=>{At.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=$t.state,s=oe.getRequestedCaipNetworkIds().join(",");At.search=[];const i={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:s},{data:a}=await gt.fetchWallets(i);Bn.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const c=a.map(u=>u.image_id).filter(Boolean);await Promise.allSettled([...c.map(u=>gt._fetchWalletImage(u)),Nt.wait(300)]),At.search=gt._filterOutExtensions(a)},initPromise(e,t){const n=At.promises[e];return n||(At.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:s=!0}={}){const i=[e&&gt.initPromise("connectorImages",gt.fetchConnectorImages),t&&gt.initPromise("featuredWallets",gt.fetchFeaturedWallets),n&&gt.initPromise("recommendedWallets",gt.fetchRecommendedWallets),r&&gt.initPromise("networkImages",gt.fetchNetworkImages),s&&gt.initPromise("walletRanks",gt.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){$t.state.features?.analytics&&gt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await ks.get({path:"/getAnalyticsConfig",params:gt._getSdkProperties()});$t.setFeatures({analytics:e})}catch{$t.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){At.featured=At.allFeatured,At.recommended=At.allRecommended;return}const t=oe.getRequestedCaipNetworkIds().join(",");At.featured=At.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),At.recommended=At.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),At.filteredWallets=At.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){At.filteredWallets=[]},setFilterByNamespace(e){if(!e){At.featured=At.allFeatured,At.recommended=At.allRecommended;return}const t=oe.getRequestedCaipNetworkIds().join(",");At.featured=At.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),At.recommended=At.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),At.filteredWallets=At.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}},c2e=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],In=Tt({view:"Connect",history:["Connect"],transactionStack:[]}),l2e={state:In,subscribeKey(e,t){return Sn(In,e,t)},pushTransactionStack(e){In.transactionStack.push(e)},popTransactionStack(e){const t=In.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:s}=t;switch(e){case"success":n?.();break;case"error":r?.(),Ht.goBack();break;case"cancel":s?.(),Ht.goBack();break}},push(e,t){let n=e,r=t;gt.state.plan.hasExceededUsageLimit&&c2e.includes(e)&&(n="UsageExceeded",r=void 0),n!==In.view&&(In.view=n,In.history.push(n),In.data=r)},reset(e,t){In.view=e,In.history=[e],In.data=t},replace(e,t){In.history.at(-1)===e||(In.view=e,In.history[In.history.length-1]=e,In.data=t)},goBack(){const e=oe.state.activeCaipAddress,t=Ht.state.view==="ConnectingFarcaster",n=!e&&t;if(In.history.length>1){In.history.pop();const[r]=In.history.slice(-1);r&&(e&&r==="Connect"?In.view="Account":In.view=r)}else yr.close();In.data?.wallet&&(In.data.wallet=void 0),In.data?.redirectView&&(In.data.redirectView=void 0),setTimeout(()=>{if(n){oe.setAccountProp("farcasterUrl",void 0,oe.state.activeChain);const r=lt.getAuthConnector();r?.provider?.reload();const s=$o($t.state);r?.provider?.syncDappData?.({metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(e){if(In.history.length>1){In.history=In.history.slice(0,e+1);const[t]=In.history.slice(-1);t&&(In.view=t)}},goBackOrCloseModal(){Ht.state.history.length>1?Ht.goBack():yr.close()}},Ht=Kc(l2e),yc=Tt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),e2={state:yc,subscribe(e){return On(yc,()=>e(yc))},setThemeMode(e){yc.themeMode=e;try{const t=lt.getAuthConnector();if(t){const n=e2.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:wu(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){yc.themeVariables={...yc.themeVariables,...e};try{const t=lt.getAuthConnector();if(t){const n=e2.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:wu(yc.themeVariables,yc.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return $o(yc)}},R1=Kc(e2),Ej=Object.fromEntries(_v.map(e=>[e,void 0])),u2e=Object.fromEntries(_v.map(e=>[e,!0])),fn=Tt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:Ej,filterByNamespaceMap:u2e}),d2e={state:fn,subscribe(e){return On(fn,()=>{e(fn)})},subscribeKey(e,t){return Sn(fn,e,t)},initialize(e){e.forEach(t=>{const n=Me.getConnectedConnectorId(t);n&&lt.setConnectorId(n,t)})},setActiveConnector(e){e&&(fn.activeConnector=Do(e))},setConnectors(e){e.filter(s=>!fn.allConnectors.some(i=>i.id===s.id&&lt.getConnectorName(i.name)===lt.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&fn.allConnectors.push(Do(s))});const n=lt.getEnabledNamespaces(),r=lt.getEnabledConnectors(n);fn.connectors=lt.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(fn.filterByNamespaceMap).forEach(t=>{fn.filterByNamespaceMap[t]=!1}),e.forEach(t=>{fn.filterByNamespaceMap[t]=!0}),lt.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){fn.filterByNamespaceMap[e]=t,lt.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=lt.getEnabledNamespaces(),t=lt.getEnabledConnectors(e),n=lt.areAllNamespacesEnabled();fn.connectors=lt.mergeMultiChainConnectors(t),n?gt.clearFilterByNamespaces():gt.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(fn.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return fn.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(fn.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=lt.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const s=r[0],i=s?.id===ie.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:s?.id||""}):s&&n.push(s)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,s=lt.getConnectorName(r);if(!s)return;const i=t.get(s)||[];i.find(c=>c.chain===n.chain)||i.push(n),t.set(s,i)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===ie.CONNECTOR_ID.AUTH){const t=e,n=$o($t.state),r=R1.getSnapshot().themeMode,s=R1.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:wu(s,r)}),lt.setConnectors([e])}else lt.setConnectors([e])},getAuthConnector(e){const t=e||oe.state.activeChain,n=fn.connectors.find(r=>r.id===ie.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(s=>s.chain===t):n},getAnnouncedConnectorRdns(){return fn.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return fn.allConnectors.find(t=>t.id===e)},getConnector({id:e,namespace:t}){const n=t||oe.state.activeChain;return fn.allConnectors.filter(i=>i.chain===n).find(i=>i.id===e||i.explorerId===e)},syncIfAuthConnector(e){if(e.id!=="AUTH")return;const t=e,n=$o($t.state),r=R1.getSnapshot().themeMode,s=R1.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:wu(s,r)})},getConnectorsByNamespace(e){const t=fn.allConnectors.filter(n=>n.chain===e);return lt.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return oe.checkIfSmartAccountEnabled()&&ru(e)===Wn.ACCOUNT_TYPES.EOA},selectWalletConnector(e){const t=Ht.state.data?.redirectView,n=oe.state.activeChain,r=n?lt.getConnector({id:e.id,namespace:n}):void 0;GNe.handleMobileDeeplinkRedirect(r?.explorerId||e.id,oe.state.activeChain),r?Ht.push("ConnectingExternal",{connector:r,wallet:e,redirectView:t}):Ht.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors(e){return e?lt.getConnectorsByNamespace(e):lt.mergeMultiChainConnectors(fn.allConnectors)},setFilterByNamespace(e){fn.filterByNamespace=e,fn.connectors=lt.getConnectors(e),gt.setFilterByNamespace(e)},setConnectorId(e,t){e&&(fn.activeConnectorIds={...fn.activeConnectorIds,[t]:e},Me.setConnectedConnectorId(t,e))},removeConnectorId(e){fn.activeConnectorIds={...fn.activeConnectorIds,[e]:void 0},Me.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return fn.activeConnectorIds[e]},isConnected(e){return e?!!fn.activeConnectorIds[e]:Object.values(fn.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){fn.activeConnectorIds={...Ej}},extendConnectorsWithExplorerWallets(e){fn.allConnectors.forEach(r=>{const s=e.find(i=>i.id===r.id||i.rdns&&i.rdns===r.info?.rdns);s&&(r.explorerWallet=s)});const t=lt.getEnabledNamespaces(),n=lt.getEnabledConnectors(t);fn.connectors=lt.mergeMultiChainConnectors(n)}},lt=Kc(d2e),f2e=1e3,W0={checkNamespaceConnectorId(e,t){return lt.getConnectorId(e)===t},isSocialProvider(e){return As.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((a,c)=>{if(e&&lt.setActiveConnector(t),s?.(Nt.isMobile()&&e),r){const d=yr.subscribeKey("open",h=>{h||(Ht.state.view!==r&&Ht.replace(r),d(),c(new Error("Modal closed")))})}const u=oe.subscribeKey("activeCaipAddress",d=>{d&&(i?.(),n&&yr.close(),u(),a(kr.parseCaipAddress(d)))})})},connectExternal(e){return new Promise((t,n)=>{const r=oe.subscribeKey("activeCaipAddress",s=>{s&&(yr.close(),r(),t(kr.parseCaipAddress(s)))});ot.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let i,a=!1,c=null;const u=t||oe.state.activeChain,d=oe.subscribeKey("activeCaipAddress",h=>{h&&(n&&yr.close(),d())});return new Promise((h,m)=>{async function g(v){if(v.data?.resultUri)if(v.origin===ie.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",g,!1);try{const E=lt.getAuthConnector(u);if(E&&!a){i&&i.close(),a=!0;const A=v.data.resultUri;Bn.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),Me.setConnectedSocialProvider(e),await ot.connectExternal({id:E.id,type:E.type,socialUri:A},E.chain);const R=oe.state.activeCaipAddress;if(!R){m(new Error("Failed to connect"));return}h(kr.parseCaipAddress(R)),Bn.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(E){Bn.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:Nt.parseError(E)}}),m(new Error("Failed to connect"))}}else Bn.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}async function w(){if(Bn.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),e==="farcaster"){r?.();const v=yr.subscribeKey("open",A=>{!A&&e==="farcaster"&&(m(new Error("Popup closed")),s?.(),v())}),E=lt.getAuthConnector();if(E&&!oe.getAccountData(u)?.farcasterUrl)try{const{url:R}=await E.provider.getFarcasterUri();oe.setAccountProp("farcasterUrl",R,u)}catch{m(new Error("Failed to connect to farcaster"))}}else{const v=lt.getAuthConnector();c=Nt.returnOpenHref(`${ie.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(v){const{uri:E}=await v.provider.getSocialRedirectUri({provider:e});if(c&&E){c.location.href=E,i=c;const A=setInterval(()=>{i?.closed&&!a&&(m(new Error("Popup closed")),clearInterval(A))},1e3);window.addEventListener("message",g,!1)}else c?.close(),m(new Error("Failed to initiate social connection"))}}catch{m(new Error("Failed to initiate social connection")),c?.close()}}}w()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n?.(),t){const c=yr.subscribeKey("open",u=>{u||(Ht.state.view!==t&&Ht.replace(t),c(),i(new Error("Modal closed")))})}const a=oe.subscribeKey("activeCaipAddress",c=>{c&&(r?.(),e&&yr.close(),a(),s(kr.parseCaipAddress(c)))})})},async updateEmail(){const e=Me.getConnectedConnectorId(oe.state.activeChain),t=lt.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==ie.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await yr.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const i=setInterval(()=>{const c=t.provider.getEmail()??"";c!==n&&(yr.close(),clearInterval(i),a(),r({email:c}))},f2e),a=yr.subscribeKey("open",c=>{c||(Ht.state.view!=="Connect"&&Ht.push("Connect"),clearInterval(i),a(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return oe.checkIfSmartAccountEnabled()&&ru(e)===Wn.ACCOUNT_TYPES.EOA}};function vj(){const e=oe.state.activeCaipNetwork?.chainNamespace||"eip155",t=oe.state.activeCaipNetwork?.id||1,n=As.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function ru(e){return oe.getAccountData(e)?.preferredAccountType}const Cj={getConnectionStatus(e,t){const n=lt.state.activeConnectorIds[t],r=ot.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(a=>a.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){const i=r.accounts.filter(a=>!n.some(u=>u.toLowerCase()===a.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(e,t){const n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){const t=!!$t.state.remoteFeatures?.multiWallet,n=lt.state.activeConnectorIds[e],r=ot.getConnections(e),i=(ot.state.recentConnections.get(e)??[]).filter(c=>lt.getConnectorById(c.connectorId)),a=Cj.excludeExistingConnections([...r.map(c=>c.connectorId),...n?[n]:[]],i);return t?{connections:r,recentConnections:a}:{connections:r.filter(c=>c.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}},onConnectMobile(e){const t=ot.state.wcUri;if(e?.mobile_link&&t)try{ot.setWcError(!1);const{mobile_link:n,link_mode:r,name:s}=e,{redirect:i,redirectUniversalLink:a,href:c}=Nt.formatNativeUrl(n,t,r),u=i,d=a,h=Nt.isIframe()?"_top":"_self";ot.setWcLinking({name:s,href:c}),ot.setRecentWallet(e),$t.state.experimental_preferUniversalLinks&&d?Nt.openHref(d,h):Nt.openHref(u,h)}catch(n){Bn.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:n instanceof Error?n.message:"Error parsing the deep link",uri:t,mobile_link:e.mobile_link,name:e.name}}),ot.setWcError(!0)}}},hh=Tt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1,connectingWallet:void 0}),Pc={state:hh,subscribe(e){return On(hh,()=>e(hh))},subscribeOpen(e){return Sn(hh,"open",e)},set(e){Object.assign(hh,{...hh,...e})}},rr=Tt({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),h2e={state:rr,subscribe(e){return On(rr,()=>e(rr))},setLastNetworkInView(e){rr.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");rr.loading=!0;try{const t=await Ut.fetchTransactions({account:e,cursor:rr.next,chainId:oe.state.activeCaipNetwork?.caipNetworkId}),n=tw.filterSpamTransactions(t.data),r=tw.filterByConnectedChain(n),s=[...rr.transactions,...r];rr.loading=!1,rr.transactions=s,rr.transactionsByYear=tw.groupTransactionsByYearAndMonth(rr.transactionsByYear,r),rr.empty=s.length===0,rr.next=t.next?t.next:void 0}catch{const n=oe.state.activeChain;Bn.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:$t.state.projectId,cursor:rr.next,isSmartAccount:ru(n)===Wn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Iv.showError("Failed to fetch transactions"),rr.loading=!1,rr.empty=!0,rr.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),a=n[s]??{},u=(a[i]??[]).filter(d=>d.id!==r.id);n[s]={...a,[i]:[...u,r].sort((d,h)=>new Date(h.metadata.minedAt).getTime()-new Date(d.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers?.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){const t=oe.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){rr.next=void 0},resetTransactions(){rr.transactions=[],rr.transactionsByYear={},rr.lastNetworkInView=void 0,rr.loading=!1,rr.empty=!1,rr.next=void 0}},tw=Kc(h2e,"API_ERROR"),Qt=Tt({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,wcFetchingUri:!1,buffering:!1,status:"disconnected"});let rd;const p2e={state:Qt,subscribe(e){return On(Qt,()=>e(Qt))},subscribeKey(e,t){return Sn(Qt,e,t)},_getClient(){return Qt._client},setClient(e){Qt._client=Do(e)},initialize(e){const t=e.filter(n=>!!n.namespace).map(n=>n.namespace);ot.syncStorageConnections(t)},syncStorageConnections(e){const t=Me.getConnections(),n=e??Array.from(oe.state.chains.keys());for(const r of n){const s=t[r]??[],i=new Map(Qt.recentConnections);i.set(r,s),Qt.recentConnections=i}},getConnections(e){return e?Qt.connections.get(e)??[]:[]},hasAnyConnection(e){const t=ot.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect({cache:e="auto"}={}){Qt.wcFetchingUri=!0;const t=Nt.isTelegram()||Nt.isSafari()&&Nt.isIos();if(e==="always"||e==="auto"&&t){if(rd){await rd,rd=void 0;return}if(!Nt.isPairingExpired(Qt?.wcPairingExpiry)){const n=Qt.wcUri;Qt.wcUri=n;return}rd=ot._getClient()?.connectWalletConnect?.().catch(()=>{}),ot.state.status="connecting",await rd,rd=void 0,Qt.wcPairingExpiry=void 0,ot.state.status="connected"}else await ot._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){const r=await ot._getClient()?.connectExternal?.(e);n&&oe.setActiveNamespace(t);const s=lt.state.allConnectors.find(a=>a.id===e?.id),i=e.type==="AUTH"?"email":"browser";return Bn.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:i,name:s?.name||"Unknown",view:Ht.state.view,walletRank:s?.explorerWallet?.order}}),r},async reconnectExternal(e){await ot._getClient()?.reconnectExternal?.(e);const t=e.chain||oe.state.activeChain;t&&lt.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;yr.setLoading(!0,oe.state.activeChain);const n=lt.getAuthConnector();n&&(oe.setAccountProp("preferredAccountType",e,t),await n.provider.setPreferredAccount(e),Me.setPreferredAccountTypes(Object.entries(oe.state.chains).reduce((r,[s,i])=>{const a=s,c=ru(a);return c!==void 0&&(r[a]=c),r},{})),await ot.reconnectExternal(n),yr.setLoading(!1,oe.state.activeChain),Bn.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:oe.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return ot._getClient()?.signMessage(e)},parseUnits(e,t){return ot._getClient()?.parseUnits(e,t)},formatUnits(e,t){return ot._getClient()?.formatUnits(e,t)},updateBalance(e){return ot._getClient()?.updateBalance(e)},async sendTransaction(e){return ot._getClient()?.sendTransaction(e)},async getCapabilities(e){return ot._getClient()?.getCapabilities(e)},async grantPermissions(e){return ot._getClient()?.grantPermissions(e)},async walletGetAssets(e){return ot._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return ot._getClient()?.estimateGas(e)},async writeContract(e){return ot._getClient()?.writeContract(e)},async getEnsAddress(e){return ot._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return ot._getClient()?.getEnsAvatar(e)},checkInstalled(e){return ot._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){Qt.wcUri=void 0,Qt.wcPairingExpiry=void 0,Qt.wcLinking=void 0,Qt.recentWallet=void 0,Qt.wcFetchingUri=!1,Qt.status="disconnected",tw.resetTransactions(),Me.deleteWalletConnectDeepLink(),Me.deleteRecentWallet(),Pc.set({connectingWallet:void 0})},resetUri(){Qt.wcUri=void 0,Qt.wcPairingExpiry=void 0,rd=void 0,Qt.wcFetchingUri=!1,Pc.set({connectingWallet:void 0})},finalizeWcConnection(e){const{wcLinking:t,recentWallet:n}=ot.state;t&&Me.setWalletConnectDeepLink(t),n&&Me.setAppKitRecent(n),e&&Bn.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:Ht.state.data?.wallet?.name||"Unknown",view:Ht.state.view,walletRank:n?.order}})},setWcBasic(e){Qt.wcBasic=e},setUri(e){Qt.wcUri=e,Qt.wcFetchingUri=!1,Qt.wcPairingExpiry=Nt.getPairingExpiry()},setWcLinking(e){Qt.wcLinking=e},setWcError(e){Qt.wcError=e,Qt.wcFetchingUri=!1,Qt.buffering=!1},setRecentWallet(e){Qt.recentWallet=e},setBuffering(e){Qt.buffering=e},setStatus(e){Qt.status=e},setIsSwitchingConnection(e){Qt.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await ot._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new Xd("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},async disconnectConnector({id:e,namespace:t}){try{await ot._getClient()?.disconnectConnector({id:e,namespace:t})}catch(n){throw new Xd("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(e,t){const n=new Map(Qt.connections);n.set(t,e),Qt.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){const r=oe.getAccountData(t)?.user?.accounts?.find(i=>i.type==="smartAccount"),s=r&&r.address.toLowerCase()===e.toLowerCase()&&W0.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await ot.setPreferredAccountType(s,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const r=lt.getConnectorById(e.connectorId),s=e.connectorId===ie.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(s)n&&await ot.handleAuthAccountSwitch({address:n,namespace:t});else return(await ot.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){const s=lt.getConnectorById(e.connectorId),i=e.auth?.name?.toLowerCase(),a=e.connectorId===ie.CONNECTOR_ID.AUTH,c=e.connectorId===ie.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${e.connectorId}`);let u;if(a)if(i&&W0.isSocialProvider(i)){const{address:d}=await W0.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){yr.open({view:"ConnectingFarcaster"})},onConnect(){Ht.replace("ProfileWallets")}});u=d}else{const{address:d}=await W0.connectEmail({closeModalOnConnect:r,onOpen(){yr.open({view:"EmailLogin"})},onConnect(){Ht.replace("ProfileWallets")}});u=d}else if(c){const{address:d}=await W0.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){const m=h?"AllWallets":"ConnectingWalletConnect";yr.state.open?Ht.push(m):yr.open({view:m})},onConnect(){Ht.replace("ProfileWallets")}});u=d}else{const d=await ot.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);d&&(u=d.address)}return a&&n&&await ot.handleAuthAccountSwitch({address:n,namespace:t}),u},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:s}){let i;const a=oe.getAccountData(n)?.caipAddress;if(a){const{address:u}=kr.parseCaipAddress(a);i=u}const c=Cj.getConnectionStatus(e,n);switch(c){case"connected":case"active":{const u=await ot.handleActiveConnection({connection:e,namespace:n,address:t});if(i&&u){const d=u.toLowerCase()!==i.toLowerCase();s?.({address:u,namespace:n,hasSwitchedAccount:d,hasSwitchedWallet:c==="active"})}break}case"disconnected":{const u=await ot.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});u&&s?.({address:u,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${c}`)}}},ot=Kc(p2e),i5={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return of(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}};let a5;async function a$(){if(!a5){const{createPublicClient:e,http:t,defineChain:n}=await ir(async()=>{const{createPublicClient:r,http:s,defineChain:i}=await import("./index-DpHkCDZj.js");return{createPublicClient:r,http:s,defineChain:i}},__vite__mapDeps([56,57,55,58,59,54]));a5={createPublicClient:e,http:t,defineChain:n}}return a5}const t2={getBlockchainApiRpcUrl(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()},async getViemChain(e){const{defineChain:t}=await a$(),{chainId:n}=kr.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(n)})},async createViemPublicClient(e){const{createPublicClient:t,http:n}=await a$(),r=$t.state.projectId,s=await t2.getViemChain(e);if(!s)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:s,transport:n(t2.getBlockchainApiRpcUrl(e.caipNetworkId,r))})}},ZT={async getMyTokensWithBalance(e){const t=oe.getAccountData()?.address,n=oe.state.activeCaipNetwork,r=lt.getConnectorId("eip155")===ie.CONNECTOR_ID.AUTH;if(!t||!n)return[];const s=`${n.caipNetworkId}:${t}`,i=Me.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace===ie.CHAIN.EVM&&r){const c=await this.getEIP155Balances(t,n);if(c)return this.filterLowQualityTokens(c)}const a=await Ut.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(a.balances)},async getEIP155Balances(e,t){try{const n=i5.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await ot.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;const s=await ot.walletGetAssets({account:e,chainFilter:[n]});if(!i5.isWalletGetAssetsResponse(s))return null;const a=(s[n]||[]).map(c=>i5.createBalance(c,t.caipNetworkId));return Me.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:a},timestamp:Date.now()}),a}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:n}){const r=await t2.createViemPublicClient(n),{address:s}=kr.parseCaipAddress(e),[{result:i},{result:a},{result:c},{result:u}]=await r.multicall({contracts:[{address:t,functionName:"name",args:[],abi:eu},{address:t,functionName:"symbol",args:[],abi:eu},{address:t,functionName:"balanceOf",args:[s],abi:eu},{address:t,functionName:"decimals",args:[],abi:eu}]});return{name:i,symbol:a,decimals:u,balance:c&&u?of(c,u):"0"}}},o5={adapters:{}},m2e={state:o5,initialize(e){o5.adapters={...e}},get(e){return o5.adapters[e]}},IE={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},Qs=Tt({providers:{...IE},providerIds:{...IE}}),g2e={state:Qs,subscribeKey(e,t){return Sn(Qs,e,t)},subscribe(e){return On(Qs,()=>{e(Qs)})},subscribeProviders(e){return On(Qs.providers,()=>e(Qs.providers))},setProvider(e,t){e&&t&&(Qs.providers[e]=Do(t))},getProvider(e){if(e)return Qs.providers[e]},setProviderId(e,t){t&&(Qs.providerIds[e]=t)},getProviderId(e){if(e)return Qs.providerIds[e]},reset(){Qs.providers={...IE},Qs.providerIds={...IE}},resetChain(e){Qs.providers[e]=void 0,Qs.providerIds[e]=void 0}},y2e={async getTokenList(e){return(await Ut.fetchSwapTokens({chainId:e}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const e=oe.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":const t=(await ot?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await Ut.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Ut.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(s?.allowance&&n&&r){const i=ot.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(e){const t=await ZT.getMyTokensWithBalance(e);return oe.setAccountProp("tokenBalance",t,oe.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:vj(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]},async handleSwapError(e){try{const t=e?.cause;return t?.json&&(await t.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},hn=Tt({tokenBalances:[],loading:!1}),b2e={state:hn,subscribe(e){return On(hn,()=>e(hn))},subscribeKey(e,t){return Sn(hn,e,t)},setToken(e){e&&(hn.token=Do(e))},setTokenAmount(e){hn.sendTokenAmount=e},setReceiverAddress(e){hn.receiverAddress=e},setReceiverProfileImageUrl(e){hn.receiverProfileImageUrl=e},setReceiverProfileName(e){hn.receiverProfileName=e},setNetworkBalanceInUsd(e){hn.networkBalanceInUSD=e},setLoading(e){hn.loading=e},getSdkEventProperties(e){return{message:Nt.parseError(e),isSmartAccount:ru(oe.state.activeChain)===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:hn.token?.symbol||"",amount:hn.sendTokenAmount??0,network:oe.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(Wt.setLoading(!0),oe.state.activeCaipNetwork?.chainNamespace){case"eip155":await Wt.sendEvmToken();return;case"solana":await Wt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw wa.isUserRejectedRequestError(e)?new Ad(e):e}finally{Wt.setLoading(!1)}},async sendEvmToken(){const e=oe.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=ru(e);if(!Wt.state.sendTokenAmount||!Wt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Wt.state.token)throw new Error("A token is required");if(Wt.state.token?.address){Bn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Wt.state.token.address,amount:Wt.state.sendTokenAmount,network:oe.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await Wt.sendERC20Token({receiverAddress:Wt.state.receiverAddress,tokenAddress:Wt.state.token.address,sendTokenAmount:Wt.state.sendTokenAmount,decimals:Wt.state.token.quantity.decimals});n&&(hn.hash=n)}else{Bn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Wt.state.token.symbol||"",amount:Wt.state.sendTokenAmount,network:oe.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:n}=await Wt.sendNativeToken({receiverAddress:Wt.state.receiverAddress,sendTokenAmount:Wt.state.sendTokenAmount,decimals:Wt.state.token.quantity.decimals});n&&(hn.hash=n)}},async fetchTokenBalance(e){hn.loading=!0;const t=oe.state.activeChain,n=oe.state.activeCaipNetwork?.caipNetworkId,r=oe.state.activeCaipNetwork?.chainNamespace,s=oe.getAccountData(t)?.caipAddress??oe.state.activeCaipAddress,i=s?Nt.getPlainAddress(s):void 0;if(hn.lastRetry&&!Nt.isAllowedRetry(hn.lastRetry,30*As.ONE_SEC_MS))return hn.loading=!1,[];try{if(i&&n&&r){const a=await ZT.getMyTokensWithBalance();return hn.tokenBalances=a,hn.lastRetry=void 0,a}}catch(a){hn.lastRetry=Date.now(),e?.(a),Iv.showError("Token Balance Unavailable")}finally{hn.loading=!1}return[]},fetchNetworkBalance(){if(hn.tokenBalances.length===0)return;const e=y2e.mapBalancesToSwapTokens(hn.tokenBalances);if(!e)return;const t=e.find(n=>n.address===vj());t&&(hn.networkBalanceInUSD=t?QF.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){Ht.pushTransactionStack({});const t=e.receiverAddress,n=oe.getAccountData()?.address,r=ot.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),i=await ot.sendTransaction({chainNamespace:ie.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)});return Bn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:ru("eip155")===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Wt.state.token?.symbol||"",amount:e.sendTokenAmount,network:oe.state.activeCaipNetwork?.caipNetworkId||"",hash:i||""}}),ot._getClient()?.updateBalance("eip155"),Wt.resetSend(),{hash:i}},async sendERC20Token(e){Ht.pushTransactionStack({onSuccess(){Ht.replace("Account")}});const t=ot.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),n=oe.getAccountData()?.address;if(n&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const r=Nt.getPlainAddress(e.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");const s=await ot.writeContract({fromAddress:n,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:ej.getERC20Abi(r),chainNamespace:ie.CHAIN.EVM});return Bn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:ru("eip155")===Wn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Wt.state.token?.symbol||"",amount:e.sendTokenAmount,network:oe.state.activeCaipNetwork?.caipNetworkId||"",hash:s||""}}),Wt.resetSend(),{hash:s}}return{hash:void 0}},async sendSolanaToken(){if(!Wt.state.sendTokenAmount||!Wt.state.receiverAddress)throw new Error("An amount and receiver address are required");Ht.pushTransactionStack({onSuccess(){Ht.replace("Account")}});let e;Wt.state.token&&Wt.state.token.address!==As.SOLANA_NATIVE_TOKEN_ADDRESS&&(Nt.isCaipAddress(Wt.state.token.address)?e=Nt.getPlainAddress(Wt.state.token.address):e=Wt.state.token.address);const t=await ot.sendTransaction({chainNamespace:"solana",tokenMint:e,to:Wt.state.receiverAddress,value:Wt.state.sendTokenAmount});t&&(hn.hash=t),ot._getClient()?.updateBalance("solana"),Bn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:Wt.state.token?.symbol||"",amount:Wt.state.sendTokenAmount,network:oe.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),Wt.resetSend()},resetSend(){hn.token=void 0,hn.sendTokenAmount=void 0,hn.receiverAddress=void 0,hn.receiverProfileImageUrl=void 0,hn.receiverProfileName=void 0,hn.loading=!1,hn.tokenBalances=[]}},Wt=Kc(b2e),c5={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},x1={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Pe=Tt({chains:nj(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),_j={state:Pe,subscribe(e){return On(Pe,()=>{e(Pe)})},subscribeKey(e,t){return Sn(Pe,e,t)},subscribeAccountStateProp(e,t,n){const r=n||Pe.activeChain;return r?Sn(Pe.chains.get(r)?.accountState||{},e,t):()=>{}},subscribeChainProp(e,t,n){let r;return On(Pe.chains,()=>{const s=n||Pe.activeChain;if(s){const i=Pe.chains.get(s)?.[e];r!==i&&(r=i,t(i))}})},initialize(e,t,n){const{chainId:r,namespace:s}=Me.getActiveNetworkProps(),i=t?.find(h=>h.id.toString()===r?.toString()),c=e.find(h=>h?.namespace===s)||e?.[0],u=e.map(h=>h.namespace).filter(h=>h!==void 0),d=$t.state.enableEmbedded?new Set([...u]):new Set([...t?.map(h=>h.chainNamespace)??[]]);(e?.length===0||!c)&&(Pe.noAdapters=!0),Pe.noAdapters||(Pe.activeChain=c?.namespace,Pe.activeCaipNetwork=i,oe.setChainNetworkData(c?.namespace,{caipNetwork:i}),Pe.activeChain&&Pc.set({activeChain:c?.namespace})),d.forEach(h=>{const m=t?.filter(v=>v.chainNamespace===h),g=Me.getPreferredAccountTypes()||{},w={...$t.state.defaultAccountTypes,...g};oe.state.chains.set(h,{namespace:h,networkState:Tt({...x1,caipNetwork:m?.[0]}),accountState:Tt({...c5,preferredAccountType:w[h]}),caipNetworks:m??[],...n}),oe.setRequestedCaipNetworks(m??[],h)})},removeAdapter(e){if(Pe.activeChain===e){const t=Array.from(Pe.chains.entries()).find(([n])=>n!==e);if(t){const n=t[1]?.caipNetworks?.[0];n&&oe.setActiveCaipNetwork(n)}}Pe.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},n){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Pe.chains.set(e.namespace,{namespace:e.namespace,networkState:{...x1,caipNetwork:n[0]},accountState:{...c5},caipNetworks:n,connectionControllerClient:t}),oe.setRequestedCaipNetworks(n?.filter(r=>r.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){const t=Pe.chains.get(e.chainNamespace);if(t){const n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),Pe.chains.set(e.chainNamespace,{...t,caipNetworks:n}),oe.setRequestedCaipNetworks(n,e.chainNamespace),lt.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const n=Pe.chains.get(e);if(n){const r=Pe.activeCaipNetwork?.id===t,s=[...n.caipNetworks?.filter(i=>i.id!==t)||[]];r&&n?.caipNetworks?.[0]&&oe.setActiveCaipNetwork(n.caipNetworks[0]),Pe.chains.set(e,{...n,caipNetworks:s}),oe.setRequestedCaipNetworks(s||[],e),s.length===0&&lt.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=Pe.chains.get(e);n&&(n.networkState={...n.networkState||x1,...t},Pe.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=Pe.chains.get(e);if(r){const s={...r.accountState||c5,...t};Pe.chains.set(e,{...r,accountState:s}),(Pe.chains.size===1||Pe.activeChain===e)&&t.caipAddress&&(Pe.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;const n=Pe.chains.get(e);if(n){const r={...n.networkState||x1,...t};Pe.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){oe.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){Pe.activeChain=e;const t=e?Pe.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(Pe.activeCaipAddress=t?.accountState?.caipAddress,Pe.activeCaipNetwork=n,oe.setChainNetworkData(e,{caipNetwork:n}),Me.setActiveCaipNetworkId(n?.caipNetworkId),Pc.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;const t=Pe.activeChain===e.chainNamespace;t||oe.setIsSwitchingNamespace(!0);const n=Pe.chains.get(e.chainNamespace);Pe.activeChain=e.chainNamespace,Pe.activeCaipNetwork=e,oe.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let r=n?.accountState?.address;if(r)Pe.activeCaipAddress=`${e.chainNamespace}:${e.id}:${r}`;else if(t&&Pe.activeCaipAddress){const{address:i}=kr.parseCaipAddress(Pe.activeCaipAddress);r=i,Pe.activeCaipAddress=`${e.caipNetworkId}:${r}`}else Pe.activeCaipAddress=void 0;oe.setChainAccountData(e.chainNamespace,{address:r,caipAddress:Pe.activeCaipAddress}),Wt.resetSend(),Pc.set({activeChain:Pe.activeChain,selectedNetworkId:Pe.activeCaipNetwork?.caipNetworkId}),Me.setActiveCaipNetworkId(e.caipNetworkId),!oe.checkIfSupportedNetwork(e.chainNamespace)&&$t.state.enableNetworkSwitch&&!$t.state.allowUnsupportedChain&&!ot.state.wcBasic&&oe.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=Pe.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==oe.state.activeChain,n=oe.getNetworkData(e)?.caipNetwork,r=oe.getCaipNetworkByNamespace(e,n?.id);t&&r&&await oe.switchActiveNetwork(r)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){const n=oe.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=g2e.getProviderId(Pe.activeChain)==="AUTH",s=oe.getAccountData(n)?.address,i=ie.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(s&&e.chainNamespace===n||r&&i){const a=m2e.get(e.chainNamespace);if(!a)throw new Error("Adapter not found");await a.switchNetwork({caipNetwork:e})}oe.setActiveCaipNetwork(e)}catch(a){if(t)throw a}Bn.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){const t=e||Pe.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=Pe.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){const n=Pe.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=Pe.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return Nt.sortRequestedNetworks(n,r).filter(a=>a?.id)},getAllRequestedCaipNetworks(){const e=[];return Pe.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=oe.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){oe.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=oe.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));lt.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const e=[];return Pe.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=oe.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?Pe.chains.get(e)?.networkState?.caipNetwork:Pe.activeCaipNetwork},getActiveCaipAddress(){return Pe.activeCaipAddress},getApprovedCaipNetworkIds(e){return Pe.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){oe.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){const n=t||Pe.activeCaipNetwork?.caipNetworkId,r=oe.getRequestedCaipNetworks(e);return r.length?r?.some(s=>s.caipNetworkId===n):!0},checkIfSupportedChainId(e){return Pe.activeChain?oe.getRequestedCaipNetworks(Pe.activeChain)?.some(n=>n.id===e):!0},checkIfSmartAccountEnabled(){const e=yg.caipNetworkIdToNumber(Pe.activeCaipNetwork?.caipNetworkId);return!Pe.activeChain||!e?!1:!!(Tr.get(Ve.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(e.toString())},showUnsupportedChainUI(){yr.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=Pe.activeCaipNetwork;return!!(e?.chainNamespace&&As.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){oe.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");const n=oe.state.chains.get(t)?.accountState?.preferredAccountType,r=$t.state.defaultAccountTypes[t];Pe.activeCaipAddress=void 0,oe.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),lt.removeConnectorId(t)},setIsSwitchingNamespace(e){Pe.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(Pe.chains.forEach(n=>{ie.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){const n=e[0];return t=n?Pe.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){const t=e||Pe.activeChain;if(t)return oe.state.chains.get(t)?.accountState},getNetworkData(e){const t=e||Pe.activeChain;if(t)return oe.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const n=oe.state.chains.get(e),r=n?.caipNetworks?.find(s=>s.id.toString()===t?.toString());return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=lt.state.filterByNamespace;return(e?[Pe.chains.get(e)]:Array.from(Pe.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?oe.getRequestedCaipNetworks(e):oe.getAllRequestedCaipNetworks()},getCaipNetworkById(e,t){return _j.getCaipNetworks(t).find(n=>n.id.toString()===e.toString()||n.caipNetworkId.toString()===e.toString())},setLastConnectedSIWECaipNetwork(e){Pe.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return Pe.lastConnectedSIWECaipNetwork},async fetchTokenBalance(e){const t=oe.getAccountData();if(!t)return[];const n=oe.state.activeCaipNetwork?.caipNetworkId,r=oe.state.activeCaipNetwork?.chainNamespace,s=oe.state.activeCaipAddress,i=s?Nt.getPlainAddress(s):void 0;if(oe.setAccountProp("balanceLoading",!0,r),t.lastRetry&&!Nt.isAllowedRetry(t.lastRetry,30*As.ONE_SEC_MS))return oe.setAccountProp("balanceLoading",!1,r),[];try{if(i&&n&&r){const a=await ZT.getMyTokensWithBalance();return oe.setAccountProp("tokenBalance",a,r),oe.setAccountProp("lastRetry",void 0,r),oe.setAccountProp("balanceLoading",!1,r),a}}catch(a){oe.setAccountProp("lastRetry",Date.now(),r),e?.(a),Iv.showError("Token Balance Unavailable")}finally{oe.setAccountProp("balanceLoading",!1,r)}return[]},isCaipNetworkDisabled(e){const t=e.chainNamespace,n=!!oe.getAccountData(t)?.caipAddress,r=oe.getAllApprovedCaipNetworkIds(),s=oe.getNetworkProp("supportsAllNetworks",t)!==!1,i=lt.getConnectorId(t),a=lt.getAuthConnector(),c=i===ie.CONNECTOR_ID.AUTH&&a;return!n||s||c?!1:!r?.includes(e.caipNetworkId)}},oe=Kc(_j),w2e={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const n=oe.state.activeCaipNetwork,r=oe.state.activeChain,s=Ht.state.data;if(e.id===n?.id)return;const a=!!oe.getAccountData(r)?.address,c=!!oe.getAccountData(e.chainNamespace)?.address,u=e.chainNamespace!==r,h=lt.getConnectorId(r)===ie.CONNECTOR_ID.AUTH,m=ie.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(g=>g===e.chainNamespace);t||h&&m?Ht.push("SwitchNetwork",{...s,network:e}):a&&u&&!c?Ht.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):Ht.push("SwitchNetwork",{...s,network:e})}},ei=Tt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),E2e={state:ei,subscribe(e){return On(ei,()=>e(ei))},subscribeKey(e,t){return Sn(ei,e,t)},async open(e){const t=e?.namespace,n=oe.state.activeChain,r=t&&t!==n,s=oe.getAccountData(e?.namespace)?.caipAddress,i=oe.state.noAdapters;if(ot.state.wcBasic?gt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await gt.prefetch(),lt.setFilterByNamespace(e?.namespace),yr.setLoading(!0,t),t&&r){const a=oe.getNetworkData(t)?.caipNetwork||oe.getRequestedCaipNetworks(t)[0];a&&(i?(await oe.switchActiveNetwork(a),Ht.push("ConnectingWalletConnectBasic")):w2e.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0}))}else $t.state.manualWCControl||i&&!s?Nt.isMobile()?Ht.reset("AllWallets"):Ht.reset("ConnectingWalletConnectBasic"):e?.view?Ht.reset(e.view,e.data):s?Ht.reset("Account"):Ht.reset("Connect");ei.open=!0,Pc.set({open:!0}),Bn.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const e=$t.state.enableEmbedded,t=!!oe.state.activeCaipAddress;ei.open&&Bn.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),ei.open=!1,Ht.reset("Connect"),yr.clearLoading(),e?t?Ht.replace("Account"):Ht.push("Connect"):Pc.set({open:!1}),ot.resetUri()},setLoading(e,t){t&&ei.loadingNamespaceMap.set(t,e),ei.loading=e,Pc.set({loading:e})},clearLoading(){ei.loadingNamespaceMap.clear(),ei.loading=!1,Pc.set({loading:!1})},shake(){ei.shake||(ei.shake=!0,setTimeout(()=>{ei.shake=!1},500))}},yr=Kc(E2e),tm={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([n,r])=>{t[`${zNe.EIP155}:${n}`]=r}),t},isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const e=oe.state.activeChain;return ie.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>lt.getConnectorId(t)===ie.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:n}){let r=0;return new Promise(s=>{async function i(){return r+=1,await e()?s(!0):r>=n?s(!1):(setTimeout(i,t),null)}i()})},userChainIdToChainNamespace(e){if(typeof e=="number")return ie.CHAIN.EVM;const[t]=e.split(":");return t},getOtherAuthNamespaces(e){return e?ie.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(r=>r!==e):[]},getConnectorStorageInfo(e,t){const r=Me.getConnections()[t]??[];return{hasDisconnected:Me.isConnectorDisconnected(e,t),hasConnected:r.some(s=>tm.isLowerCaseMatch(s.connectorId,e))}}},v2e=new AbortController,Ml={EmbeddedWalletAbortController:v2e,ALERT_ERRORS:{IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."}}},C2e="rpc.walletconnect.org";function o$(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const l5=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],nm={extendRpcUrlWithProjectId(e,t){let n=!1;try{n=new URL(e).host===C2e}catch{n=!1}if(n){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:ie.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${ie.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){const r=e.rpcUrls?.default?.http?.[0];return l5.includes(t)?o$(t,n):r||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){const s=this.getChainNamespace(e),i=this.getCaipNetworkId(e),a=e.rpcUrls?.default?.http?.[0],c=this.getDefaultRpcUrl(e,i,n),u=e?.rpcUrls?.chainDefault?.http?.[0]||a,d=r?.[i]?.map(g=>g.url)||[],h=[...d,...c?[c]:[]],m=[...d];return u&&!m.includes(u)&&m.push(u),{...e,chainNamespace:s,caipNetworkId:i,assets:{imageId:HNe.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:h},chainDefault:{http:m}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){return e.map(s=>nm.extendCaipNetwork(s,{customNetworkImageUrls:t,customRpcUrls:r,projectId:n}))},getViemTransport(e,t,n){const r=[];return n?.forEach(s=>{r.push(b1(s.url,s.config))}),l5.includes(e.caipNetworkId)&&r.push(b1(o$(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(s=>{r.push(b1(s))}),CU(r)},extendWagmiTransports(e,t,n){if(l5.includes(e.caipNetworkId)){const r=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return CU([n,b1(r)])}return n},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:ie.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){const t=Me.getActiveCaipNetworkId(),n=oe.getAllRequestedCaipNetworks(),r=Array.from(oe.state.chains?.keys()||[]),s=t?.split(":")[0],i=s?r.includes(s):!1,a=n?.find(u=>u.caipNetworkId===t);return i&&!a&&t?this.getUnsupportedNetwork(t):a||e||n?.[0]}};class Lh{constructor(){}static getInstance({projectId:t,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:a,getCaipNetworks:c}){const{metadata:u,sdkVersion:d,sdkType:h}=it.getSnapshot();return Lh.instance||(Lh.instance=new T6e({projectId:t,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:a,getCaipNetworks:c,enableCloudAuthAccount:!!it.state.remoteFeatures?.emailCapture,metadata:u,sdkVersion:d,sdkType:h})),Lh.instance}}function _2e(e){let t=[],n,r;function s(c){const u=te.getCaipNetworks(ie.CHAIN.EVM);let d=Number(yg.parseEvmChainId(c));if(!u.some(h=>String(h.id)===String(c))){const h=te.getActiveCaipNetwork(ie.CHAIN.EVM)?.id||u[0]?.id;h&&Number.isInteger(Number(h))&&(d=Number(h))}if(!d)throw new Error("ChainId not found in networks");return d}function i(){return n||(n=Lh.getInstance({projectId:e.options.projectId,chainId:nu()?.caipNetworkId,enableLogger:e.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?fh.open(Ml.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?fh.open(Ml.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&fh.open(Ml.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Ml.EmbeddedWalletAbortController,getActiveCaipNetwork:c=>nu(c),getCaipNetworks:c=>te.getCaipNetworks(c)})),n}async function a(c={}){const u=i();let d=c.chainId;if(c.isReconnecting){const E=yg.parseEvmChainId(u.getLastUsedChainId()||""),A=e.chains?.[0].id;if(d=E||A,!d)throw new Error("ChainId not found in provider")}const h=va("eip155"),{address:m,chainId:g,accounts:w}=await Ac.authConnectorAuthenticate({authConnector:u,chainId:d,preferredAccountType:h,socialUri:c.socialUri,chainNamespace:ie.CHAIN.EVM});t=w?.map(E=>E.address)||[m];const v=s(g);return{accounts:t,account:m,chainId:v,chain:{id:v,unsupported:!1}}}return c=>({id:ie.CONNECTOR_ID.AUTH,name:ie.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:ie.CHAIN.EVM,async connect(u={}){if(r){const h=await r;return{accounts:u.withCapabilities?h.accounts.map(m=>({address:m,capabilities:{}})):h.accounts,chainId:h.chainId}}r||(r=new Promise(h=>{h(a(u))}));const d=await r;return r=void 0,{accounts:u.withCapabilities?d.accounts.map(h=>({address:h,capabilities:{}})):d.accounts,chainId:d.chainId}},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return t?.length?(c.emitter.emit("change",{accounts:t}),Promise.resolve(t)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=Lh.getInstance({projectId:e.options.projectId,chainId:nu()?.caipNetworkId,enableLogger:e.options.enableAuthLogger,abortController:Ml.EmbeddedWalletAbortController,onTimeout:u=>{u==="iframe_load_failed"?fh.open(Ml.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):u==="iframe_request_timeout"?fh.open(Ml.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):u==="unverified_domain"&&fh.open(Ml.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:u=>nu(u),getCaipNetworks:u=>te.getCaipNetworks(u)})),Promise.resolve(this.provider)},async getChainId(){const u=await this.getProvider(),{chainId:d}=await u.getChainId();return s(d)},async isAuthorized(){const d=te.state.activeChain===ie.CHAIN.EVM;if(ie.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(g=>st.getConnectorId(g)===ie.CONNECTOR_ID.AUTH)&&!d)return!1;const m=await this.getProvider();return Promise.resolve(m.getLoginEmailUsed())},async switchChain({chainId:u}){try{const d=c.chains.find(w=>w.id===u);if(!d)throw new Uo(new Error("chain not found on connector."));const h=await this.getProvider(),m=va("eip155"),g=await h.connect({chainId:u,preferredAccountType:m});return t=g?.accounts?.map(w=>w.address)||[g.address],c.emitter.emit("change",{chainId:Number(u),accounts:t}),d}catch(d){throw d instanceof Error?new Uo(d):d}},onAccountsChanged(u){u.length===0?this.onDisconnect():c.emitter.emit("change",{accounts:u.map(vd)})},onChainChanged(u){const d=Number(u);c.emitter.emit("change",{chainId:d})},async onDisconnect(u){await(await this.getProvider()).disconnect()}})}XT.type="walletConnect";function XT(e){const t=e.isNewChainsStale??!0;let n,r,s,i,a,c,u;return d=>({id:"walletConnect",name:"WalletConnect",type:XT.type,provider:e.universalProvider,async setup(){const h=await this.getProvider().catch(()=>null);h&&(i||(i=this.onConnect.bind(this),h.on("connect",i)),c||(c=this.onSessionDelete.bind(this),h.on("session_delete",c)))},async connect({...h}={}){try{const m=te.getCaipNetworks(),g=await this.getProvider();if(!g)throw new jl;a||(a=this.onDisplayUri,g.on("display_uri",a));const w=await this.isChainsStale();g.session&&w&&await g.disconnect();const v=it.state.universalProviderConfigOverride;if(!g.session||w){const S=Mh.createNamespaces(m,v);await g.connect({optionalNamespaces:S,..."pairingTopic"in h?{pairingTopic:h.pairingTopic}:{}}),this.setRequestedChainsIds(m.map(x=>Number(x.id)))}const E=await this.getAccounts(),A=await this.getChainId(),R=g.session?.namespaces?.eip155?.chains,k=R?.some(S=>Number(S.split(":")[1])===A);let I=1;k?I=A:R?.[0]&&(I=Number(R[0].split(":")[1])),a&&(g.removeListener("display_uri",a),a=void 0),i&&(g.removeListener("connect",i),i=void 0),r||(r=this.onAccountsChanged.bind(this),g.on("accountsChanged",r)),s||(s=this.onChainChanged.bind(this),g.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),g.on("disconnect",u)),c||(c=this.onSessionDelete.bind(this),g.on("session_delete",c));const N=v?.defaultChain;return g.setDefaultChain(N??`eip155:${I}`),{accounts:E,chainId:I}}catch(m){throw/(user rejected|connection request reset)/i.test(m?.message)?new Br(m):m}},async disconnect(){const h=await this.getProvider();try{await h?.disconnect()}catch(m){if(!/No matching key/i.test(m.message))throw m}finally{s&&(h?.removeListener("chainChanged",s),s=void 0),u&&(h?.removeListener("disconnect",u),u=void 0),i||(i=this.onConnect.bind(this),h?.on("connect",i)),r&&(h?.removeListener("accountsChanged",r),r=void 0),c&&(h?.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){const h=await this.getProvider();if(!h?.session?.namespaces)return[];const g=h?.session?.namespaces[ie.CHAIN.EVM]?.accounts?.map(E=>E.split(":")[2])??[],w=new Set;return g.filter(E=>{const A=E?.toLowerCase();return w.has(A)?!1:(w.add(A),!0)})},async getProvider({chainId:h}={}){n||(n=e.universalProvider,n?.events.setMaxListeners(Number.POSITIVE_INFINITY));const m=Ue.getActiveNamespace(),g=te.getActiveCaipNetwork()?.id;if(h&&g!==h&&m){const w=Ue.getStoredActiveCaipNetworkId(),E=(m?te.getCaipNetworks(m):[])?.find(A=>A.id===w);E&&E.chainNamespace===ie.CHAIN.EVM&&await this.switchChain?.({chainId:Number(E.id)})}return n},async getChainId(){const h=te.getActiveCaipNetwork(ie.CHAIN.EVM)?.id;if(h)return h;const g=(await this.getProvider()).session?.namespaces[ie.CHAIN.EVM]?.chains?.[0];return te.getCaipNetworks().find(v=>v.id===g)?.id},async isAuthorized(){try{const[h,m]=await Promise.all([this.getAccounts(),this.getProvider()]);return h.length?await this.isChainsStale()&&m.session?(await m.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:h,chainId:m}){const g=await this.getProvider();if(!g)throw new jl;const w=te.getCaipNetworks().find(v=>v.id===m);if(!w)throw new Uo(new mg);try{await g.request({method:"wallet_switchEthereumChain",params:[{chainId:Kt(m)}]}),w?.caipNetworkId&&g.setDefaultChain(w?.caipNetworkId),d.emitter.emit("change",{chainId:Number(m)});const v=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...v,m]),{...w,id:w.id}}catch(v){const E=v;if(/(?:user rejected)/iu.test(E.message))throw new Br(E);try{let A;h?.blockExplorerUrls?A=h.blockExplorerUrls:A=w.blockExplorers?.default.url?[w.blockExplorers?.default.url]:[];const R=w.rpcUrls?.chainDefault?.http||[],k={blockExplorerUrls:A,chainId:Kt(m),chainName:w.name,iconUrls:h?.iconUrls,nativeCurrency:w.nativeCurrency,rpcUrls:R};await g.request({method:"wallet_addEthereumChain",params:[k]});const I=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...I,m]),{...w,id:w.id}}catch(A){throw new Br(A)}}},onAccountsChanged(h){h.length===0?this.onDisconnect():d.emitter.emit("change",{accounts:h.map(m=>vd(m))})},onChainChanged(h){const m=Number(h);d.emitter.emit("change",{chainId:m})},onConnect(h){this.setRequestedChainsIds(te.getCaipNetworks().map(m=>Number(m.id)))},async onDisconnect(h){this.setRequestedChainsIds([]),d.emitter.emit("disconnect");const m=await this.getProvider();r&&(m.removeListener("accountsChanged",r),r=void 0),s&&(m.removeListener("chainChanged",s),s=void 0),u&&(m.removeListener("disconnect",u),u=void 0),c&&(m.removeListener("session_delete",c),c=void 0),i||(i=this.onConnect.bind(this),m.on("connect",i))},onDisplayUri(h){d.emitter.emit("message",{type:"display_uri",data:h})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return n?.session?.namespaces?n?.session?.namespaces[ie.CHAIN.EVM]?.accounts?.map(g=>Number.parseInt(g.split(":")[1]??""))??[]:[]},async getRequestedChainsIds(){const h=await d.storage?.getItem(this.requestedChainsStorageKey)??[];return[...new Set(h)]},async isChainsStale(){if(!t)return!1;const h=d.chains.map(w=>w.id),m=this.getNamespaceChainsIds();if(m.length&&!m.some(w=>h.includes(w)))return!1;const g=await this.getRequestedChainsIds();return!h.every(w=>g.includes(Number(w)))},async setRequestedChainsIds(h){await d.storage?.setItem(this.requestedChainsStorageKey,h)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const V0=Tt({pendingTransactions:0}),c$={state:V0,subscribeKey(e,t){return Sn(V0,e,t)},increase(e){V0[e]+=1},decrease(e){V0[e]-=1},reset(e){V0[e]=0}};async function A2e(e){if(at.isSafeApp()){const{safe:t}=await ir(async()=>{const{safe:n}=await import("./index-Bpl3QlCB.js");return{safe:n}},[]);if(t&&!e.some(n=>n.type==="safe"))return t()}return null}async function S2e(e){try{const{baseAccount:t}=await ir(async()=>{const{baseAccount:n}=await import("./index-Bpl3QlCB.js");return{baseAccount:n}},[]);if(t&&!e.some(n=>n.id==="baseAccount"))return t()}catch(t){console.error("Failed to import Coinbase Wallet SDK:",t)}return null}const N2e={enable:!1,pollingInterval:3e4};class T2e extends LNe{constructor(t){const n=nm.extendCaipNetworks(t.networks,{projectId:t.projectId,customNetworkImageUrls:{},customRpcUrls:t.customRpcUrls});super(),this.balancePromises={},this.namespace=ie.CHAIN.EVM,this.adapterType=ie.ADAPTER_TYPES.WAGMI,this.projectId=t.projectId,this.pendingTransactionsFilter={...N2e,...t.pendingTransactionsFilter??{}},this.createConfig({...t,networks:n}),this.checkChainId()}construct(t){this.checkChainId(),this.setupWatchers()}async getAccounts(t){const n=this.getWagmiConnector(t.id);if(!n)return{accounts:[]};if(n.id===ie.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!i?.user)return{accounts:[]};const{address:a,accounts:c}=i.user;return Promise.resolve({accounts:(c||[{address:a,type:"eoa"}]).map(u=>at.createAccount("eip155",u.address,u.type))})}const{addresses:r,address:s}=pm(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>at.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:t}=pm(this.wagmiConfig);t&&this.emit("switchNetwork",{chainId:t})}getWagmiConnector(t){return this.wagmiConfig.connectors.find(n=>n.id===t)}createConfig(t){this.wagmiChains=t.networks.filter(s=>s.chainNamespace===ie.CHAIN.EVM);const n={},r=[...t.connectors??[]];this.wagmiChains.forEach(s=>{const i=t.transports?.[s.id],a=nm.getCaipNetworkId(s);i?n[s.id]=nm.extendWagmiTransports(s,t.projectId,i):n[s.id]=nm.getViemTransport(s,t.projectId,t.customRpcUrls?.[a])}),this.wagmiConfig=nAe({...t,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=$_e(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),c$.increase("pendingTransactions")}});const t=c$.subscribeKey("pendingTransactions",n=>{n>=ie.LIMITS.PENDING_TRANSACTIONS&&(this.unwatchPendingTransactions?.(),t())})}setupWatchers(){P_e(this.wagmiConfig,{onChange:t=>{this.clearConnections(),this.addConnection(...t.map(n=>{const r=this.getCaipNetworks().find(i=>i.id===n.chainId),s=n.connector.id===ie.CONNECTOR_ID.AUTH;return{accounts:n.accounts.map(i=>({address:this.toChecksummedAddress(i)})),caipNetwork:r,connectorId:n.connector.id,auth:s?{name:Ue.getConnectedSocialProvider(),username:Ue.getConnectedSocialUsername()}:void 0}}))}}),k_e(this.wagmiConfig,{onChange:(t,n)=>{if(t.status==="disconnected"&&n.address&&this.emit("disconnect"),t?.chainId&&t?.chainId!==n?.chainId&&this.emit("switchNetwork",{chainId:t.chainId}),t.status==="connected"){const r=t.address!==n?.address,s=t.connector.id!==n.connector?.id,i=n.status!=="connected";(r||s||i)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:t.address,chainId:t.chainId,connector:t.connector}))}}})}async addThirdPartyConnectors(){const t=[],{enableCoinbase:n}=it.state||{};if(n!==!1){const s=await S2e(this.wagmiConfig.connectors);s&&t.push(s)}const r=await A2e(this.wagmiConfig.connectors);r&&t.push(r),await Promise.all(t.map(s=>{const i=this.configureInternalConnector(s);return this.addWagmiConnector(i)}))}addWagmiConnectors(){const t=[];it.state.enableInjected!==!1&&t.push(Cv({shimDisconnect:!0}));const{features:n,remoteFeatures:r,projectId:s,enableAuthLogger:i}=it.state,a=r?.email??n?.email??!0,c=r?.socials??n?.socials,u=Array.isArray(c)&&c?.length>0;(a||u)&&t.push(_2e({chains:this.wagmiChains,options:{projectId:s,enableAuthLogger:i}})),t.forEach(d=>{this.configureInternalConnector(d)})}configureInternalConnector(t){const n=this.wagmiConfig._internal.connectors.setup(t);return this.wagmiConfig._internal.connectors.setState(r=>[...r,n]),n}async handleAccountChanged({address:t,chainId:n,connector:r}){if(!this.namespace)throw new Error("WagmiAdapter:handleAccountChanged - namespace is required");const s=await r.getProvider().catch(()=>{});this.emit("accountChanged",{address:this.toChecksummedAddress(t),chainId:n,connector:{id:r.id,name:hc.ConnectorNamesMap[r.id]??r.name,imageId:hc.ConnectorImageIds[r.id],type:hc.ConnectorTypesMap[r.type]??"EXTERNAL",info:r.id===ie.CONNECTOR_ID.INJECTED?void 0:{rdns:r.id},provider:s,chain:this.namespace,chains:[]}})}async signMessage(t){try{return{signature:await O_e(this.wagmiConfig,{message:t.message,account:t.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(t){const{chainId:n,address:r}=pm(this.wagmiConfig),s=this.wagmiChains?.find(c=>c.id===n),i={account:r,to:t.to,value:Number.isNaN(Number(t.value))?BigInt(0):BigInt(t.value),gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,data:t.data,chain:s,type:"legacy",parameters:["nonce"]};await T_e(this.wagmiConfig,i);const a=await I_e(this.wagmiConfig,i);return await x_e(this.wagmiConfig,{hash:a,timeout:25e3}),{hash:a}}async writeContract(t){const{caipNetwork:n,...r}=t,s=Number(yg.caipNetworkIdToNumber(n.caipNetworkId)),i=this.wagmiChains?.find(c=>c.id===s);return{hash:await D_e(this.wagmiConfig,{chain:i,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(t){try{return{gas:await S_e(this.wagmiConfig,{account:t.address,to:t.to,data:t.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(t){return o_e(t.value,t.decimals)}formatUnits(t){return of(t.value,t.decimals)}async addWagmiConnector(t){if(!this.namespace)throw new Error("WagmiAdapter:addWagmiConnector - namespace is required");const{enableEIP6963:n}=it.state||{};if(t.type===ie.CONNECTOR_ID.INJECTED&&n===!1||t.id===ie.CONNECTOR_ID.AUTH||t.id===ie.CONNECTOR_ID.WALLET_CONNECT)return;let r;t.id!==ie.CONNECTOR_ID.BASE_ACCOUNT&&(r=await t.getProvider().catch(()=>{}));const s=Li.state.connectorImages;this.addConnector({id:t.id,explorerId:hc.ConnectorExplorerIds[t.id]??hc.ConnectorExplorerIds[t.name],imageUrl:s?.[t.id]??t.icon,name:hc.ConnectorNamesMap[t.id]??t.name,imageId:hc.ConnectorImageIds[t.id],type:hc.ConnectorTypesMap[t.type]??"EXTERNAL",info:t.id===ie.CONNECTOR_ID.INJECTED?void 0:{rdns:t.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(){U_e(this.wagmiConfig,{onChange:t=>{t.forEach(n=>this.addWagmiConnector(n))}}),this.addWagmiConnectors(),await Promise.all(this.wagmiConfig.connectors.map(t=>this.addWagmiConnector(t))),await this.addThirdPartyConnectors()}async syncConnections(){const t=this.connectors.filter(n=>{const{hasDisconnected:r,hasConnected:s}=tm.getConnectorStorageInfo(n.id,this.namespace);return!r&&s}).map(n=>this.getWagmiConnector(n.id)).filter(Boolean);await WS(this.wagmiConfig,{connectors:t})}async syncConnection(t){const{id:n,chainId:r}=t,i=vc(this.wagmiConfig).find(d=>d.connector.id===n),c=await this.getWagmiConnector(n)?.getProvider();if(at.isSafeApp()&&n===ie.CONNECTOR_ID.SAFE&&!i?.accounts.length){const d=this.getWagmiConnector("safe");if(d){const h=await HS(this.wagmiConfig,{connector:d,chainId:Number(r)}),m=await d.getProvider();return{chainId:Number(r),address:this.toChecksummedAddress(h.accounts[0]),provider:m,type:i?.connector.type?.toUpperCase(),id:i?.connector.id}}}return{chainId:Number(i?.chainId),address:this.toChecksummedAddress(i?.accounts[0]),provider:c,type:i?.connector.type?.toUpperCase(),id:i?.connector.id}}async connectWalletConnect(t){try{const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await HS(this.wagmiConfig,{connector:r,chainId:t?Number(t):void 0});return s.chainId!==Number(t)&&await AU(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}catch(n){throw n instanceof Br?new Ad(n):wa.isUserRejectedRequestError(n)?new Ad(n):n}}async connect(t){try{const{id:n,address:r,provider:s,type:i,info:a,chainId:c,socialUri:u}=t,d=this.getWagmiConnector(n);if(!d)throw new Error("connectionControllerClient:connectExternal - connector is undefined");s&&a&&d.id===ie.CONNECTOR_ID.EIP6963&&d.setEip6963Wallet?.({provider:s,info:a});const h=this.wagmiConfig.state?.connections?.get(d.uid);if(h){await this.wagmiConfig.storage?.setItem("recentConnectorId",d.id);const w=[...h.accounts].sort((v,E)=>tm.isLowerCaseMatch(v,r)?-1:tm.isLowerCaseMatch(E,r)?1:0);return this.wagmiConfig?.setState(v=>({...v,connections:new Map(v.connections).set(d.uid,{accounts:w,chainId:h.chainId,connector:h.connector}),current:d.uid,status:"connected"})),{address:this.toChecksummedAddress(w[0]),chainId:h.chainId,provider:s,type:i,id:n}}const m=await HS(this.wagmiConfig,{connector:d,chainId:c?Number(c):void 0,socialUri:u}),g=s??await d.getProvider();return{address:this.toChecksummedAddress(m.accounts[0]),chainId:m.chainId,provider:g,type:i,id:n}}catch(n){throw n instanceof Br?new Ad(n):wa.isUserRejectedRequestError(n)?new Ad(n):n}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(t=>({accounts:t.accounts.map(n=>({address:this.toChecksummedAddress(n)})),connectorId:t.connector.id}))}async reconnect(t){const{id:n}=t,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await WS(this.wagmiConfig,{connectors:[r]})}async getBalance(t){const n=t.address,r=this.getCaipNetworks().find(s=>s.id===t.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${t.address}`,i=this.balancePromises[s];if(i)return i;const a=Ue.getNativeBalanceCacheForCaipAddress(s);return a?{balance:a.balance,symbol:a.symbol}:(this.balancePromises[s]=new Promise(async c=>{try{const u=Number(t.chainId),d=await N_e(this.wagmiConfig,{address:t.address,chainId:u,token:t.tokens?.[r.caipNetworkId]?.address});Ue.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),c({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),c({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){return this.getWagmiConnector("walletConnect")?.provider}async disconnect(t){if(t.id){const n=this.getWagmiConnector(t.id),s=vc(this.wagmiConfig).find(i=>tm.isLowerCaseMatch(i.connector.id,t.id));return await _U(this.wagmiConfig,{connector:n}),it.state.enableReconnect===!1&&this.deleteConnection(t.id),s?{connections:[{accounts:s.accounts.map(i=>({address:this.toChecksummedAddress(i)})),connectorId:s.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){const t=vc(this.wagmiConfig),n=await Promise.allSettled(t.map(async r=>{const s=this.getWagmiConnector(r.connector.id);return s&&await _U(this.wagmiConfig,{connector:s}),r}));return this.wagmiConfig.state.connections.clear(),{connections:n.filter(r=>r.status==="fulfilled").map(({value:r})=>({accounts:r.accounts.map(s=>({address:this.toChecksummedAddress(s)})),connectorId:r.connector.id}))}}async switchNetwork(t){const{caipNetwork:n}=t,r=this.wagmiConfig.chains.find(w=>w.id.toString()===n.id.toString());if(!r)throw new Error("connectionControllerClient:switchNetwork - wagmiChain is undefined");const{name:s,nativeCurrency:i,rpcUrls:a,blockExplorers:c,id:u}=r,d=n.rpcUrls?.chainDefault?.http?.[0]??a.default.http[0]??"",h=c?.default.url??n.blockExplorers?.default?.url??"",m=i??n.nativeCurrency,g=s??n.name;await AU(this.wagmiConfig,{chainId:u,addEthereumChainParameter:{chainName:g,nativeCurrency:m,rpcUrls:[d],blockExplorerUrls:[h]}}),await super.switchNetwork(t)}async getCapabilities(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=vc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");return await i.request({method:"wallet_getCapabilities",params:[t]})}async grantPermissions(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=vc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:t})}async revokePermissions(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=vc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:t})}async walletGetAssets(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=vc(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[t]})}setAuthProvider(t){if(!this.namespace)throw new Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:ie.CONNECTOR_ID.AUTH,type:"AUTH",name:ie.CONNECTOR_NAMES.AUTH,provider:t,imageId:hc.ConnectorImageIds[ie.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(t){t.on("connect",()=>{const r=vc(this.wagmiConfig),s=this.getWagmiConnector("walletConnect");if(s&&!r.find(i=>i.connector.id===s.id)){if(te.state.activeChain==="eip155")return;WS(this.wagmiConfig,{connectors:[s]})}});const n=XT({universalProvider:t});return this.configureInternalConnector(n),this.addConnector(new BNe({provider:t,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}toChecksummedAddress(t){return ty(t.toLowerCase())}}const Aj="6ada14d4e40d08d278a39c212bf50ce9",Sj={id:295,chainNamespace:"eip155",name:"Hedera Mainnet",nativeCurrency:{decimals:18,name:"HBAR",symbol:"HBAR"},rpcUrls:{default:{http:["https://mainnet.hashio.io/api"]}},blockExplorers:{default:{name:"HashScan",url:"https://hashscan.io/mainnet"}}},Nj=[Sj],Tj=new T2e({networks:Nj,projectId:Aj});J1e({adapters:[Tj],networks:Nj,projectId:Aj,defaultNetwork:Sj,metadata:{name:"NutriChain DApp",description:"Nutrition-powered blockchain rewards",url:"https://www.nutrichain.org",icons:["https://ipfs.io/ipfs/bafkreib62hwjjjajciix7mdzb4eygsxfkjr3ryl3mgytn3iusnuvi5wbji"]}});const I2e=["0x66f7f455d7de87d25cade63ea8aaa6321df2c9dc","0x1111111111111111111111111111111111111111","0x2222222222222222222222222222222222222222"];var Ij={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l$=su.createContext&&su.createContext(Ij),O2e=["attr","size","title"];function R2e(e,t){if(e==null)return{};var n=x2e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function x2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OE.apply(this,arguments)}function u$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function RE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u$(Object(n),!0).forEach(function(r){k2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k2e(e,t,n){return t=P2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P2e(e){var t=U2e(e,"string");return typeof t=="symbol"?t:t+""}function U2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oj(e){return e&&e.map((t,n)=>su.createElement(t.tag,RE({key:n},t.attr),Oj(t.child)))}function JT(e){return t=>su.createElement($2e,OE({attr:RE({},e.attr)},t),Oj(e.child))}function $2e(e){var t=n=>{var{attr:r,size:s,title:i}=e,a=R2e(e,O2e),c=s||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),su.createElement("svg",OE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:RE(RE({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&su.createElement("title",null,i),e.children)};return l$!==void 0?su.createElement(l$.Consumer,null,n=>t(n)):t(Ij)}function D2e(e){return JT({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(e)}function M2e(e){return JT({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"},child:[]}]})(e)}function L2e(e){return JT({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(e)}function B2e(){const{address:e,isConnected:t}=GY(),{connect:n}=YY(),{disconnect:r}=XY(),[s,i]=Gt.useState(""),[a,c]=Gt.useState(1),[u,d]=Gt.useState(""),[h,m]=Gt.useState([]),[g,w]=Gt.useState(""),[v,E]=Gt.useState(""),{data:A,writeContract:R,isPending:k}=QY(),{isLoading:I,isSuccess:N}=JY({hash:A}),S=Gt.useMemo(()=>t&&I2e.some(P=>P.toLowerCase()===e?.toLowerCase()),[t,e]);Gt.useEffect(()=>{if(N){const P={id:s,meals:a,loc:u,time:new Date().toLocaleTimeString(),tx:A.slice(0,10)+"..."};m([P,...h.slice(0,4)]),E("Proof anchored on Hedera!"),i(""),c(1),d("")}},[N]);const x=async P=>{P.preventDefault(),w(""),E("");try{const L=JSON.stringify({id:s,meals:a,location:u,date:new Date().toISOString()});R({address:"0x00000000000000000000000000000000009bd54f",abi:[{inputs:[{internalType:"string",name:"data",type:"string"}],name:"logProof",outputs:[],stateMutability:"nonpayable",type:"function"}],functionName:"logProof",args:[L]})}catch{w("Failed to initiate transaction.")}};return St.jsxs("div",{className:"App",style:{background:"#020617",minHeight:"100vh",display:"flex",flexDirection:"column",color:"#fff",padding:"0 25px"},children:[St.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"80px"},children:[St.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[St.jsx("img",{src:"./logo-nutrichain.png",alt:"Logo",style:{width:"38px",height:"38px",borderRadius:"50%"}}),St.jsxs("div",{children:[St.jsx("h1",{style:{fontSize:"18px",fontWeight:"bold",margin:0},children:"Validators Hub"}),St.jsx("div",{style:{fontSize:"10px",color:"#22c55e",textTransform:"uppercase"},children:" Hedera Mainnet"})]})]}),St.jsx("button",{onClick:()=>t?r():n({connector:C2()}),style:{padding:"10px 20px",background:t?"rgba(255,255,255,0.05)":"#22c55e",border:"none",color:"#fff",borderRadius:"8px",cursor:"pointer"},children:t?e.slice(0,6)+"..."+e.slice(-4):"Connect Wallet"})]}),St.jsx("main",{style:{flex:1,padding:"40px 0",maxWidth:"800px",margin:"0 auto",width:"100%"},children:t&&S?St.jsxs(St.Fragment,{children:[St.jsxs("form",{onSubmit:x,style:{background:"rgba(255,255,255,0.02)",padding:"30px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",marginBottom:"40px"},children:[St.jsx("h2",{style:{fontSize:"20px",marginBottom:"20px"},children:"New Proof of Distribution"}),St.jsx("input",{type:"text",placeholder:"Beneficiary ID",value:s,onChange:P=>i(P.target.value),style:{width:"100%",padding:"12px",background:"#0f172a",border:"1px solid #334155",borderRadius:"8px",color:"#fff",marginBottom:"15px"},required:!0}),St.jsx("input",{type:"text",placeholder:"Location (City, Country)",value:u,onChange:P=>d(P.target.value),style:{width:"100%",padding:"12px",background:"#0f172a",border:"1px solid #334155",borderRadius:"8px",color:"#fff",marginBottom:"15px"},required:!0}),St.jsx("input",{type:"number",placeholder:"Quantity",value:a,onChange:P=>c(P.target.value),style:{width:"100%",padding:"12px",background:"#0f172a",border:"1px solid #334155",borderRadius:"8px",color:"#fff",marginBottom:"20px"},required:!0}),St.jsx("button",{type:"submit",disabled:k||I,style:{width:"100%",padding:"15px",background:"#22c55e",borderRadius:"8px",fontWeight:"bold",color:"#fff",cursor:"pointer"},children:k?"Sign in Wallet...":I?"Anchoring...":"Sign & Send Proof"}),v&&St.jsx("p",{style:{color:"#22c55e",marginTop:"10px",textAlign:"center"},children:v})]}),St.jsxs("div",{style:{background:"rgba(255,255,255,0.01)",borderRadius:"16px",padding:"20px",border:"1px solid rgba(255,255,255,0.05)"},children:[St.jsx("h3",{style:{fontSize:"14px",color:"#9ca3af",marginBottom:"15px"},children:"Recent Session Activity"}),St.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[St.jsx("thead",{children:St.jsxs("tr",{style:{color:"#4b5563",borderBottom:"1px solid #1e293b",textAlign:"left"},children:[St.jsx("th",{style:{padding:"10px"},children:"ID"}),St.jsx("th",{children:"Location"}),St.jsx("th",{children:"Qty"}),St.jsx("th",{children:"TX Hash"})]})}),St.jsx("tbody",{children:h.map((P,L)=>St.jsxs("tr",{style:{borderBottom:"1px solid #0f172a"},children:[St.jsx("td",{style:{padding:"10px"},children:P.id}),St.jsx("td",{children:P.loc}),St.jsx("td",{children:P.meals}),St.jsx("td",{style:{color:"#22c55e",fontFamily:"monospace"},children:P.tx})]},L))})]}),h.length===0&&St.jsx("p",{style:{textAlign:"center",color:"#374151",padding:"20px"},children:"No transactions this session."})]})]}):St.jsx("p",{style:{textAlign:"center",color:"#9ca3af"},children:"Please connect an authorized validator wallet."})}),St.jsxs("footer",{style:{height:"60px",borderTop:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"10px",color:"#4b5563"},children:[St.jsx("span",{children:" 2026 NUTRICHAIN PROTOCOL."}),St.jsxs("div",{style:{display:"flex",gap:"15px",fontSize:"16px"},children:[St.jsx(L2e,{})," ",St.jsx(M2e,{})," ",St.jsx(D2e,{})]})]})]})}const F2e=new yY;sq.createRoot(document.getElementById("root")).render(St.jsx(su.StrictMode,{children:St.jsx(qK,{config:Tj.wagmiConfig,children:St.jsx(NY,{client:F2e,children:St.jsx(B2e,{})})})}));export{Hd as $,ewe as A,N7 as B,FEe as C,ST as D,twe as E,nwe as F,rwe as G,jxe as H,s3e as I,zxe as J,T7 as K,Hxe as L,swe as M,I7 as N,nE as O,iwe as P,qxe as Q,Wxe as R,UEe as S,wN as T,LEe as U,O7 as V,cwe as W,owe as X,lwe as Y,uwe as Z,Vxe as _,i3e as a,cg as a$,Ce as a0,IF as a1,SN as a2,ove as a3,cve as a4,lF as a5,a3e as a6,_ve as a7,Ave as a8,Sve as a9,MT as aA,dU as aB,pg as aC,hg as aD,fg as aE,og as aF,ug as aG,Vd as aH,rp as aI,tg as aJ,Qm as aK,rg as aL,ip as aM,eg as aN,Cd as aO,Jm as aP,ag as aQ,Vi as aR,ng as aS,uu as aT,Ei as aU,Uo as aV,sp as aW,sg as aX,dg as aY,Ove as aZ,lg as a_,Nve as aa,Tve as ab,hF as ac,x7 as ad,R7 as ae,k7 as af,fwe as ag,hwe as ah,pwe as ai,yCe as aj,TF as ak,jT as al,wCe as am,_d as an,oE as ao,IN as ap,kN as aq,PN as ar,UN as as,xN as at,ON as au,RN as av,cE as aw,$N as ax,yv as ay,hm as az,MEe as b,hv as b$,ig as b0,Br as b1,gve as b2,yve as b3,o3e as b4,wve as b5,c3e as b6,Eve as b7,dF as b8,fF as b9,Zwe as bA,mv as bB,bu as bC,wp as bD,dwe as bE,lu as bF,Hr as bG,aE as bH,W7 as bI,Vwe as bJ,Id as bK,Gwe as bL,Kwe as bM,Bc as bN,Ywe as bO,ep as bP,Xxe as bQ,qd as bR,mwe as bS,wwe as bT,ko as bU,Ewe as bV,U7 as bW,pv as bX,P7 as bY,mi as bZ,Kt as b_,vve as ba,A_e as bb,a_e as bc,gv as bd,hve as be,KCe as bf,ive as bg,V7 as bh,wF as bi,cF as bj,UT as bk,ZCe as bl,ave as bm,ty as bn,vd as bo,Po as bp,GCe as bq,PF as br,UF as bs,kCe as bt,xCe as bu,MCe as bv,DCe as bw,n_e as bx,lve as by,np as bz,DEe as c,Es as c$,rE as c0,hCe as c1,xve as c2,E3e as c3,RF as c4,FF as c5,w3e as c6,Ev as c7,OF as c8,S3e as c9,vo as cA,vRe as cB,_Re as cC,ERe as cD,Vt as cE,de as cF,vZ as cG,K9 as cH,pt as cI,ARe as cJ,us as cK,ls as cL,Xr as cM,Rxe as cN,kxe as cO,Pxe as cP,K1 as cQ,Cxe as cR,q1e as cS,Kl as cT,Ta as cU,ut as cV,Ie as cW,ue as cX,Fi as cY,wr as cZ,JQ as c_,jF as ca,wv as cb,Qve as cc,Qg as cd,RCe as ce,aF as cf,kT as cg,sve as ch,PT as ci,qCe as cj,uE as ck,zF as cl,fCe as cm,dCe as cn,Ca as co,ry as cp,LCe as cq,$T as cr,fi as cs,of as ct,o_e as cu,Jn as cv,CRe as cw,V as cx,Ot as cy,Re as cz,$Ee as d,ICe as d$,k2 as d0,ve as d1,N3e as d2,mg as d3,ir as d4,jl as d5,Cv as d6,DT as d7,rCe as d8,nn as d9,tTe as dA,k$ as dB,$E as dC,nw as dD,dq as dE,mq as dF,j2e as dG,CV as dH,fu as dI,mm as dJ,Ae as dK,h2 as dL,Ka as dM,AV as dN,gG as dO,zh as dP,rm as dQ,du as dR,D7 as dS,Jxe as dT,NT as dU,Zm as dV,iE as dW,tp as dX,sE as dY,e3e as dZ,Qxe as d_,V9 as da,si as db,yu as dc,Uxe as dd,dve as de,Am as df,ye as dg,_xe as dh,Bi as di,ym as dj,jq as dk,QD as dl,Fq as dm,WD as dn,Xwe as dp,n3e as dq,Xe as dr,Qe as ds,rw as dt,u2 as du,Rd as dv,pTe as dw,P$ as dx,d2 as dy,rTe as dz,PEe as e,f3e as e$,Us as e0,Le as e1,IQ as e2,vs as e3,Sm as e4,Lr as e5,Ft as e6,om as e7,y6 as e8,ga as e9,Lxe as eA,$xe as eB,Mxe as eC,Dxe as eD,Sa as eE,bv as eF,Jve as eG,cCe as eH,BF as eI,t3e as eJ,$Ce as eK,_3e as eL,PCe as eM,A3e as eN,NF as eO,ey as eP,zwe as eQ,ap as eR,Ic as eS,d3e as eT,yF as eU,h3e as eV,Hve as eW,p3e as eX,m3e as eY,F0 as eZ,Mve as e_,zr as ea,qn as eb,SZ as ec,Iw as ed,Oc as ee,ya as ef,xxe as eg,Y9 as eh,Wc as ei,L1 as ej,g7 as ek,pN as el,Jh as em,HEe as en,tve as eo,eF as ep,Va as eq,Wd as er,r3e as es,LT as et,jve as eu,vp as ev,TN as ew,g3e as ex,zve as ey,Kn as ez,jEe as f,BE as f$,VCe as f0,HF as f1,Xve as f2,Gve as f3,CF as f4,BT as f5,y3e as f6,gEe as f7,Bxe as f8,dE as f9,Pd as fA,GTe as fB,zTe as fC,DV as fD,hi as fE,s2 as fF,PE as fG,E$ as fH,m2 as fI,eG as fJ,hp as fK,$5 as fL,$Ie as fM,tG as fN,Y$ as fO,or as fP,gV as fQ,zV as fR,EV as fS,W2e as fT,gm as fU,z2e as fV,Sd as fW,q2e as fX,H2e as fY,$g as fZ,on as f_,qF as fa,op as fb,JCe as fc,c_e as fd,r_e as fe,EF as ff,l3e as fg,f_e as fh,u_e as fi,d_e as fj,h_e as fk,qT as fl,BS as fm,vCe as fn,BCe as fo,v3e as fp,xF as fq,C3e as fr,HT as fs,FCe as ft,lCe as fu,QW as fv,dV as fw,j$ as fx,HTe as fy,qa as fz,Ep as g,pK as g$,Qa as g0,LE as g1,dG as g2,uTe as g3,mV as g4,ZG as g5,xd as g6,aTe as g7,cTe as g8,vTe as g9,uG as gA,n2 as gB,eD as gC,aG as gD,PD as gE,kG as gF,g2 as gG,ME as gH,DIe as gI,NW as gJ,Bh as gK,cG as gL,Oo as gM,_G as gN,RD as gO,UV as gP,$Te as gQ,V2e as gR,$V as gS,G2e as gT,HIe as gU,W5 as gV,qh as gW,hK as gX,sw as gY,lK as gZ,mIe as g_,oq as ga,Qq as gb,wTe as gc,Jr as gd,rK as ge,MD as gf,G0 as gg,r2 as gh,oW as gi,jTe as gj,yTe as gk,I$ as gl,Hh as gm,Sc as gn,RIe as go,ID as gp,kIe as gq,nG as gr,PIe as gs,UIe as gt,b0 as gu,ZV as gv,xIe as gw,nK as gx,e9 as gy,i3 as gz,BEe as h,j5 as h$,mK as h0,gK as h1,ZD as h2,rA as h3,PG as h4,YG as h5,oOe as h6,jD as h7,cOe as h8,E2 as h9,lq as hA,uq as hB,m$ as hC,pq as hD,hq as hE,gq as hF,BD as hG,g5 as hH,bV as hI,wV as hJ,Z$ as hK,MV as hL,LV as hM,y$ as hN,g$ as hO,b$ as hP,bq as hQ,wq as hR,Eq as hS,IG as hT,LD as hU,y2 as hV,RG as hW,fd as hX,ow as hY,D5 as hZ,F5 as h_,TK as ha,ZW as hb,GW as hc,VW as hd,WW as he,HW as hf,XW as hg,fp as hh,YW as hi,V$ as hj,qW as hk,KW as hl,jW as hm,v2 as hn,IK as ho,O3 as hp,OK as hq,$b as hr,Rb as hs,lG as ht,mG as hu,SV as hv,NV as hw,aq as hx,a3 as hy,cq as hz,xEe as i,iW as i$,z5 as i0,B5 as i1,M5 as i2,L5 as i3,cw as i4,H5 as i5,p2 as i6,b3 as i7,P5 as i8,k5 as i9,ri as iA,TV as iB,IV as iC,RV as iD,xV as iE,J$ as iF,Q$ as iG,kV as iH,xK as iI,yV as iJ,UE as iK,HD as iL,qD as iM,HG as iN,zG as iO,GG as iP,VG as iQ,oK as iR,aW as iS,dp as iT,yq as iU,iu as iV,x$ as iW,nW as iX,rW as iY,sW as iZ,Uc as i_,x5 as ia,N5 as ib,O5 as ic,wm as id,E5 as ie,b5 as ig,C5 as ih,aw as ii,w5 as ij,K0 as ik,y5 as il,S5 as im,qi as io,v5 as ip,Th as iq,yi as ir,Em as is,iw as it,_5 as iu,R5 as iv,FV as iw,I5 as ix,T5 as iy,A5 as iz,YF as j,vq as j0,Sq as j1,Nq as j2,w$ as j3,AG as j4,b2 as j5,FD as j6,fG as j7,jG as j8,G$ as j9,pV as ja,eK as jb,uw as jc,XD as jd,CG as je,KG as jf,f2 as jg,ui as jh,DE as ji,za as jj,Ow as jk,zm as jl,Ql as jm,yh as jn,eee as jo,WT as jp,G_e as jq,ny as jr,d$ as js,sNe as jt,v9 as ju,X0 as jv,VT as k,v_e as l,CU as m,b1 as n,eu as o,iF as p,Fxe as q,J4 as r,C_e as s,Yve as t,Zve as u,b3e as v,nCe as w,pve as x,mve as y,Q4 as z};
